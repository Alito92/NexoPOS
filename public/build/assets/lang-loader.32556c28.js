class c{constructor(){this.languages={},this.scripts=[],this.callbacks=[],this.loadJson()}loadJson(){const s=[];s.push(this.fetchLang("NexoPOS",ns.langFiles));for(let t in ns.langFiles)t!=="NexoPOS"&&s.push(this.fetchLang(t,ns.langFiles));Promise.all(s).then(()=>{this.loadReadyScripts(),this.loadReadyCallbacks()})}fetchLang(s,t){return new Promise((e,r)=>{const a=new XMLHttpRequest;a.onreadystatechange=n=>{if(n.target.readyState==4&&n.target.status==200){const i=JSON.parse(a.responseText);for(let l in i)this.languages[s]===void 0&&(this.languages[s]=new Object),this.languages[s][l]=i[l];e(this.languages)}},a.open("GET",t[s],!0),a.send()})}loadReadyScripts(){const s=this.scripts;for(let t=0;t<s.length;t++){const e=document.createElement("script");e.type="text/javascript",e.src=s[t],document.body.appendChild(e)}}loadReadyCallbacks(){this.callbacks.forEach(s=>s())}onReadyCallback(s){this.callbacks.push(s)}onReadyScript(s){s.length!==void 0?this.scripts.push(...s):this.scripts.push(s)}getEntries(s){return this.languages[s]||!1}}window.nsLanguage=new c;
