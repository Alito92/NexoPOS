import v from"./ns-alert-popup.98b34a4a.js";import P from"./ns-pos-confirm-popup.6352ee90.js";import w from"./ns-media.56e6d45d.js";import{n as x,a as g}from"./ns-orders-preview-popup.f77d9ec1.js";import y from"./ns-pos-loading-popup.136099e6.js";import{n as Q}from"./ns-procurement-quantity.8df89f2b.js";import"./currency.ec2e3443.js";import{b as C}from"./bootstrap.ce8e0264.js";import{_ as k}from"./lang.2d0006f0.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";import{b8 as c,b1 as n,aA as d,aB as t,ao as s,x as p,br as u,K as V,b6 as U,az as l,ay as q}from"./runtime-core.esm-bundler.d70d6a40.js";import A from"./ns-prompt-popup.b91e58a9.js";import{n as B}from"./ns-notice.cd816d9e.js";import"./runtime-dom.esm-bundler.672daa05.js";import"./vue-upload-component.9d9b1493.js";import"./vue.runtime.esm-bundler.4d73455d.js";import"./ns-numpad.5d6ab815.js";import"./index.es.f7e98ba1.js";const S={name:"ns-products-preview",computed:{product(){return this.$popupParams.product}},methods:{__:k,changeActiveTab(e){this.active=e,this.active==="units-quantities"&&this.loadProductQuantities()},loadProductQuantities(){this.hasLoadedUnitQuantities=!1,C.get(`/api/nexopos/v4/products/${this.product.id}/units/quantities`).subscribe(e=>{this.unitQuantities=e,this.hasLoadedUnitQuantities=!0})}},data(){return{active:"units-quantities",unitQuantities:[],hasLoadedUnitQuantities:!1}},mounted(){this.loadProductQuantities(),this.$popup.event.subscribe(e=>{e.event==="click-overlay"&&this.$popup.close()})}},O={class:"shadow-lg w-6/7-screen lg:w-3/5-screen h-6/7-screen lg:h-4/5-screen ns-box overflow-hidden flex flex-col"},N={class:"p-2 border-b ns-box-header text-primary text-center font-medium flex justify-between items-center"},z={class:"flex-auto overflow-y-auto ns-box-body"},T={class:"p-2"},j={key:0,class:"table ns-table w-full"},D={class:"p-1 border"},E={width:"150",class:"text-right p-1 border"},F={width:"150",class:"text-right p-1 border"},H={width:"150",class:"text-right p-1 border"},K={class:"p-1 border text-left"},M={class:"p-1 border text-right"},R={class:"p-1 border text-right"},W={class:"p-1 border text-right"};function G(e,r,J,X,a,o){const m=c("ns-close-button"),h=c("ns-spinner"),b=c("ns-tabs-item"),f=c("ns-tabs");return n(),d("div",O,[t("div",N,[t("div",null,s(o.__("Previewing :"))+" "+s(o.product.name),1),t("div",null,[p(m,{onClick:r[0]||(r[0]=i=>e.$popup.close())})])]),t("div",z,[t("div",T,[p(f,{active:a.active,onActive:r[1]||(r[1]=i=>o.changeActiveTab(i))},{default:u(()=>[p(b,{label:o.__("Units & Quantities"),identifier:"units-quantities"},{default:u(()=>[a.hasLoadedUnitQuantities?(n(),d("table",j,[t("thead",null,[t("tr",null,[t("th",D,s(o.__("Unit")),1),t("th",E,s(o.__("Sale Price")),1),t("th",F,s(o.__("Wholesale Price")),1),t("th",H,s(o.__("Quantity")),1)])]),t("tbody",null,[(n(!0),d(V,null,U(a.unitQuantities,i=>(n(),d("tr",{key:i.id},[t("td",K,s(i.unit.name),1),t("td",M,s(e.nsCurrency(i.sale_price)),1),t("td",R,s(e.nsCurrency(i.wholesale_price)),1),t("td",W,s(i.quantity),1)]))),128))])])):l("",!0),a.hasLoadedUnitQuantities?l("",!0):(n(),q(h,{key:1,size:"16",border:"4"}))]),_:1},8,["label"])]),_:1},8,["active"])])])])}var I=L(S,[["render",G]]);const _={nsOrderPreview:x,nsProductPreview:I,nsAlertPopup:v,nsConfirmPopup:P,nsPromptPopup:A,nsMediaPopup:w,nsProcurementQuantity:Q,nsOrdersRefund:g,nsSelectPopup:B,nsPOSLoadingPopup:y};for(let e in _)window[e]=_[e];
