import ee from"./ns-alert-popup.f86a9d3e.js";import{_ as p}from"./lang.2d0006f0.js";import{n as te}from"./ns-avatar-image.7eb56864.js";import{_ as x}from"./plugin-vue_export-helper.21dcd24c.js";import{b1 as l,aA as r,aB as i,ao as u,y as O,b8 as C,b7 as m,az as d,al as b,L as _,b6 as k,bt as S,aF as g,ay as M,br as w,an as se,s as V,ba as L,aq as ie}from"./runtime-core.esm-bundler.aa7a54f6.js";import{h as v,n as T,F as q,p as ne,a as le,P as H,b as F,c as re,d as P,S as ae}from"./bootstrap.673b86ff.js";import{v as E,a as A,b as N}from"./runtime-dom.esm-bundler.68a12c3b.js";import{D as U,d as de,n as B,a as oe}from"./vue-upload-component.1d25656a.js";import z from"./ns-pos-confirm-popup.c7422d7d.js";import{n as ue,a as ce}from"./ns-notice.ff8c2932.js";import he from"./ns-media.e108fd59.js";import{n as fe}from"./ns-numpad.287f1840.js";import{n as me}from"./ns-numpad-plus.349ecede.js";import be from"./ns-pos-loading-popup.4b0b1afb.js";import{n as ge}from"./ns-paginate.78ee5ec7.js";import _e from"./ns-prompt-popup.c09b192c.js";const ve={methods:{__:p},components:{nsAvatarImage:te},name:"ns-avatar",data(){return{svg:""}},computed:{avatarUrl(){return this.url.length===0?"":this.url}},props:["url","display-name"]},ye={class:"flex justify-between items-center flex-shrink-0"},pe={class:"hidden md:inline-block px-2"},ke={class:"md:hidden px-2"},xe={class:"px-2"},we={class:"overflow-hidden rounded-full bg-gray-600"};function Ce(e,t,s,f,c,n){const a=C("ns-avatar-image");return l(),r("div",ye,[i("span",pe,u(n.__("Howdy, {name}").replace("{name}",this.displayName)),1),i("span",ke,u(e.displayName),1),i("div",xe,[i("div",we,[O(a,{url:n.avatarUrl,name:e.displayName},null,8,["url","name"])])])])}var $e=x(ve,[["render",Ce]]);const De={data:()=>({clicked:!1,_save:0}),props:["type","disabled","link","href","routerLink","to","target"],mounted(){},computed:{isDisabled(){return this.disabled&&(this.disabled.length===0||this.disabled==="disabled"||this.disabled)}}},Te=["disabled"],Me=["target","href"];function Oe(e,t,s,f,c,n){return l(),r("div",{class:b(["flex ns-button",s.type?s.type:"default"])},[!s.link&&!s.href?(l(),r("button",{key:0,disabled:n.isDisabled,class:"flex rounded items-center cursor-pointer py-2 px-3 font-semibold"},[m(e.$slots,"default")],8,Te)):d("",!0),s.href?(l(),r("a",{key:1,target:s.target,href:s.href,class:"flex rounded items-center cursor-pointer py-2 px-3 font-semibold"},[m(e.$slots,"default")],8,Me)):d("",!0)],2)}var Se=x(De,[["render",Oe]]);const Ee={name:"ns-calendar",props:["date","field","visible","range","selected-range","side"],data(){return{calendar:[[]],currentDay:v(),daysOfWeek:new Array(7).fill("").map((e,t)=>t),hours:0,minutes:0,currentView:"days",clickedOnCalendar:!1,moment:v,months:new Array(12).fill("").map((e,t)=>t)}},computed:{momentCopy(){return v()}},beforeUnmount(){document.removeEventListener("click",this.checkClickedItem)},mounted(){document.addEventListener("click",this.checkClickedItem),this.currentDay=[void 0,null,""].includes(this.date)?v():v(this.date),this.hours=this.currentDay.hours(),this.minutes=this.currentDay.minutes(),this.build()},methods:{__:p,handleCalendarClick(){this.clickedOnCalendar=!0},getDayClass({day:e,_dayIndex:t,dayOfWeek:s,_index:f,currentDay:c}){const n=[];return(v(this.date).isSame(e.date,"day")||this.isRangeEdge(e))&&!this.isInvalidRange()?n.push("bg-info-secondary text-primary border-info-secondary text-white"):n.push("hover:bg-numpad-hover"),this.isInvalidRange()&&this.isRangeEdge(e)&&n.push("bg-error-secondary text-white"),f===0&&n.push("border-t border-tab-table-th"),this.isInRange(e)&&!this.isRangeEdge(e)?n.push("bg-info-primary"):e.isDifferentMonth&&!this.isRangeEdge(e)&&n.push("bg-tab-table-th"),n.join(" ")},erase(){this.selectDate()},isInRange(e){return this.range&&this.range.length===2&&this.range[0]&&this.range[1]?v(e.date).isSameOrAfter(this.range[0])&&v(e.date).isSameOrBefore(this.range[1]):!1},isInvalidRange(){return this.selectedRange&&this.selectedRange.endDate?v(this.selectedRange.startDate).isAfter(v(this.selectedRange.endDate))||v(this.selectedRange.endDate).isBefore(v(this.selectedRange.startDate)):!1},isRangeEdge(e){return this.range&&this.range.length===2&&this.range[0]&&this.range[1]?v(e.date).isSame(this.range[0],"day")||v(e.date).isSame(this.range[1],"day"):!1},setYear(e){parseInt(e.srcElement.value)>0&&parseInt(e.srcElement.value)<9999&&(this.currentDay.year(e.srcElement.value),this.selectDate({date:this.currentDay.clone()}))},subYear(){parseFloat(this.currentDay.format("YYYY"))>0&&(this.currentDay.subtract(1,"year"),this.selectDate({date:this.currentDay.clone()}))},addYear(){this.currentDay.add(1,"year"),this.selectDate({date:this.currentDay.clone()})},toggleView(e){this.currentView=e,this.currentView==="years"&&setTimeout(()=>{this.$refs.year.select()},100)},setMonth(e){this.currentDay.month(e),this.selectDate({date:this.currentDay.clone()})},detectHoursChange(){parseFloat(this.hours)<0&&(this.hours=0),parseFloat(this.hours)>23&&(this.hours=23),this.selectDate({date:this.currentDay.clone()})},detectMinuteChange(){parseFloat(this.minutes)<0&&(this.minutes=0),parseFloat(this.minutes)>59&&(this.minutes=59),this.selectDate({date:this.currentDay.clone()})},checkClickedItem(e){this.$parent.$el.getAttribute("class").split(" ").includes("picker")&&(!this.$parent.$el.contains(e.srcElement)&&!this.clickedOnCalendar&&this.visible&&this.$emit("onClickOut",!0),setTimeout(()=>{this.clickedOnCalendar=!1},100))},selectDate(e){if([void 0].includes(e))this.$emit("set",null);else{if(this.side==="left"&&v(this.selectedRange.endDate).isValid()&&e.date.isAfter(this.selectedRange.endDate))return T.error(p("The left range will be invalid.")).subscribe(),!1;if(this.side==="right"&&v(this.selectedRange.startDate).isValid()&&e.date.isBefore(this.selectedRange.startDate))return T.error(p("The right range will be invalid.")).subscribe(),!1;this.currentDay=e.date,this.currentDay.hours(this.hours),this.currentDay.minutes(this.minutes),this.$emit("set",this.currentDay.format("YYYY-MM-DD HH:mm:ss"))}this.build()},subMonth(){this.currentDay.subtract(1,"month"),this.build()},addMonth(){this.currentDay.add(1,"month"),this.build()},resetCalendar(){this.calendar=[[]]},build(){this.resetCalendar(),this.currentDay.clone().startOf("month");const e=this.currentDay.clone().startOf("month"),t=this.currentDay.clone().endOf("month");for(;;){e.day()===0&&this.calendar[0].length>0&&this.calendar.push([]);let s=this.calendar.length-1;if(this.calendar[s].push({date:e.clone(),dayOfWeek:e.day(),isToday:e.isSame(v.now(),"day"),isDifferentMonth:!1,isNextMonth:!1,isPreviousMonth:!1}),e.isSame(t,"day"))break;e.add(1,"day")}if(this.calendar[0].length<7){const s=7-this.calendar[0].length,f=this.calendar[0][0].date.clone(),c=[];for(let n=0;n<s;n++)f.subtract(1,"day"),c.unshift({date:f.clone(),dayOfWeek:f.day(),isToday:f.isSame(v.now(),"day"),isDifferentMonth:!0,isNextMonth:!1,isPreviousMonth:!0});this.calendar[0].unshift(...c)}if(this.calendar[this.calendar.length-1].length<7){const s=this.calendar.length-1,f=7-this.calendar[s].length,c=this.calendar[s][this.calendar[s].length-1].date.clone(),n=[];for(let a=0;a<f;a++)c.add(1,"day"),n.push({date:c.clone(),dayOfWeek:c.day(),isToday:c.isSame(v.now(),"day"),isDifferentMonth:!0,isNextMonth:!0,isPreviousMonth:!1});this.calendar[s].push(...n)}}}},je={key:0,class:"flex-auto"},Fe={class:"p-2 flex items-center"},He=i("i",{class:"las la-angle-left"},null,-1),Pe=[He],Ae={class:"flex flex-auto font-semibold text-primary justify-center"},Re=i("i",{class:"las la-angle-right"},null,-1),Ve=[Re],Ye={class:"h-32 flex grow-0 items-center justify-center text-primary p-4"},Le={class:"rounded input-group info border-2 flex overflow-hidden"},qe=i("i",{class:"las la-minus"},null,-1),Ne=[qe],Ue={class:"w-24 flex grow-0"},Be=["value"],ze=i("i",{class:"las la-plus"},null,-1),Ie=[ze],We={class:"p-2"},Qe={key:1,class:"flex-auto border-b border-box-background"},Ge={class:"p-2 flex items-center"},Ke=i("i",{class:"las la-angle-left"},null,-1),Je=[Ke],Xe={class:"flex flex-auto font-semibold text-primary justify-center"},Ze={class:"mr-2 border-b border-info-secondary border-dashed"},et=i("i",{class:"las la-angle-right"},null,-1),tt=[et],st={class:"grid grid-flow-row grid-cols-3 grid-rows-1 gap-0 text-primary divide-x divide-y border-b border-box-background"},it={class:"w-full h-full"},nt=["onClick"],lt={class:"p-2"},rt={key:2},at={class:"p-2 flex items-center"},dt=i("i",{class:"las la-angle-left"},null,-1),ot=[dt],ut={class:"flex flex-auto font-semibold text-primary justify-center"},ct=i("i",{class:"las la-angle-right"},null,-1),ht=[ct],ft={class:"grid grid-flow-row grid-cols-7 grid-rows-1 gap-0 text-primary divide-x divide-y"},mt={class:"md:h-10 h-8 flex justify-center items-center border-tab-table-th text-sm"},bt={class:"md:h-10 h-8 flex justify-center items-center border-tab-table-th text-sm"},gt={class:"md:h-10 h-8 flex justify-center items-center border-tab-table-th text-sm"},_t={class:"md:h-10 h-8 flex justify-center items-center border-tab-table-th text-sm"},vt={class:"md:h-10 h-8 flex justify-center items-center border-tab-table-th text-sm"},yt={class:"md:h-10 h-8 flex justify-center items-center border-tab-table-th text-sm"},pt={class:"md:h-10 h-8 flex justify-center items-center border-tab-table-th text-sm"},kt=["onClick"],xt={key:0},wt={key:1,class:"text-secondary"},Ct={class:"border-t border-tab-table-th w-full p-2"},$t={class:"-mx-1 flex justify-between"},Dt={class:"px-1"},Tt={class:"-mx-1 flex"},Mt={class:"px-1"},Ot=i("i",{class:"las la-trash text-lg"},null,-1),St=[Ot],Et={class:"px-2"},jt={class:"rounded border-tab-table-th-edge flex items-center justify-center p-1 border"},Ft=i("span",{class:"pr-2 pl-1 text-primary"},[i("i",{class:"las la-clock"})],-1),Ht=i("span",{class:"mx-1"},":",-1);function Pt(e,t,s,f,c,n){return l(),r("div",{onClick:t[21]||(t[21]=a=>n.handleCalendarClick()),class:"flex bg-box-background flex-col rounded-lg overflow-hidden"},[c.currentView==="years"?(l(),r("div",je,[i("div",Fe,[i("div",null,[i("button",{onClick:t[0]||(t[0]=a=>n.subMonth()),class:"w-8 h-8 ns-inset-button border outline-none text-numpad-text rounded"},Pe)]),i("div",Ae,[i("span",{class:"mr-2 cursor-pointer border-b border-info-secondary border-dashed",onClick:t[1]||(t[1]=a=>n.toggleView("months"))},u(c.currentDay.format("MMM")),1),i("span",{class:"cursor-pointer border-b border-info-secondary border-dashed",onClick:t[2]||(t[2]=a=>n.toggleView("years"))},u(c.currentDay.format("YYYY")),1)]),i("div",null,[i("button",{onClick:t[3]||(t[3]=a=>n.addMonth()),class:"w-8 h-8 ns-inset-button border outline-none text-numpad-text rounded"},Ve)])]),i("div",Ye,[i("div",Le,[i("button",{onClick:t[4]||(t[4]=a=>n.subYear()),class:"px-2 py-2"},Ne),i("div",Ue,[i("input",{type:"text",ref:"year",class:"p-2 flex-auto w-full text-center outline-none",onChange:t[5]||(t[5]=a=>n.setYear(a)),value:c.currentDay.format("YYYY")},null,40,Be)]),i("button",{onClick:t[6]||(t[6]=a=>n.addYear()),class:"px-2 py-2"},Ie)])]),i("div",We,[i("button",{onClick:t[7]||(t[7]=a=>n.toggleView("days")),class:"p-2 w-full ns-inset-button border text-sm error hover:text-white rounded flex items-center justify-center"},u(n.__("Return To Calendar")),1)])])):d("",!0),c.currentView==="months"?(l(),r("div",Qe,[i("div",Ge,[i("div",null,[i("button",{onClick:t[8]||(t[8]=a=>n.subYear()),class:"w-8 h-8 ns-inset-button outline-none border rounded"},Je)]),i("div",Xe,[i("span",Ze,u(c.currentDay.format("MMM")),1),i("span",{class:"cursor-pointer border-b border-info-secondary border-dashed",onClick:t[9]||(t[9]=a=>n.toggleView("years"))},u(c.currentDay.format("YYYY")),1)]),i("div",null,[i("button",{onClick:t[10]||(t[10]=a=>n.addYear()),class:"w-8 h-8 ns-inset-button outline-none border rounded"},tt)])]),i("div",st,[(l(!0),r(_,null,k(c.months,(a,o)=>(l(),r("div",{key:o,class:"h-8 flex justify-center items-center text-sm border-box-background"},[i("div",it,[i("div",{class:b([n.momentCopy.month(a).format("MM")===c.currentDay.format("MM")?"bg-info-secondary text-white":"hover:bg-numpad-hover","h-full w-full border-box-background flex items-center justify-center cursor-pointer"]),onClick:h=>n.setMonth(a)},u(n.momentCopy.format("MMM")),11,nt)])]))),128))]),i("div",lt,[i("button",{onClick:t[11]||(t[11]=a=>n.toggleView("days")),class:"p-2 w-full ns-inset-button border text-sm error rounded flex items-center justify-center"},u(n.__("Return To Calendar")),1)])])):d("",!0),c.currentView==="days"?(l(),r("div",rt,[i("div",at,[i("div",null,[i("button",{onClick:t[12]||(t[12]=a=>n.subMonth()),class:"w-8 h-8 ns-inset-button border rounded"},ot)]),i("div",ut,[i("span",{class:"mr-2 cursor-pointer border-b border-info-secondary border-dashed",onClick:t[13]||(t[13]=a=>n.toggleView("months"))},u(c.currentDay.format("MMM")),1),i("span",{class:"cursor-pointer border-b border-info-secondary border-dashed",onClick:t[14]||(t[14]=a=>n.toggleView("years"))},u(c.currentDay.format("YYYY")),1)]),i("div",null,[i("button",{onClick:t[15]||(t[15]=a=>n.addMonth()),class:"w-8 h-8 ns-inset-button border rounded"},ht)])]),i("div",ft,[i("div",mt,u(n.__("Sun")),1),i("div",bt,u(n.__("Mon")),1),i("div",gt,u(n.__("Tue")),1),i("div",_t,u(n.__("Wed")),1),i("div",vt,u(n.__("Thr")),1),i("div",yt,u(n.__("Fri")),1),i("div",pt,u(n.__("Sat")),1)]),(l(!0),r(_,null,k(c.calendar,(a,o)=>(l(),r("div",{key:o,class:"grid grid-flow-row grid-cols-7 grid-rows-1 gap-0 text-primary divide-x divide-y"},[(l(!0),r(_,null,k(c.daysOfWeek,(h,y)=>(l(),r("div",{key:y,class:"md:h-10 h-8 flex justify-center items-center text-sm border-tab-table-th"},[(l(!0),r(_,null,k(a,(D,j)=>(l(),r(_,null,[D.dayOfWeek===h?(l(),r("div",{key:j,class:b([n.getDayClass({day:D,_dayIndex:j,dayOfWeek:h,_index:y,currentDay:c.currentDay}),"h-full w-full flex items-center justify-center cursor-pointer"]),onClick:R=>n.selectDate(D)},[D.isDifferentMonth?d("",!0):(l(),r("span",xt,u(D.date.format("DD")),1)),D.isDifferentMonth?(l(),r("span",wt,u(D.date.format("DD")),1)):d("",!0)],10,kt)):d("",!0)],64))),256))]))),128))]))),128))])):d("",!0),i("div",Ct,[i("div",$t,[i("div",Dt,[i("div",Tt,[i("div",Mt,[i("button",{onClick:t[16]||(t[16]=a=>n.erase()),class:"border ns-inset-button text-sm error rounded md:w-10 w-8 md:h-10 h-8 flex items-center justify-center"},St)])])]),i("div",Et,[i("div",jt,[Ft,S(i("input",{placeholder:"HH",ref:"hours",onChange:t[17]||(t[17]=a=>n.detectHoursChange(a)),class:"w-12 p-1 text-center border border-numpad-edge bg-input-background outline-none text-sm active:border-numpad-edge","onUpdate:modelValue":t[18]||(t[18]=a=>c.hours=a),type:"number"},null,544),[[E,c.hours]]),Ht,S(i("input",{placeholder:"mm",ref:"minutes",onChange:t[19]||(t[19]=a=>n.detectMinuteChange(a)),class:"w-12 p-1 text-center border border-numpad-edge bg-input-background outline-none text-sm active:border-numpad-edge","onUpdate:modelValue":t[20]||(t[20]=a=>c.minutes=a),type:"number"},null,544),[[E,c.minutes]])])])])])])}var I=x(Ee,[["render",Pt]]);const At={data:()=>({}),props:["checked","field","label"],computed:{isChecked(){return this.field?this.field.value:this.checked}},methods:{toggleIt(){this.field!==void 0&&(this.field.value=!this.field.value),this.$emit("change",!this.checked)}}},Rt={class:"w-6 h-6 flex bg-input-background border-input-edge border-2 items-center justify-center cursor-pointer"},Vt={key:0,class:"las la-check"},Yt={key:0,class:"mx-2"},Lt={key:1,class:"mx-2"};function qt(e,t,s,f,c,n){return l(),r("div",{class:"flex items-center justify-center cursor-pointer",onClick:t[0]||(t[0]=a=>n.toggleIt())},[i("div",Rt,[n.isChecked?(l(),r("i",Vt)):d("",!0)]),s.label?(l(),r("span",Yt,u(s.label),1)):d("",!0),s.field?(l(),r("span",Lt,u(s.field.label),1)):d("",!0)])}var Nt=x(At,[["render",qt]]);const Ut={methods:{}},Bt={class:"outline-none ns-close-button hover:border-transparent border rounded-full h-8 min-w-[2rem] items-center justify-center"},zt=i("i",{class:"las la-times"},null,-1);function It(e,t,s,f,c,n){return l(),r("button",Bt,[zt,g(),m(e.$slots,"default")])}var Wt=x(Ut,[["render",It]]);const Qt={data(){return{fields:[],validation:new q}},methods:{__:p,popupCloser:ne,popupResolver:le,closePopup(){this.popupResolver(!1)},useFilters(){this.popupResolver(this.validation.extractFields(this.fields))},clearFilters(){this.fields.forEach(e=>e.value=""),this.popupResolver(null)}},mounted(){this.fields=this.validation.createFields(this.$popupParams.queryFilters),this.popupCloser()}},Gt={class:"ns-box shadow-lg w-95vw h-95vh md:w-3/5-screen md:h-5/6-screen flex flex-col"},Kt={class:"p-2 border-b ns-box-header flex justify-between items-center"},Jt={class:"p-2 ns-box-body flex-auto"},Xt={class:"p-2 flex justify-between ns-box-footer border-t"};function Zt(e,t,s,f,c,n){const a=C("ns-close-button"),o=C("ns-field"),h=C("ns-button");return l(),r("div",Gt,[i("div",Kt,[i("h3",null,u(n.__("Search Filters")),1),i("div",null,[O(a,{onClick:t[0]||(t[0]=y=>n.closePopup())})])]),i("div",Jt,[(l(!0),r(_,null,k(c.fields,(y,D)=>(l(),M(o,{field:y,key:D},null,8,["field"]))),128))]),i("div",Xt,[i("div",null,[O(h,{onClick:t[1]||(t[1]=y=>n.clearFilters()),type:"error"},{default:w(()=>[g(u(n.__("Clear Filters")),1)]),_:1})]),i("div",null,[O(h,{onClick:t[2]||(t[2]=y=>n.useFilters()),type:"info"},{default:w(()=>[g(u(n.__("Use Filters")),1)]),_:1})])])])}var Y=x(Qt,[["render",Zt]]);const es={data:()=>({prependOptions:!1,showOptions:!0,isRefreshing:!1,sortColumn:"",searchInput:"",queryFiltersString:"",searchQuery:"",page:1,bulkAction:"",bulkActions:[],queryFilters:[],withFilters:!1,columns:[],selectedEntries:[],globallyChecked:!1,result:{current_page:null,data:[],first_page_url:null,from:null,last_page:null,last_page_url:null,next_page_url:null,path:null,per_page:null,prev_page_url:null,to:null,total:null}}),name:"ns-crud",mounted(){this.identifier!==void 0&&nsCrudHandler.defineInstance(this.identifier,this),this.loadConfig()},props:["src","create-url","mode","identifier","queryParams"],computed:{getParsedSrc(){return`${this.src}?${this.sortColumn}${this.searchQuery}${this.queryFiltersString}${this.queryPage}${this.getQueryParams()?"&"+this.getQueryParams():""}`},showQueryFilters(){return this.queryFilters.length>0},getSelectedAction(){const e=this.bulkActions.filter(t=>t.identifier===this.bulkAction);return e.length>0?e[0]:!1},pagination(){return this.result?this.pageNumbers(this.result.last_page,this.result.current_page):[]},queryPage(){return this.result?`&page=${this.page}`:""},resultInfo(){return p("displaying {perPage} on {items} items").replace("{perPage}",this.result.total).replace("{items}",this.result.total)}},methods:{__:p,getQueryParams(){return this.queryParams?Object.keys(this.queryParams).map(e=>`${e}=${this.queryParams[e]}`).join("&"):""},pageNumbers(e,t){var s=[];t-3>1&&s.push(1,"...");for(let f=1;f<=e;f++)t+3>f&&t-3<f&&s.push(f);return t+3<e&&s.push("...",e),s.filter(f=>f>0||typeof f=="string")},downloadContent(){nsHttpClient.post(`${this.src}/export?${this.getParsedSrc}`,{entries:this.selectedEntries.map(e=>e.$id)}).subscribe(e=>{setTimeout(()=>document.location=e.url,300),T.success(p("The document has been generated.")).subscribe()},e=>{T.error(e.message||p("Unexpected error occured.")).subscribe()})},clearSelectedEntries(){H.show(z,{title:p("Clear Selected Entries ?"),message:p("Would you like to clear all selected entries ?"),onAction:e=>{e&&(this.selectedEntries=[])}})},refreshRow(e){if(e.$checked===!0)this.selectedEntries.filter(s=>s.$id===e.$id).length===0&&this.selectedEntries.push(e);else{const t=this.selectedEntries.filter(s=>s.$id===e.$id);if(t.length>0){const s=this.selectedEntries.indexOf(t[0]);this.selectedEntries.splice(s,1)}}},handleShowOptions(e){this.result.data.forEach(t=>{t.$id!==e.$id&&(t.$toggled=!1)})},handleGlobalChange(e){this.globallyChecked=e,this.result.data.forEach(t=>{t.$checked=e,this.refreshRow(t)})},loadConfig(){nsHttpClient.get(`${this.src}/config?${this.getQueryParams()}`).subscribe(t=>{this.columns=t.columns,this.bulkActions=t.bulkActions,this.queryFilters=t.queryFilters,this.prependOptions=t.prependOptions,this.showOptions=t.showOptions,this.refresh()},t=>{T.error(t.message,"OK",{duration:!1}).subscribe()})},cancelSearch(){this.searchInput="",this.search()},search(){this.searchInput?this.searchQuery=`&search=${this.searchInput}`:this.searchQuery="",this.refresh()},sort(e){for(let t in this.columns)t!==e&&(this.columns[t].$sorted=!1,this.columns[t].$direction="");switch(this.columns[e].$sorted=!0,this.columns[e].$direction){case"asc":this.columns[e].$direction="desc";break;case"desc":this.columns[e].$direction="";break;case"":this.columns[e].$direction="asc";break}["asc","desc"].includes(this.columns[e].$direction)?this.sortColumn=`active=${e}&direction=${this.columns[e].$direction}`:this.sortColumn="",this.$emit("sort",this.columns[e]),this.refresh()},bulkDo(){if(this.bulkAction)if(this.selectedEntries.length>0){if(confirm(this.getSelectedAction.confirm||this.$slots["error-bulk-confirmation"]||p("Would you like to perform the selected bulk action on the selected entries ?")))return nsHttpClient.post(`${this.src}/bulk-actions`,{action:this.bulkAction,entries:this.selectedEntries.map(e=>e.$id)}).subscribe({next:e=>{T.info(e.message).subscribe(),this.selectedEntries=[],this.refresh()},error:e=>{T.error(e.message).subscribe()}})}else return T.error(this.$slots["error-no-selection"]?this.$slots["error-no-selection"][0].text:p("No selection has been made.")).subscribe();else return T.error(this.$slots["error-no-action"]?this.$slots["error-no-action"][0].text:p("No action has been selected.")).subscribe()},async openQueryFilter(){try{console.log(Y);const e=await new Promise((t,s)=>{H.show(Y,{resolve:t,reject:s,queryFilters:this.queryFilters})});this.withFilters=!1,this.queryFiltersString="",e!==null&&(this.withFilters=!0,this.queryFiltersString="&queryFilters="+encodeURIComponent(JSON.stringify(e))),this.refresh()}catch{}},refresh(){this.globallyChecked=!1,this.isRefreshing=!0,nsHttpClient.get(`${this.getParsedSrc}`).subscribe(t=>{t.data=t.data.map(s=>(this.selectedEntries.filter(c=>c.$id===s.$id).length>0&&(s.$checked=!0),s)),this.isRefreshing=!1,this.result=t,this.page=t.current_page},t=>{this.isRefreshing=!1,T.error(t.message).subscribe()})}}},ts={key:0,id:"crud-table-header",class:"p-2 border-b border-popup-surface flex flex-col md:flex-row justify-between flex-wrap"},ss={id:"crud-search-box",class:"w-full md:w-auto -mx-2 mb-2 md:mb-0 flex"},is={key:0,class:"px-2 flex items-center justify-center"},ns=["href"],ls=i("i",{class:"las la-plus"},null,-1),rs=[ls],as={class:"px-2"},ds={class:"rounded-full p-1 ns-crud-input flex"},os=i("i",{class:"las la-search"},null,-1),us=[os],cs=i("i",{class:"las la-times"},null,-1),hs=[cs],fs={class:"px-2 flex items-center justify-center"},ms={key:1,class:"px-2 flex items-center"},bs={key:0,class:"las la-filter"},gs={key:1,class:"las la-check"},_s={key:2,class:"ml-1"},vs={key:3,class:"ml-1"},ys={id:"crud-buttons",class:"-mx-1 flex flex-wrap w-full md:w-auto"},ps={key:0,class:"px-1 flex items-center"},ks=i("i",{class:"lar la-check-square"},null,-1),xs={class:"px-1 flex items-center"},ws=i("i",{class:"las la-download"},null,-1),Cs={class:"flex"},$s={class:"overflow-x-auto flex-auto"},Ds={key:0,class:"table ns-table w-full"},Ts={class:"text-center px-2 border w-16 py-2"},Ms={key:0,class:"text-left px-2 py-2 w-16 border"},Os=["onClick"],Ss={class:"w-full flex justify-between items-center"},Es={class:"flex"},js={class:"h-6 w-6 flex justify-center items-center"},Fs={key:0,class:"las la-sort-amount-up"},Hs={key:1,class:"las la-sort-amount-down"},Ps={key:1,class:"text-left px-2 py-2 w-16 border"},As={key:1},Rs=["colspan"],Vs={class:"p-2 flex border-t flex-col md:flex-row justify-between footer"},Ys={key:0,id:"grouped-actions",class:"mb-2 md:mb-0 flex justify-between rounded-full ns-crud-input p-1"},Ls={class:"bg-input-disabled",selected:"",value:""},qs=["value"],Ns={class:"flex"},Us={class:"items-center flex text-primary mx-4"},Bs={id:"pagination",class:"flex items-center -mx-1"},zs=i("i",{class:"las la-angle-double-left"},null,-1),Is=[zs],Ws=["onClick"],Qs=i("i",{class:"las la-angle-double-right"},null,-1),Gs=[Qs];function Ks(e,t,s,f,c,n){const a=C("ns-checkbox"),o=C("ns-table-row");return l(),r("div",{id:"crud-table",class:b(["w-full rounded-lg",s.mode!=="light"?"shadow mb-8":""])},[s.mode!=="light"?(l(),r("div",ts,[i("div",ss,[e.createUrl?(l(),r("div",is,[i("a",{href:e.createUrl||"#",class:"rounded-full ns-crud-button text-sm h-10 flex items-center justify-center cursor-pointer px-3 outline-none border"},rs,8,ns)])):d("",!0),i("div",as,[i("div",ds,[S(i("input",{"onUpdate:modelValue":t[0]||(t[0]=h=>e.searchInput=h),type:"text",class:"w-36 md:w-auto bg-transparent outline-none px-2"},null,512),[[E,e.searchInput]]),i("button",{onClick:t[1]||(t[1]=h=>n.search()),class:"rounded-full w-8 h-8 outline-none ns-crud-input-button"},us),e.searchQuery?(l(),r("button",{key:0,onClick:t[2]||(t[2]=h=>n.cancelSearch()),class:"ml-1 rounded-full w-8 h-8 bg-error-secondary text-white outline-none hover:bg-error-tertiary"},hs)):d("",!0)])]),i("div",fs,[i("button",{onClick:t[3]||(t[3]=h=>n.refresh()),class:"rounded-full text-sm h-10 px-3 outline-none border ns-crud-button"},[i("i",{class:b([e.isRefreshing?"animate-spin":"","las la-sync"])},null,2)])]),n.showQueryFilters?(l(),r("div",ms,[i("button",{onClick:t[4]||(t[4]=h=>n.openQueryFilter()),class:b([e.withFilters?"table-filters-enabled":"table-filters-disabled","ns-crud-button border rounded-full text-sm h-10 px-3 outline-none"])},[e.withFilters?d("",!0):(l(),r("i",bs)),e.withFilters?(l(),r("i",gs)):d("",!0),e.withFilters?d("",!0):(l(),r("span",_s,u(n.__("Filters")),1)),e.withFilters?(l(),r("span",vs,u(n.__("Has Filters")),1)):d("",!0)],2)])):d("",!0)]),i("div",ys,[e.selectedEntries.length>0?(l(),r("div",ps,[i("button",{onClick:t[5]||(t[5]=h=>n.clearSelectedEntries()),class:"flex justify-center items-center rounded-full text-sm h-10 px-3 outline-none ns-crud-button border"},[ks,g(" "+u(n.__("{entries} entries selected").replace("{entries}",e.selectedEntries.length)),1)])])):d("",!0),i("div",xs,[i("button",{onClick:t[6]||(t[6]=h=>n.downloadContent()),class:"flex justify-center items-center rounded-full text-sm h-10 px-3 ns-crud-button border outline-none"},[ws,g(" "+u(n.__("Download")),1)])])])])):d("",!0),i("div",Cs,[i("div",$s,[Object.values(e.columns).length>0?(l(),r("table",Ds,[i("thead",null,[i("tr",null,[i("th",Ts,[O(a,{checked:e.globallyChecked,onChange:t[7]||(t[7]=h=>n.handleGlobalChange(h))},null,8,["checked"])]),e.prependOptions&&e.showOptions?(l(),r("th",Ms)):d("",!0),(l(!0),r(_,null,k(e.columns,(h,y)=>(l(),r("th",{key:y,onClick:D=>n.sort(y),style:se({"min-width":h.width||"auto"}),class:"cursor-pointer justify-betweenw-40 border text-left px-2 py-2"},[i("div",Ss,[i("span",Es,u(h.label),1),i("span",js,[h.$direction==="desc"?(l(),r("i",Fs)):d("",!0),h.$direction==="asc"?(l(),r("i",Hs)):d("",!0)])])],12,Os))),128)),!e.prependOptions&&e.showOptions?(l(),r("th",Ps)):d("",!0)])]),i("tbody",null,[e.result.data!==void 0&&e.result.data.length>0?(l(!0),r(_,{key:0},k(e.result.data,(h,y)=>(l(),M(o,{key:y,onUpdated:t[8]||(t[8]=D=>n.refreshRow(D)),columns:e.columns,prependOptions:e.prependOptions,showOptions:e.showOptions,row:h,onReload:t[9]||(t[9]=D=>n.refresh()),onToggled:t[10]||(t[10]=D=>n.handleShowOptions(D))},null,8,["columns","prependOptions","showOptions","row"]))),128)):d("",!0),!e.result||e.result.data.length===0?(l(),r("tr",As,[i("td",{colspan:Object.values(e.columns).length+2,class:"text-center text-gray-600 dark:text-slate-300 py-3"},u(n.__("There is nothing to display...")),9,Rs)])):d("",!0)])])):d("",!0)])]),i("div",Vs,[e.bulkActions.length>0?(l(),r("div",Ys,[S(i("select",{class:"outline-none bg-transparent","onUpdate:modelValue":t[11]||(t[11]=h=>e.bulkAction=h),id:"grouped-actions"},[i("option",Ls,[m(e.$slots,"bulk-label",{},()=>[g(u(n.__("Bulk Actions")),1)])]),(l(!0),r(_,null,k(e.bulkActions,(h,y)=>(l(),r("option",{class:"bg-input-disabled",key:y,value:h.identifier},u(h.label),9,qs))),128))],512),[[A,e.bulkAction]]),i("button",{onClick:t[12]||(t[12]=h=>n.bulkDo()),class:"ns-crud-input-button h-8 px-3 outline-none rounded-full flex items-center justify-center"},[m(e.$slots,"bulk-go",{},()=>[g(u(n.__("Apply")),1)])])])):d("",!0),i("div",Ns,[i("div",Us,u(n.resultInfo),1),i("div",Bs,[e.result.current_page?(l(),r(_,{key:0},[i("a",{href:"javascript:void(0)",onClick:t[13]||(t[13]=h=>{e.page=e.result.first_page,n.refresh()}),class:"mx-1 flex items-center justify-center h-8 w-8 rounded-full ns-crud-button border shadow"},Is),(l(!0),r(_,null,k(n.pagination,(h,y)=>(l(),r(_,null,[e.page!=="..."?(l(),r("a",{key:y,class:b([e.page==h?"bg-info-tertiary border-transparent text-white":"","mx-1 flex items-center justify-center h-8 w-8 rounded-full ns-crud-button border"]),onClick:D=>{e.page=h,n.refresh()},href:"javascript:void(0)"},u(h),11,Ws)):d("",!0),e.page==="..."?(l(),r("a",{key:y,href:"javascript:void(0)",class:"mx-1 flex items-center justify-center h-8 w-8 rounded-full ns-crud-button border"},"...")):d("",!0)],64))),256)),i("a",{href:"javascript:void(0)",onClick:t[14]||(t[14]=h=>{e.page=e.result.last_page,n.refresh()}),class:"mx-1 flex items-center justify-center h-8 w-8 rounded-full ns-crud-button border shadow"},Gs)],64)):d("",!0)])])])],2)}var Js=x(es,[["render",Ks]]);const Xs={data:()=>({form:{},globallyChecked:!1,formValidation:new q,rows:[]}),mounted(){this.loadForm()},props:["src","create-url","field-class","return-url","submit-url","submit-method","disable-tabs"],computed:{activeTabFields(){for(let e in this.form.tabs)if(this.form.tabs[e].active)return this.form.tabs[e].fields;return[]}},methods:{__:p,toggle(e){for(let t in this.form.tabs)this.form.tabs[t].active=!1;this.form.tabs[e].active=!0},handleShowOptions(e){this.rows.forEach(t=>{t.$id!==e.$id&&(t.$toggled=!1)})},submit(){if(this.formValidation.validateForm(this.form).length>0)return T.error(this.$slots["error-invalid"]?this.$slots["error-invalid"][0].text:"No error message provided for having an invalid form.",this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe();if(this.formValidation.disableForm(this.form),this.submitUrl===void 0)return T.error(this.$slots["error-no-submit-url"]?this.$slots["error-no-submit-url"][0].text:"No error message provided for not having a valid submit url.",this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe();F[this.submitMethod?this.submitMethod.toLowerCase():"post"](this.submitUrl,this.formValidation.extractForm(this.form)).subscribe(e=>{if(e.status==="success"){if(this.submitMethod&&this.submitMethod.toLowerCase()==="post"&&this.returnUrl!==!1)return document.location=e.data.editUrl||this.returnUrl;T.info(e.message,p("Okay"),{duration:3e3}).subscribe(),this.$emit("save",e)}this.formValidation.enableForm(this.form)},e=>{T.error(e.message,void 0,{duration:5e3}).subscribe(),e.data!==void 0&&this.formValidation.triggerError(this.form,e.data),this.formValidation.enableForm(this.form)})},handleGlobalChange(e){this.globallyChecked=e,this.rows.forEach(t=>t.$checked=e)},loadForm(){F.get(`${this.src}`).subscribe({next:t=>{this.form=this.parseForm(t.form),re.doAction("ns-crud-form-loaded",this),this.$emit("updated",this.form)},error:t=>{T.error(t.message,"OKAY",{duration:0}).subscribe()}})},parseForm(e){e.main.value=e.main.value===void 0?"":e.main.value,e.main=this.formValidation.createFields([e.main])[0];let t=0;for(let s in e.tabs)t===0&&(e.tabs[s].active=!0),e.tabs[s].active=e.tabs[s].active===void 0?!1:e.tabs[s].active,e.tabs[s].fields=this.formValidation.createFields(e.tabs[s].fields),t++;return e}}},Zs={class:"form flex-auto",id:"crud-form"},ei={key:0,class:"flex items-center justify-center h-full"},ti={key:1},si={class:"flex flex-col"},ii={key:0,class:"flex justify-between items-center"},ni={for:"title",class:"font-bold my-2 text-primary"},li={key:0},ri={for:"title",class:"text-sm my-2"},ai=["href"],di=["disabled"],oi=["disabled"],ui={key:0,class:"text-xs text-primary py-1"},ci={key:0},hi={key:1},fi={key:0,id:"tabs-container",class:"my-5 ns-tab"},mi={class:"header flex ml-4",style:{"margin-bottom":"-1px"}},bi=["onClick"],gi={class:"ns-tab-item"},_i={class:"border p-4 rounded"},vi={class:"-mx-4 flex flex-wrap"},yi={key:0,class:"flex justify-end"},pi=["disabled"];function ki(e,t,s,f,c,n){const a=C("ns-spinner"),o=C("ns-field");return l(),r("div",Zs,[Object.values(e.form).length===0?(l(),r("div",ei,[O(a)])):d("",!0),Object.values(e.form).length>0?(l(),r("div",ti,[i("div",si,[e.form.main?(l(),r("div",ii,[i("label",ni,[e.form.main.name?(l(),r("span",li,u(e.form.main.label),1)):d("",!0)]),i("div",ri,[e.returnUrl?(l(),r("a",{key:0,href:e.returnUrl,class:"rounded-full border px-2 py-1 ns-inset-button error"},u(n.__("Go Back")),9,ai)):d("",!0)])])):d("",!0),e.form.main.name?(l(),r(_,{key:1},[i("div",{class:b([e.form.main.disabled?"disabled":e.form.main.errors.length>0?"error":"info","input-group flex border-2 rounded overflow-hidden"])},[S(i("input",{"onUpdate:modelValue":t[0]||(t[0]=h=>e.form.main.value=h),onBlur:t[1]||(t[1]=h=>e.formValidation.checkField(e.form.main)),onChange:t[2]||(t[2]=h=>e.formValidation.checkField(e.form.main)),disabled:e.form.main.disabled,type:"text",class:"flex-auto outline-none h-10 px-2"},null,40,di),[[E,e.form.main.value]]),i("button",{disabled:e.form.main.disabled,class:b([e.form.main.disabled?"disabled":e.form.main.errors.length>0?"error":"","outline-none px-4 h-10 text-white border-l border-gray-400"]),onClick:t[3]||(t[3]=h=>n.submit())},[m(e.$slots,"save",{},()=>[g("Save")])],10,oi)],2),e.form.main.description&&e.form.main.errors.length===0?(l(),r("p",ui,u(e.form.main.description),1)):d("",!0),(l(!0),r(_,null,k(e.form.main.errors,(h,y)=>(l(),r("p",{key:y,class:"text-xs py-1 text-error-tertiary"},[h.identifier==="required"?(l(),r("span",ci,[m(e.$slots,"error-required",{},()=>[g(u(h.identifier),1)])])):d("",!0),h.identifier==="invalid"?(l(),r("span",hi,[m(e.$slots,"error-invalid",{},()=>[g(u(h.message),1)])])):d("",!0)]))),128))],64)):d("",!0)]),e.disableTabs!=="true"?(l(),r("div",fi,[i("div",mi,[(l(!0),r(_,null,k(e.form.tabs,(h,y)=>(l(),r("div",{key:y,onClick:D=>n.toggle(y),class:b([h.active?"active border border-b-transparent":"inactive border","tab rounded-tl rounded-tr border px-3 py-2 cursor-pointer"]),style:{"margin-right":"-1px"}},u(h.label),11,bi))),128))]),i("div",gi,[i("div",_i,[i("div",vi,[(l(!0),r(_,null,k(n.activeTabFields,(h,y)=>(l(),r("div",{key:y,class:b(e.fieldClass||"px-4 w-full md:w-1/2 lg:w-1/3")},[O(o,{onBlur:D=>e.formValidation.checkField(h),onChange:D=>e.formValidation.checkField(h),field:h},null,8,["onBlur","onChange","field"])],2))),128))]),e.form.main.name?d("",!0):(l(),r("div",yi,[i("div",{class:b(["ns-button",e.form.main.disabled?"default":e.form.main.errors.length>0?"error":"info"])},[i("button",{disabled:e.form.main.disabled,onClick:t[4]||(t[4]=h=>n.submit()),class:"outline-none px-4 h-10 border-l"},[m(e.$slots,"save",{},()=>[g(u(n.__("Save")),1)])],8,pi)],2)]))])])])):d("",!0)])):d("",!0)])}var xi=x(Xs,[["render",ki]]);const wi={data:()=>({}),mounted(){},computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},disabledClass(){return this.field.disabled?"bg-input-edge cursor-not-allowed":"bg-transparent"},inputClass(){return this.disabledClass+" "+this.leadClass},leadClass(){return this.leading?"pl-8":"px-4"}},props:["placeholder","leading","type","field"]},Ci={class:"flex flex-auto flex-col mb-2"},$i=["for"],Di={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Ti={class:"sm:text-sm sm:leading-5"},Mi=["disabled","id","placeholder"],Oi={key:0,class:"text-xs text-secondary"};function Si(e,t,s,f,c,n){return l(),r("div",Ci,[i("label",{for:s.field.name,class:b([n.hasError?"text-error-primary":"text-primary","block leading-5 font-medium"])},[m(e.$slots,"default")],10,$i),i("div",{class:b([n.hasError?"border-error-primary":"border-input-edge","bg-input-background text-secondary mt-1 relative border-2 rounded-md focus:shadow-sm"])},[s.leading?(l(),r("div",Di,[i("span",Ti,u(s.leading),1)])):d("",!0),S(i("input",{disabled:s.field.disabled,"onUpdate:modelValue":t[0]||(t[0]=a=>s.field.value=a),onBlur:t[1]||(t[1]=a=>e.$emit("blur",this)),onChange:t[2]||(t[2]=a=>e.$emit("change",this)),id:s.field.name,type:"date",class:b([n.inputClass,"form-input block w-full sm:text-sm sm:leading-5 h-10"]),placeholder:s.placeholder},null,42,Mi),[[E,s.field.value]])],2),!s.field.errors||s.field.errors.length===0?(l(),r("p",Oi,[m(e.$slots,"description")])):d("",!0),(l(!0),r(_,null,k(s.field.errors,(a,o)=>(l(),r("p",{key:o,class:"text-xs text-error-primary"},[a.identifier==="required"?m(e.$slots,a.identifier,{key:0},()=>[g(u(e.__("This field is required.")),1)]):d("",!0),a.identifier==="email"?m(e.$slots,a.identifier,{key:1},()=>[g(u(e.__("This field must contain a valid email address.")),1)]):d("",!0),a.identifier==="invalid"?m(e.$slots,a.identifier,{key:2},()=>[g(u(a.message),1)]):d("",!0)]))),128))])}var Ei=x(wi,[["render",Si]]);const ji={name:"ns-date-range-picker",data(){return{dateRange:{startDate:null,endDate:null}}},components:{DateRangePicker:U},mounted(){this.field.value!==void 0&&(this.dateRange=this.field.value)},watch:{dateRange(){const e={startDate:v(this.dateRange.startDate).format("YYYY-MM-DD HH:mm"),endDate:v(this.dateRange.endDate).format("YYYY-MM-DD HH:mm")};this.field.value=e,this.$emit("change",this)}},methods:{__:p,getFormattedDate(e){return e!==null?v(e).format("YYYY-MM-DD HH:mm"):p("N/D")},clearDate(){this.dateRange={startDate:null,endDate:null},this.field.value=void 0}},computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},disabledClass(){return this.field.disabled?"bg-gray-200 cursor-not-allowed":"bg-transparent"},inputClass(){return this.disabledClass+" "+this.leadClass},leadClass(){return this.leading?"pl-8":"px-4"}},props:["placeholder","leading","type","field"]},Fi={class:"flex flex-auto flex-col mb-2 ns-date-range-picker"},Hi=["for"],Pi={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Ai={class:"text-primary sm:text-sm sm:leading-5"},Ri=i("i",{class:"las la-times"},null,-1),Vi=[Ri],Yi={class:"flex justify-between items-center w-full py-2"},Li={class:"text-xs"},qi={class:"text-xs"},Ni={key:0,class:"text-xs text-gray-500"};function Ui(e,t,s,f,c,n){const a=C("date-range-picker");return l(),r("div",Fi,[i("label",{for:s.field.name,class:b([n.hasError?"text-error-primary":"text-primary","block leading-5 font-medium"])},[m(e.$slots,"default")],10,Hi),i("div",{class:b([n.hasError?"error":"","mt-1 relative flex input-group border-2 rounded-md overflow-hidden focus:shadow-sm"])},[s.leading?(l(),r("div",Pi,[i("span",Ai,u(s.leading),1)])):d("",!0),i("button",{class:"px-3 outline-none bg-error-secondary font-semibold text-white",onClick:t[0]||(t[0]=o=>n.clearDate())},Vi),O(a,{class:"w-full flex items-center bg-input-background",ref:"picker","locale-data":{firstDay:1,format:"yyyy-mm-dd HH:mm:ss"},timePicker:!0,timePicker24Hour:!0,showWeekNumbers:!0,showDropdowns:!0,autoApply:!1,appendToBody:!0,modelValue:c.dateRange,"onUpdate:modelValue":t[1]||(t[1]=o=>c.dateRange=o),disabled:s.field.disabled,linkedCalendars:!0},{input:w(o=>[i("div",Yi,[i("span",Li,u(n.__("Range Starts"))+" : "+u(n.getFormattedDate(o.startDate)),1),i("span",qi,u(n.__("Range Ends"))+" : "+u(n.getFormattedDate(o.endDate)),1)])]),_:1},8,["modelValue","disabled"])],2),!s.field.errors||s.field.errors.length===0?(l(),r("p",Ni,[m(e.$slots,"description")])):d("",!0),(l(!0),r(_,null,k(s.field.errors,(o,h)=>(l(),r("p",{key:h,class:"text-xs text-red-400"},[o.identifier==="required"?m(e.$slots,o.identifier,{key:0},()=>[g(u(n.__("This field is required.")),1)]):d("",!0),o.identifier==="email"?m(e.$slots,o.identifier,{key:1},()=>[g(u(n.__("This field must contain a valid email address.")),1)]):d("",!0),o.identifier==="invalid"?m(e.$slots,o.identifier,{key:2},()=>[g(u(o.message),1)]):d("",!0)]))),128))])}var W=x(ji,[["render",Ui]]);const Bi={name:"ns-date-time-picker",props:["field","date"],data(){return{visible:!1,hours:0,minutes:0,currentView:"days",currentDay:void 0,moment:v}},computed:{fieldDate(){return v(this.field.value).isValid()?v(this.field.value):v()}},mounted(){},methods:{__:p,setDate(e){this.field.value=e}}},zi={class:"picker mb-2"},Ii={key:0,class:"block leading-5 font-medium text-primary"},Wi={class:"ns-button"},Qi=i("i",{class:"las la-clock text-2xl"},null,-1),Gi={key:0,class:"mx-1 text-sm"},Ki={key:0},Ji={key:1},Xi={key:1,class:"text-sm text-secondary py-1"},Zi={key:2,class:"relative z-10 h-0 w-0"};function en(e,t,s,f,c,n){const a=C("ns-calendar");return l(),r("div",zi,[s.field?(l(),r("label",Ii,u(s.field.label),1)):d("",!0),i("div",Wi,[i("button",{onClick:t[0]||(t[0]=o=>c.visible=!c.visible),class:b([s.field?"mt-1":"","border border-input-edge shadow rounded cursor-pointer w-full px-1 py-1 flex items-center text-primary"])},[Qi,s.field?(l(),r("span",Gi,[[null,"",void 0].includes(s.field.value)?d("",!0):(l(),r("span",Ki,u(n.fieldDate.format("YYYY-MM-DD HH:mm")),1)),[null,"",void 0].includes(s.field.value)?(l(),r("span",Ji,"N/A")):d("",!0)])):d("",!0)],2)]),s.field?(l(),r("p",Xi,u(s.field.description),1)):d("",!0),c.visible?(l(),r("div",Zi,[i("div",{class:b([s.field?"-mt-4":"mt-2","absolute w-72 shadow-xl rounded ns-box anim-duration-300 zoom-in-entrance flex flex-col"])},[O(a,{onOnClickOut:t[1]||(t[1]=o=>c.visible=!1),onSet:t[2]||(t[2]=o=>n.setDate(o)),visible:c.visible,date:s.field.value},null,8,["visible","date"])],2)])):d("",!0)])}var Q=x(Bi,[["render",en]]);const tn={name:"ns-datepicker",components:{nsCalendar:I},props:["label","date","format"],computed:{formattedDate(){return v(this.date).format(this.format||"YYYY-MM-DD HH:mm:ss")}},data(){return{visible:!1}},mounted(){},methods:{__:p,setDate(e){this.$emit("set",e)}}},sn={class:"picker"},nn={class:"ns-button"},ln=i("i",{class:"las la-clock text-2xl"},null,-1),rn={class:"mx-1 text-sm"},an={key:0},dn={key:1},on={key:0,class:"relative h-0 w-0 -mb-2"},un={class:"w-72 mt-2 shadow-lg anim-duration-300 zoom-in-entrance flex flex-col ns-floating-panel"};function cn(e,t,s,f,c,n){const a=C("ns-calendar");return l(),r("div",sn,[i("div",nn,[i("button",{onClick:t[0]||(t[0]=o=>c.visible=!c.visible),class:"rounded cursor-pointer border border-input-edge shadow w-full px-1 py-1 flex items-center text-primary"},[ln,i("span",rn,[i("span",null,u(s.label||n.__("Date"))+" : ",1),s.date?(l(),r("span",an,u(n.formattedDate),1)):(l(),r("span",dn,u(n.__("N/A")),1))])])]),c.visible?(l(),r("div",on,[i("div",un,[O(a,{visible:c.visible,onOnClickOut:t[1]||(t[1]=o=>c.visible=!1),date:s.date,onSet:t[2]||(t[2]=o=>n.setDate(o))},null,8,["visible","date"])])])):d("",!0)])}var hn=x(tn,[["render",cn]]);const fn={name:"ns-daterange-picker",data(){return{leftCalendar:v(),rightCalendar:v().add(1,"months"),rangeViewToggled:!1,clickedOnCalendar:!1}},components:{DateRangePicker:U},mounted(){this.field.value||this.clearDate(),document.addEventListener("click",this.checkClickedItem)},beforeUnmount(){document.removeEventListener("click",this.checkClickedItem)},watch:{leftCalendar(){this.leftCalendar.isSame(this.rightCalendar,"month")&&this.rightCalendar.add(1,"months")},rightCalendar(){this.rightCalendar.isSame(this.leftCalendar,"month")&&this.leftCalendar.sub(1,"months")}},methods:{__:p,setDateRange(e,t){this.field.value[e]=t,v(this.field.value.startDate).isBefore(v(this.field.value.endDate))&&this.$emit("change",this.field)},getFormattedDate(e){return e!==null?v(e).format("YYYY-MM-DD HH:mm"):p("N/D")},clearDate(){this.field.value={startDate:null,endDate:null}},toggleRangeView(){this.rangeViewToggled=!this.rangeViewToggled},handleDateRangeClick(){this.clickedOnCalendar=!0},checkClickedItem(e){this.$el.getAttribute("class").split(" ").includes("ns-daterange-picker")&&(!this.$el.contains(e.srcElement)&&!this.clickedOnCalendar&&this.rangeViewToggled&&(this.$emit("blur",this.field),this.toggleRangeView()),setTimeout(()=>{this.clickedOnCalendar=!1},100))}},computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},disabledClass(){return this.field.disabled?"bg-gray-200 cursor-not-allowed":"bg-transparent"},inputClass(){return this.disabledClass+" "+this.leadClass},leadClass(){return this.leading?"pl-8":"px-4"},startDateFormatted(){return this.field.value!==void 0&&v(this.field.value.startDate).isValid()?v(this.field.value.startDate).format("YYYY-MM-DD HH:mm"):!1},endDateFormatted(){return this.field.value!==void 0&&v(this.field.value.endDate).isValid()?v(this.field.value.endDate).format("YYYY-MM-DD HH:mm"):!1}},props:["placeholder","leading","type","field"]},mn=["for"],bn={class:"border border-input-edge rounded-tl rounded-bl flex-auto flex"},gn={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},_n={class:"text-primary sm:text-sm sm:leading-5"},vn=i("span",{class:"mr-1"},[i("i",{class:"las la-clock text-2xl"})],-1),yn={class:""},pn=i("span",{class:"mx-2"},"\u2014",-1),kn=i("span",{class:"mr-1"},[i("i",{class:"las la-clock text-2xl"})],-1),xn={class:""},wn=i("i",{class:"las la-times"},null,-1),Cn=[wn],$n={key:0,class:"relative h-0 w-0"},Dn={class:"z-10 absolute md:w-[550px] w-[225px] mt-2 shadow-lg anim-duration-300 zoom-in-entrance flex flex-col"},Tn={class:"flex flex-col md:flex-row bg-box-background rounded-lg"},Mn=i("div",{class:"flex-auto border-l border-r"},null,-1),On={key:1,class:"text-xs text-gray-500"};function Sn(e,t,s,f,c,n){const a=C("ns-calendar");return l(),r("div",{onClick:t[4]||(t[4]=o=>n.handleDateRangeClick()),class:"flex flex-auto flex-col mb-2 ns-daterange-picker"},[i("label",{for:s.field.name,class:b([n.hasError?"text-error-primary":"text-primary","block leading-5 font-medium"])},[m(e.$slots,"default")],10,mn),i("div",{class:b([n.hasError?"error":"","mt-1 relative flex input-group bg-input-background rounded overflow-hidden shadow focus:shadow-sm"])},[i("div",bn,[s.leading?(l(),r("div",gn,[i("span",_n,u(s.leading),1)])):d("",!0),i("div",{class:"flex flex-auto p-1 text-primary text-sm items-center cursor-pointer",onClick:t[0]||(t[0]=o=>n.toggleRangeView())},[vn,i("span",yn,u(n.startDateFormatted||n.__("N/A")),1),pn,kn,i("span",xn,u(n.endDateFormatted||n.__("N/A")),1)])]),i("button",{class:"px-3 outline-none font-bold bg-error-tertiary",onClick:t[1]||(t[1]=o=>n.clearDate())},Cn)],2),c.rangeViewToggled?(l(),r("div",$n,[i("div",Dn,[i("div",Tn,[O(a,{class:"md:w-1/2 w-full",range:[n.startDateFormatted,n.endDateFormatted],side:"left",date:s.field.value.startDate,"selected-range":s.field.value,onSet:t[2]||(t[2]=o=>n.setDateRange("startDate",o))},null,8,["range","date","selected-range"]),Mn,O(a,{class:"md:w-1/2 w-full",range:[n.startDateFormatted,n.endDateFormatted],side:"right",date:s.field.value.endDate,"selected-range":s.field.value,onSet:t[3]||(t[3]=o=>n.setDateRange("endDate",o))},null,8,["range","date","selected-range"])])])])):d("",!0),!s.field.errors||s.field.errors.length===0?(l(),r("p",On,[m(e.$slots,"description")])):d("",!0),(l(!0),r(_,null,k(s.field.errors,(o,h)=>(l(),r("p",{key:h,class:"text-xs text-red-400"},[o.identifier==="required"?m(e.$slots,o.identifier,{key:0},()=>[g(u(n.__("This field is required.")),1)]):d("",!0),o.identifier==="email"?m(e.$slots,o.identifier,{key:1},()=>[g(u(n.__("This field must contain a valid email address.")),1)]):d("",!0),o.identifier==="invalid"?m(e.$slots,o.identifier,{key:2},()=>[g(u(o.message),1)]):d("",!0)]))),128))])}var En=x(fn,[["render",Sn]]);const jn={name:"ns-dragzone",props:["raw-widgets","raw-columns"],components:{draggable:de},data(){return{widgets:[],dragged:null,columns:[]}},mounted(){this.widgets=this.rawWidgets.map(e=>({name:e.name,componentName:e.component,className:e.className,component:V(window[e.component])})),this.columns=this.rawColumns.map(e=>(e.widgets.forEach(t=>{t.component=V(window[t.identifier]),t.componentName=t.identifier,t.className=t.class_name}),e))},methods:{__:p,handleChange(e,t){setTimeout(()=>{nsHttpClient.post("/api/users/widgets",{column:e}).subscribe(s=>{},s=>T.error(p("An unpexpected error occured while creating the snackbar.")).subscribe())},100)},handleRemoveWidget(e,t){const s=t.widgets.indexOf(e);t.widgets.splice(s,1),this.handleChange(t)},async openWidgetAdded(e){try{const t=this.columns.filter(o=>o.name!==e.name?o.widgets.length>0:!1).map(o=>o.widgets).flat(),s=e.widgets.map(o=>o.componentName),f=this.widgets.filter(o=>!t.map(y=>y.componentName).includes(o.componentName)).map(o=>({value:o,label:o.name})),c=await new Promise((o,h)=>{Popup.show(ue,{value:f.filter(y=>s.includes(y.value.componentName)),resolve:o,reject:h,type:"multiselect",options:f,label:p("Choose Widget"),description:p("Select with widget you want to add to the column.")})}),n=this.columns.indexOf(e),a=c.map(o=>o.value);this.columns[n].widgets=a,this.handleChange(this.columns[n])}catch(t){console.log(t)}}}},Fn={class:"-mx-4 mt-4 flex flex-col md:flex-row-reverse flex-wrap"},Hn={class:"mb-4"},Pn=["onClick"],An={class:"text-sm text-primary",type:"info"};function Rn(e,t,s,f,c,n){const a=C("draggable");return l(),r("div",Fn,[(l(!0),r(_,null,k(c.columns,o=>(l(),M(a,{key:o.name,onChange:h=>n.handleChange(o,h),"item-key":"componentName",group:o.parent,list:o.widgets,class:"mb-4 px-4 w-full lg:w-1/2 xl:w-1/3"},{item:w(({element:h})=>[i("div",Hn,[(l(),M(L(h.component),{onOnRemove:y=>n.handleRemoveWidget(h,o)},null,40,["onOnRemove"]))])]),footer:w(()=>[i("div",{onClick:h=>n.openWidgetAdded(o),class:"cursor-pointer border-2 border-dashed h-16 flex items-center justify-center"},[i("span",An,u(n.__("Click here to add widgets")),1)],8,Pn)]),_:2},1032,["onChange","group","list"]))),128))])}var Vn=x(jn,[["render",Rn]]);const Yn={data:()=>({}),mounted(){},components:{nsDateRangePicker:W,nsDateTimePicker:Q,nsSwitch:B},computed:{isInputField(){return["text","password","email","number","tel"].includes(this.field.type)},isDateField(){return["date"].includes(this.field.type)},isSelectField(){return["select"].includes(this.field.type)},isTextarea(){return["textarea"].includes(this.field.type)},isCheckbox(){return["checkbox"].includes(this.field.type)},isMultiselect(){return["multiselect"].includes(this.field.type)},isSelectAudio(){return["select-audio"].includes(this.field.type)},isSwitch(){return["switch"].includes(this.field.type)},isMedia(){return["media"].includes(this.field.type)},isCkEditor(){return["ckeditor"].includes(this.field.type)},isDateTimePicker(){return["datetimepicker"].includes(this.field.type)},isDateRangePicker(){return["daterangepicker"].includes(this.field.type)},isCustom(){return["custom"].includes(this.field.type)}},props:["field"],methods:{addOption(e){this.field.type==="select"&&this.field.options.forEach(s=>s.selected=!1),e.selected=!0;const t=this.field.options.indexOf(e);this.field.options.splice(t,1),this.field.options.unshift(e),this.refreshMultiselect(),this.$emit("change",{action:"addOption",option:e})},refreshMultiselect(){this.field.value=this.field.options.filter(e=>e.selected).map(e=>e.value)},removeOption(e){e.selected=!1,this.refreshMultiselect(),this.$emit("change",{action:"removeOption",option:e})}}},Ln={class:"flex flex-auto"},qn=["innerHTML"],Nn=["innerHTML"],Un=["innerHTML"],Bn=["innerHTML"],zn=["innerHTML"],In=["innerHTML"],Wn=["innerHTML"],Qn=["innerHTML"],Gn=["innerHTML"],Kn=["innerHTML"],Jn=["innerHTML"],Xn=["innerHTML"];function Zn(e,t,s,f,c,n){const a=C("ns-input"),o=C("ns-date-time-picker"),h=C("ns-date"),y=C("ns-media-input"),D=C("ns-select"),j=C("ns-daterange-picker"),R=C("ns-select-audio"),G=C("ns-textarea"),K=C("ns-checkbox"),J=C("ns-multiselect"),X=C("ns-ckeditor"),Z=C("ns-switch");return l(),r("div",Ln,[n.isInputField?(l(),M(a,{key:0,onBlur:t[0]||(t[0]=$=>e.$emit("blur",s.field)),onChange:t[1]||(t[1]=$=>e.$emit("change",s.field)),field:s.field},{default:w(()=>[g(u(s.field.label),1)]),description:w(()=>[i("span",{innerHTML:s.field.description||""},null,8,qn)]),_:1},8,["field"])):d("",!0),n.isDateTimePicker?(l(),M(o,{key:1,onBlur:t[2]||(t[2]=$=>e.$emit("blur",s.field)),onChange:t[3]||(t[3]=$=>e.$emit("change",s.field)),field:s.field},{default:w(()=>[g(u(s.field.label),1)]),description:w(()=>[i("span",{innerHTML:s.field.description||""},null,8,Nn)]),_:1},8,["field"])):d("",!0),n.isDateField?(l(),M(h,{key:2,onBlur:t[4]||(t[4]=$=>e.$emit("blur",s.field)),onChange:t[5]||(t[5]=$=>e.$emit("change",s.field)),field:s.field},{default:w(()=>[g(u(s.field.label),1)]),description:w(()=>[i("span",{innerHTML:s.field.description||""},null,8,Un)]),_:1},8,["field"])):d("",!0),n.isMedia?(l(),M(y,{key:3,onBlur:t[6]||(t[6]=$=>e.$emit("blur",s.field)),onChange:t[7]||(t[7]=$=>e.$emit("change",s.field)),field:s.field},{default:w(()=>[g(u(s.field.label),1)]),description:w(()=>[i("span",{innerHTML:s.field.description||""},null,8,Bn)]),_:1},8,["field"])):d("",!0),n.isSelectField?(l(),M(D,{key:4,onBlur:t[8]||(t[8]=$=>e.$emit("blur",s.field)),onChange:t[9]||(t[9]=$=>e.$emit("change",s.field)),field:s.field},{default:w(()=>[g(u(s.field.label),1)]),description:w(()=>[i("span",{innerHTML:s.field.description||""},null,8,zn)]),_:1},8,["field"])):d("",!0),n.isDateRangePicker?(l(),M(j,{key:5,onBlur:t[10]||(t[10]=$=>e.$emit("blur",s.field)),onChange:t[11]||(t[11]=$=>e.$emit("change",s.field)),field:s.field},{default:w(()=>[g(u(s.field.label),1)]),description:w(()=>[i("span",{innerHTML:s.field.description||""},null,8,In)]),_:1},8,["field"])):d("",!0),n.isSelectAudio?(l(),M(R,{key:6,onBlur:t[12]||(t[12]=$=>e.$emit("blur",s.field)),onChange:t[13]||(t[13]=$=>e.$emit("change",s.field)),field:s.field},{default:w(()=>[g(u(s.field.label),1)]),description:w(()=>[i("span",{innerHTML:s.field.description||""},null,8,Wn)]),_:1},8,["field"])):d("",!0),n.isTextarea?(l(),M(G,{key:7,onBlur:t[14]||(t[14]=$=>e.$emit("blur",s.field)),onChange:t[15]||(t[15]=$=>e.$emit("change",s.field)),field:s.field},{description:w(()=>[i("span",{innerHTML:s.field.description||""},null,8,Qn)]),default:w(()=>[i("template",null,[g(u(s.field.label),1)])]),_:1},8,["field"])):d("",!0),n.isCheckbox?(l(),M(K,{key:8,onBlur:t[16]||(t[16]=$=>e.$emit("blur",s.field)),onChange:t[17]||(t[17]=$=>e.$emit("change",s.field)),field:s.field},{default:w(()=>[g(u(s.field.label),1)]),description:w(()=>[i("span",{innerHTML:s.field.description||""},null,8,Gn)]),_:1},8,["field"])):d("",!0),n.isMultiselect?(l(),M(J,{key:9,onAddOption:t[18]||(t[18]=$=>n.addOption($)),onRemoveOption:t[19]||(t[19]=$=>n.removeOption($)),field:s.field},{default:w(()=>[g(u(s.field.label),1)]),description:w(()=>[i("span",{innerHTML:s.field.description||""},null,8,Kn)]),_:1},8,["field"])):d("",!0),n.isCkEditor?(l(),M(X,{key:10,field:s.field},{default:w(()=>[g(u(s.field.label),1)]),description:w(()=>[i("span",{innerHTML:s.field.description||""},null,8,Jn)]),_:1},8,["field"])):d("",!0),n.isSwitch?(l(),M(Z,{key:11,field:s.field,onChange:t[20]||(t[20]=$=>e.$emit("change",s.field))},{default:w(()=>[g(u(s.field.label),1)]),description:w(()=>[i("span",{innerHTML:s.field.description||""},null,8,Xn)]),_:1},8,["field"])):d("",!0),n.isCustom?(l(),M(ie,{key:12},[(l(),M(L(s.field.component),{field:s.field,onBlur:t[21]||(t[21]=$=>e.$emit("blur",s.field)),onChange:t[22]||(t[22]=$=>e.$emit("change",s.field))},null,40,["field"]))],1024)):d("",!0)])}var el=x(Yn,[["render",Zn]]);const tl={props:["className","buttonClass","type"]};function sl(e,t,s,f,c,n){return l(),r("button",{class:b([s.type?s.type:s.buttonClass,"ns-inset-button rounded-full h-8 w-8 border items-center justify-center"])},[i("i",{class:b([s.className,"las"])},null,2)],2)}var il=x(tl,[["render",sl]]);const nl={data:()=>({}),mounted(){},computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},disabledClass(){return this.field.disabled?"ns-disabled cursor-not-allowed":""},inputClass(){return this.disabledClass+" "+this.leadClass},leadClass(){return this.leading?"pl-8":"px-4"}},props:["placeholder","leading","type","field"]},ll={class:"flex flex-col mb-2 flex-auto ns-input"},rl=["for"],al={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},dl={class:"leading sm:text-sm sm:leading-5"},ol=["disabled","id","type","placeholder"],ul={key:0,class:"text-xs ns-description"};function cl(e,t,s,f,c,n){return l(),r("div",ll,[i("label",{for:s.field.name,class:b([n.hasError?"has-error":"is-pristine","block leading-5 font-medium"])},[m(e.$slots,"default")],10,rl),i("div",{class:b([n.hasError?"has-error":"is-pristine","mt-1 relative overflow-hidden border-2 rounded-md focus:shadow-sm mb-2"])},[s.leading?(l(),r("div",al,[i("span",dl,u(s.leading),1)])):d("",!0),S(i("input",{disabled:s.field.disabled,"onUpdate:modelValue":t[0]||(t[0]=a=>s.field.value=a),onBlur:t[1]||(t[1]=a=>e.$emit("blur",this)),onChange:t[2]||(t[2]=a=>e.$emit("change",this)),id:s.field.name,type:s.type||s.field.type||"text",class:b([n.inputClass,"block w-full sm:text-sm sm:leading-5 h-10"]),placeholder:s.placeholder},null,42,ol),[[N,s.field.value]])],2),!s.field.errors||s.field.errors.length===0?(l(),r("p",ul,[m(e.$slots,"description")])):d("",!0),(l(!0),r(_,null,k(s.field.errors,(a,o)=>(l(),r("p",{key:o,class:"text-xs ns-error"},[a.identifier==="required"?m(e.$slots,a.identifier,{key:0},()=>[g("This field is required.")]):d("",!0),a.identifier==="email"?m(e.$slots,a.identifier,{key:1},()=>[g("This field must contain a valid email address.")]):d("",!0),a.identifier==="invalid"?m(e.$slots,a.identifier,{key:2},()=>[g(u(a.message),1)]):d("",!0)]))),128))])}var hl=x(nl,[["render",cl]]);const fl={data:()=>({clicked:!1,_save:0}),props:["type","to","href","target"],computed:{buttonclass(){switch(this.type){case"info":return"shadow bg-blue-400 text-white";case"success":return"shadow bg-green-400 text-white";case"error":return"shadow bg-red-400 text-white";case"warning":return"shadow bg-orange-400 text-white";default:return"shadow bg-white text-gray-800"}}}},ml={class:"flex"},bl=["target","href"];function gl(e,t,s,f,c,n){const a=C("router-link");return l(),r("div",ml,[s.to?(l(),M(a,{key:0,to:s.to,class:b([n.buttonclass,"rounded cursor-pointer py-2 px-3 font-semibold"])},{default:w(()=>[m(e.$slots,"default")]),_:3},8,["to","class"])):d("",!0),s.href?(l(),r("a",{key:1,target:s.target,href:s.href,class:b([n.buttonclass,"hover:underline rounded cursor-pointer py-2 px-3 font-semibold"])},[m(e.$slots,"default")],10,bl)):d("",!0)])}var _l=x(fl,[["render",gl]]);const vl={computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},disabledClass(){return this.field.disabled?"ns-disabled cursor-not-allowed":"ns-enabled"},inputClass(){return this.disabledClass+" "+this.leadClass},leadClass(){return this.leading?"pl-8":"px-4"}},data(){return{}},props:["placeholder","leading","type","field"],mounted(){},methods:{toggleMedia(){new Promise((t,s)=>{H.show(he,{resolve:t,reject:s,...this.field.data||{}})}).then(t=>{t.event==="use-selected"&&(!this.field.data||this.field.data.type==="url"?this.field.value=t.value[0].sizes.original:(!this.field.data||this.field.data.type==="model")&&(this.field.value=t.value[0]),this.$forceUpdate())})}}},yl={class:"flex flex-col mb-2 flex-auto ns-media"},pl=["for"],kl={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},xl={class:"text-primary sm:text-sm sm:leading-5"},wl={class:"rounded overflow-hidden flex"},Cl={key:0,class:"form-input flex w-full sm:text-sm items-center sm:leading-5 h-10"},$l=["src","alt"],Dl={class:"text-xs text-secondary"},Tl=["disabled","id","type","placeholder"],Ml=i("i",{class:"las la-photo-video"},null,-1),Ol=[Ml],Sl={key:0,class:"text-xs text-primary"};function El(e,t,s,f,c,n){return l(),r("div",yl,[i("label",{for:s.field.name,class:b([n.hasError?"has-error":"is-pristine","block leading-5 font-medium"])},[m(e.$slots,"default")],10,pl),i("div",{class:b([n.hasError?"has-error":"is-pristine","mt-1 relative border-2 rounded-md focus:shadow-sm"])},[s.leading?(l(),r("div",kl,[i("span",xl,u(s.leading),1)])):d("",!0),i("div",wl,[s.field.data&&s.field.data.type==="model"?(l(),r("div",Cl,[s.field.value&&s.field.value.name?(l(),r(_,{key:0},[i("img",{class:"w-8 h-8 m-1",src:s.field.value.sizes.thumb,alt:s.field.value.name},null,8,$l),i("span",Dl,u(s.field.value.name),1)],64)):d("",!0)])):d("",!0),!s.field.data||s.field.data.type==="undefined"||s.field.data.type==="url"?S((l(),r("input",{key:1,"onUpdate:modelValue":t[0]||(t[0]=a=>s.field.value=a),disabled:s.field.disabled,onBlur:t[1]||(t[1]=a=>e.$emit("blur",this)),onChange:t[2]||(t[2]=a=>e.$emit("change",this)),id:s.field.name,type:s.type||s.field.type||"text",class:b([n.inputClass,"form-input block w-full sm:text-sm sm:leading-5 h-10"]),placeholder:s.placeholder},null,42,Tl)),[[N,s.field.value]]):d("",!0),i("button",{onClick:t[3]||(t[3]=a=>n.toggleMedia(s.field)),class:"w-10 h-10 flex items-center justify-center border-l-2 outline-none"},Ol)])],2),!s.field.errors||s.field.errors.length===0?(l(),r("p",Sl,[m(e.$slots,"description")])):d("",!0),(l(!0),r(_,null,k(s.field.errors,(a,o)=>(l(),r("p",{key:o,class:"text-xs text-error-primary"},[a.identifier==="required"?m(e.$slots,a.identifier,{key:0},()=>[g(u(e.__("This field is required.")),1)]):d("",!0),a.identifier==="email"?m(e.$slots,a.identifier,{key:1},()=>[g(u(e.__("This field must contain a valid email address.")),1)]):d("",!0),a.identifier==="invalid"?m(e.$slots,a.identifier,{key:2},()=>[g(u(a.message),1)]):d("",!0)]))),128))])}var jl=x(vl,[["render",El]]);const Fl={data:()=>({defaultToggledState:!1,_save:0,hasChildren:!1}),props:["href","to","label","icon","notification","toggled","identifier"],mounted(){this.hasChildren=this.$el.querySelectorAll(".submenu").length>0,this.defaultToggledState=this.toggled!==void 0?this.toggled:this.defaultToggledState,P.subject().subscribe(e=>{e.value!==this.identifier&&(this.defaultToggledState=!1)})},methods:{toggleEmit(){this.toggle().then(e=>{e&&P.emit({identifier:"side-menu.open",value:this.identifier})})},goTo(e,t){return this.$router.push(e),t.preventDefault(),!1},toggle(){return new Promise((e,t)=>{(!this.href||this.href.length===0)&&(this.defaultToggledState=!this.defaultToggledState,e(this.defaultToggledState))})}}},Hl=["href"],Pl={class:"flex items-center"},Al={key:0,class:"rounded-full bg-red-600 text-white dark:text-slate-300 font-bold w-6 h-6 text-xs justify-center items-center flex"},Rl=["href"],Vl={class:"flex items-center"},Yl={key:0,class:"rounded-full bg-red-600 text-white dark:text-slate-300 font-bold w-6 h-6 text-xs justify-center items-center flex"};function Ll(e,t,s,f,c,n){var a,o;return l(),r("div",null,[s.to&&!e.hasChildren?(l(),r("a",{key:0,onClick:t[0]||(t[0]=h=>n.goTo(s.to,h)),href:s.to,class:b([e.defaultToggledState?"border-blue-800 bg-gray-800 dark:border-slate-700 dark:bg-slate-700":"border-transparent bg-gray-900 dark:bg-slate-900","flex justify-between py-2 border-l-8 text-gray-200 dark:text-slate-300 dark:hover:bg-slate-700 px-3 font-bold hover:bg-gray-700"])},[i("span",Pl,[i("i",{class:b(["las text-lg mr-2",((a=s.icon)==null?void 0:a.length)>0?s.icon:"la-star"])},null,2),g(" "+u(s.label),1)]),s.notification>0?(l(),r("span",Al,u(s.notification),1)):d("",!0)],10,Hl)):(l(),r("a",{key:1,onClick:t[1]||(t[1]=h=>n.toggleEmit()),href:s.href||"javascript:void(0)",class:b([e.defaultToggledState?"border-blue-800 bg-gray-800 dark:border-slate-700 dark:bg-slate-700":"border-transparent bg-gray-900 dark:bg-slate-900","flex justify-between py-2 border-l-8 text-gray-200 dark:text-slate-300 dark:hover:bg-slate-700 px-3 font-bold hover:bg-gray-700"])},[i("span",Vl,[i("i",{class:b(["las text-lg mr-2",((o=s.icon)==null?void 0:o.length)>0?s.icon:"la-star"])},null,2),g(" "+u(s.label),1)]),s.notification>0?(l(),r("span",Yl,u(s.notification),1)):d("",!0)],10,Rl)),i("ul",{class:b([e.defaultToggledState?"":"hidden","submenu-wrapper"])},[m(e.$slots,"default")],2)])}var ql=x(Fl,[["render",Ll]]);const Nl={data(){return{showPanel:!1,search:""}},props:["field"],computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},_options(){return this.field.options.map(e=>(e.selected=e.selected===void 0?!1:e.selected,this.field.value&&this.field.value.includes(e.value)&&(e.selected=!0),e))}},methods:{__:p,addOption(e){this.field.disabled||(this.$emit("addOption",e),this.$forceUpdate(),setTimeout(()=>{},100))},removeOption(e,t){if(!this.field.disabled)return t.preventDefault(),t.stopPropagation(),this.$emit("removeOption",e),this.$forceUpdate(),setTimeout(()=>{this.search=""},100),!1}},mounted(){this.field.value&&this.field.value.reverse().forEach(t=>{const s=this.field.options.filter(f=>f.value===t);s.length>=0&&this.addOption(s[0])})}},Ul={class:"flex flex-col ns-multiselect"},Bl=["for"],zl={class:"flex flex-col"},Il={class:"flex -mx-1 -my-1 flex-wrap"},Wl={class:"rounded bg-info-secondary text-white flex justify-between p-1 items-center"},Ql={class:"pr-8"},Gl=["onClick"],Kl=i("i",{class:"las la-times"},null,-1),Jl=[Kl],Xl={key:0,class:"las la-angle-down"},Zl={key:1,class:"las la-angle-up"},er={class:"ns-dropdown shadow"},tr={class:"search border-b border-input-option-hover"},sr={class:"h-40 overflow-y-auto"},ir=["onClick"],nr={key:0,class:"las la-check"},lr={key:0,class:"p-2 text-center text-primary"},rr={class:"my-2"},ar={key:0,class:"text-xs text-secondary"};function dr(e,t,s,f,c,n){return l(),r("div",Ul,[i("label",{for:s.field.name,class:b([n.hasError?"text-error-secondary":"text-primary","block mb-1 leading-5 font-medium"])},[m(e.$slots,"default")],10,Bl),i("div",zl,[i("div",{onClick:t[0]||(t[0]=a=>c.showPanel=!c.showPanel),class:b([(c.showPanel,""),"select-preview flex justify-between rounded border-2 border-input-option-hover p-2 items-center"])},[i("div",Il,[(l(!0),r(_,null,k(n._options.filter(a=>a.selected),(a,o)=>(l(),r("div",{key:o,class:"px-1 my-1"},[i("div",Wl,[i("span",Ql,u(a.label),1),i("button",{onClick:h=>n.removeOption(a,h),class:"rounded outline-none hover:bg-info-tertiary h-6 w-6 flex items-center justify-center"},Jl,8,Gl)])]))),128))]),i("div",null,[c.showPanel?(l(),r("i",Xl)):d("",!0),c.showPanel?d("",!0):(l(),r("i",Zl))])],2),c.showPanel?(l(),r("div",{key:0,class:b(["h-0 z-10",c.showPanel?"shadow":""])},[i("div",er,[i("div",tr,[S(i("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>c.search=a),class:"p-2 w-full bg-transparent text-primary outline-none",placeholder:"Search"},null,512),[[E,c.search]])]),i("div",sr,[(l(!0),r(_,null,k(n._options,(a,o)=>(l(),r("div",{onClick:h=>n.addOption(a),key:o,class:b([a.selected?"bg-info-secondary text-white":"text-primary","option p-2 flex justify-between cursor-pointer hover:bg-info-secondary hover:text-white"])},[i("span",null,u(a.label),1),i("span",null,[a.checked?(l(),r("i",nr)):d("",!0)])],10,ir))),128))]),n._options.length===0?(l(),r("div",lr,u(n.__("Nothing to display")),1)):d("",!0)])],2)):d("",!0)]),i("div",rr,[!s.field.errors||s.field.errors.length===0?(l(),r("p",ar,[m(e.$slots,"description")])):d("",!0),(l(!0),r(_,null,k(s.field.errors,(a,o)=>(l(),r("p",{key:o,class:"text-xs text-error-secondary"},[a.identifier==="required"?m(e.$slots,a.identifier,{key:0},()=>[g(u(n.__("This field is required.")),1)]):d("",!0),a.identifier==="email"?m(e.$slots,a.identifier,{key:1},()=>[g(u(n.__("This field must contain a valid email address.")),1)]):d("",!0),a.identifier==="invalid"?m(e.$slots,a.identifier,{key:2},()=>[g(u(a.message),1)]):d("",!0)]))),128))])])}var or=x(Nl,[["render",dr]]);const ur={},cr={class:"my-4"},hr={class:"font-bold text-2xl"},fr={class:"text-primary"};function mr(e,t){return l(),r("div",cr,[i("h2",hr,[m(e.$slots,"title")]),i("span",fr,[m(e.$slots,"description")])])}var br=x(ur,[["render",mr]]);const gr={name:"ns-search",props:["url","placeholder","value","label","method","searchArgument"],data(){return{searchText:"",searchTimeout:null,results:[]}},methods:{__:p,selectOption(e){this.$emit("select",e),this.searchText="",this.results=[]}},watch:{searchText(){clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchText.length>0&&F[this.method||"post"](this.url,{[this.searchArgument||"search"]:this.searchText}).subscribe({next:e=>{this.results=e},error:e=>{T.error(e.message||p("An unexpected error occured.")).subscribe()}})},1e3)}},mounted(){}},_r={class:"ns-search"},vr={class:"input-group info border-2"},yr=["placeholder"],pr={class:"relative"},kr={class:"w-full absolute shadow-lg"},xr={key:0,class:"ns-vertical-menu"},wr=["onClick"];function Cr(e,t,s,f,c,n){return l(),r("div",_r,[i("div",vr,[S(i("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>c.searchText=a),class:"p-2 w-full outline-none",placeholder:s.placeholder||n.__("Search..."),id:""},null,8,yr),[[E,c.searchText]])]),i("div",pr,[i("div",kr,[c.results.length>0&&c.searchText.length>0?(l(),r("ul",xr,[(l(!0),r(_,null,k(c.results,(a,o)=>(l(),r("li",{class:"border-b p-2 cursor-pointer",onClick:h=>n.selectOption(a),key:o},u(a[s.label]),9,wr))),128))])):d("",!0)])])])}var $r=x(gr,[["render",Cr]]);const Dr={data:()=>({}),props:["name","placeholder","field","leading"],computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},disabledClass(){return this.field.disabled?"ns-disabled cursor-not-allowed":""},inputClass(){return this.disabledClass+" "+this.leadClass},leadClass(){return this.leading?"pl-8":"px-4"}},mounted(){},methods:{__:p}},Tr={class:"flex flex-col flex-auto ns-select"},Mr=["for"],Or=["disabled","name"],Sr={value:null},Er=["value"],jr={key:0,class:"text-xs ns-description"};function Fr(e,t,s,f,c,n){return l(),r("div",Tr,[i("label",{for:s.field.name,class:b([n.hasError?"has-error":"is-pristine","block leading-5 font-medium"])},[m(e.$slots,"default")],10,Mr),i("div",{class:b([n.hasError?"has-error":"is-pristine","border-2 mt-1 relative rounded-md shadow-sm mb-2 overflow-hidden"])},[S(i("select",{disabled:s.field.disabled?s.field.disabled:!1,onChange:t[0]||(t[0]=a=>e.$emit("change",a)),name:s.field.name,"onUpdate:modelValue":t[1]||(t[1]=a=>s.field.value=a),class:b([n.inputClass,"form-input block w-full pl-7 pr-12 sm:text-sm sm:leading-5 h-10 appearance-none"])},[i("option",Sr,u(n.__("Choose an option")),1),(l(!0),r(_,null,k(s.field.options,(a,o)=>(l(),r("option",{key:o,value:a.value,class:"py-2"},u(a.label),9,Er))),128))],42,Or),[[A,s.field.value]])],2),!s.field.errors||s.field.errors.length===0?(l(),r("p",jr,[m(e.$slots,"description")])):d("",!0),(l(!0),r(_,null,k(s.field.errors,(a,o)=>(l(),r("p",{key:o,class:"text-xs ns-error"},[a.identifier==="required"?m(e.$slots,a.identifier,{key:0},()=>[g(u(n.__("This field is required.")),1)]):d("",!0),a.identifier==="email"?m(e.$slots,a.identifier,{key:1},()=>[g(u(n.__("This field must contain a valid email address.")),1)]):d("",!0),a.identifier==="invalid"?m(e.$slots,a.identifier,{key:2},()=>[g(u(a.message),1)]):d("",!0)]))),128))])}var Hr=x(Dr,[["render",Fr]]);const Pr={data:()=>({}),props:["name","placeholder","field"],computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},disabledClass(){return this.field.disabled?"bg-gray-200 cursor-not-allowed":"bg-transparent"},inputClass(){return this.disabledClass+" "+this.leadClass},leadClass(){return this.leading?"pl-8":"px-4"}},methods:{__:p,playSelectedSound(){this.field.value.length>0&&new Audio(this.field.value).play()}}},Ar={class:"flex flex-col flex-auto"},Rr=["for"],Vr=i("button",{class:"w-10 flex item-center justify-center"},[i("i",{class:"las la-play text-2xl"})],-1),Yr=[Vr],Lr=["disabled","name"],qr=["value"],Nr={key:0,class:"text-xs text-secondary"};function Ur(e,t,s,f,c,n){return l(),r("div",Ar,[i("label",{for:s.field.name,class:b([n.hasError?"text-error-primary":"text-primary","block leading-5 font-medium"])},[m(e.$slots,"default")],10,Rr),i("div",{class:b([n.hasError?"border-error-primary":"border-input-edge","border-2 mt-1 flex relative overflow-hidden rounded-md shadow-sm mb-2 form-input"])},[i("div",{onClick:t[0]||(t[0]=a=>n.playSelectedSound()),class:"border-r-2 border-input-edge flex-auto flex items-center justify-center hover:bg-info-primary hover:text-white"},Yr),S(i("select",{disabled:s.field.disabled?s.field.disabled:!1,onChange:t[1]||(t[1]=a=>e.$emit("change",a)),name:s.field.name,"onUpdate:modelValue":t[2]||(t[2]=a=>s.field.value=a),class:b([n.inputClass,"text-primary block w-full pl-7 pr-12 sm:text-sm sm:leading-5 h-10 outline-none"])},[(l(!0),r(_,null,k(s.field.options,(a,o)=>(l(),r("option",{key:o,value:a.value,class:"py-2"},u(a.label),9,qr))),128))],42,Lr),[[A,s.field.value]])],2),!s.field.errors||s.field.errors.length===0?(l(),r("p",Nr,[m(e.$slots,"description")])):d("",!0),(l(!0),r(_,null,k(s.field.errors,(a,o)=>(l(),r("p",{key:o,class:"text-xs text-error-primary"},[a.identifier==="required"?m(e.$slots,a.identifier,{key:0},()=>[g(u(n.__("This field is required.")),1)]):d("",!0),a.identifier==="email"?m(e.$slots,a.identifier,{key:1},()=>[g(u(n.__("This field must contain a valid email address.")),1)]):d("",!0),a.identifier==="invalid"?m(e.$slots,a.identifier,{key:2},()=>[g(u(a.message),1)]):d("",!0)]))),128))])}var Br=x(Pr,[["render",Ur]]);const zr={data:()=>({}),mounted(){},computed:{validatedSize(){return this.size||24},validatedBorder(){return this.border||8},validatedAnimation(){return this.animation||"fast"}},props:["color","size","border","animation"]},Ir={class:"flex items-center justify-center"};function Wr(e,t,s,f,c,n){return l(),r("div",Ir,[i("div",{class:b(["loader ease-linear rounded-full border-gray-200",n.validatedAnimation+" border-4 border-t-4 w-"+n.validatedSize+" h-"+n.validatedSize])},null,2)])}var Qr=x(zr,[["render",Wr]]);const Gr={data:()=>({}),props:["href","label","active","to"],mounted(){},methods:{goTo(e,t){return this.$router.push(e),t.preventDefault(),!1}}},Kr={class:"submenu"},Jr=["href"],Xr=["href"];function Zr(e,t,s,f,c,n){return l(),r("div",null,[i("li",Kr,[s.href?(l(),r("a",{key:0,class:b([s.active?"font-bold text-white dark:text-slate-300":"text-gray-100 dark:text-slate-200","py-2 border-l-8 border-blue-800 dark:border-slate-700 px-3 block bg-gray-800 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-gray-700"]),href:s.href},[m(e.$slots,"default")],10,Jr)):s.to?(l(),r("a",{key:1,class:b([s.active?"font-bold text-white dark:text-slate-300":"text-gray-100 dark:text-slate-200","py-2 border-l-8 border-blue-800 dark:border-slate-700 px-3 block bg-gray-800 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-gray-700"]),onClick:t[0]||(t[0]=a=>n.goTo(s.to,a)),href:s.to},[m(e.$slots,"default")],10,Xr)):d("",!0)])])}var ea=x(Gr,[["render",Zr]]);const ta={props:["options","row","columns","prependOptions","showOptions"],data:()=>({optionsToggled:!1}),mounted(){},methods:{__:p,sanitizeHTML(e){var t=document.createElement("div");t.innerHTML=e;for(var s=t.getElementsByTagName("script"),f=s.length;f--;)s[f].parentNode.removeChild(s[f]);return t.innerHTML},getElementOffset(e){const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},toggleMenu(e){if(this.row.$toggled=!this.row.$toggled,this.$emit("toggled",this.row),this.row.$toggled)setTimeout(()=>{const t=this.$el.querySelectorAll(".relative > .absolute")[0],s=this.$el.querySelectorAll(".relative")[0],f=this.getElementOffset(s);t.style.top=f.top+"px",t.style.left=f.left+"px",s.classList.remove("relative"),s.classList.add("dropdown-holder")},100);else{const t=this.$el.querySelectorAll(".dropdown-holder")[0];t.classList.remove("dropdown-holder"),t.classList.add("relative")}},handleChanged(e){this.row.$checked=e,this.$emit("updated",this.row)},triggerAsync(e){e.confirm?confirm(e.confirm.message)&&F[e.type.toLowerCase()](e.url).subscribe(t=>{T.success(t.message).subscribe(),this.$emit("reload",this.row)},t=>{this.toggleMenu(),T.error(t.message).subscribe()}):(P.emit({identifier:"ns-table-row-action",value:{action:e,row:this.row,component:this}}),this.toggleMenu())},triggerPopup(e,t){const s=window.nsExtraComponents[e.component];if(e.component)return s?new Promise((f,c)=>{Popup.show(s,{resolve:f,reject:c,row:t,action:e})}):T.error(p(`Unable to load the component "${e.component}". Make sure the component is registered to "nsExtraComponents".`)).subscribe();this.triggerAsync(e)}}},sa={class:"font-sans p-2"},ia={key:0,class:"font-sans p-2"},na={class:""},la=i("i",{class:"las la-ellipsis-h"},null,-1),ra={class:"relative"},aa={key:0,class:"zoom-in-entrance border border-box-edge anim-duration-300 z-50 origin-bottom-right w-56 mt-2 absolute rounded-md shadow-lg ns-menu-wrapper"},da={class:"rounded-md shadow-xs"},oa={class:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"},ua=["href","innerHTML"],ca=["onClick","innerHTML"],ha=["href","innerHTML"],fa=["innerHTML"],ma={key:2},ba={key:1,class:"font-sans p-2 flex flex-col items-center justify-center"},ga={class:""},_a=i("i",{class:"las la-ellipsis-h"},null,-1),va={class:"relative"},ya={key:0,class:"zoom-in-entrance border border-box-edge anim-duration-300 z-50 origin-bottom-right -ml-28 w-56 mt-2 absolute rounded-md shadow-lg ns-menu-wrapper"},pa={class:"rounded-md shadow-xs"},ka={class:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"},xa=["href","innerHTML"],wa=["onClick","innerHTML"];function Ca(e,t,s,f,c,n){const a=C("ns-checkbox");return l(),r("tr",{class:b(["ns-table-row",s.row.$cssClass?s.row.$cssClass:"border text-sm"])},[i("td",sa,[O(a,{onChange:t[0]||(t[0]=o=>n.handleChanged(o)),checked:s.row.$checked},null,8,["checked"])]),s.prependOptions&&s.showOptions?(l(),r("td",ia,[i("div",na,[i("button",{onClick:t[1]||(t[1]=o=>n.toggleMenu(o)),class:b([s.row.$toggled?"active":"","ns-inset-button outline-none rounded-full w-24 text-sm p-1 border"])},[la,g(" "+u(n.__("Options")),1)],2),s.row.$toggled?(l(),r("div",{key:0,onClick:t[2]||(t[2]=o=>n.toggleMenu(o)),class:"absolute w-full h-full z-10 top-0 left-0"})):d("",!0),i("div",ra,[s.row.$toggled?(l(),r("div",aa,[i("div",da,[i("div",oa,[(l(!0),r(_,null,k(s.row.$actions,(o,h)=>(l(),r(_,{key:h},[o.type==="GOTO"?(l(),r("a",{key:0,href:o.url,class:"ns-action-button block px-4 py-2 text-sm leading-5",role:"menuitem",innerHTML:n.sanitizeHTML(o.label)},null,8,ua)):d("",!0),["GET","DELETE","POPUP"].includes(o.type)?(l(),r("a",{key:1,href:"javascript:void(0)",onClick:y=>n.triggerAsync(o),class:"ns-action-button block px-4 py-2 text-sm leading-5",role:"menuitem",innerHTML:n.sanitizeHTML(o.label)},null,8,ca)):d("",!0)],64))),128))])])])):d("",!0)])])])):d("",!0),(l(!0),r(_,null,k(s.columns,(o,h)=>(l(),r("td",{key:h,class:"font-sans p-2"},[s.row[h]&&s.row[h].type&&s.row[h].type==="link"?(l(),r("a",{key:0,target:"_blank",href:s.row[h].href,innerHTML:n.sanitizeHTML(s.row[h].label)},null,8,ha)):d("",!0),typeof s.row[h]=="string"||typeof s.row[h]=="number"?(l(),r("div",{key:1,innerHTML:n.sanitizeHTML(s.row[h])},null,8,fa)):d("",!0),s.row[h]===null?(l(),r("div",ma,u(n.__("Undefined")),1)):d("",!0)]))),128)),!s.prependOptions&&s.showOptions?(l(),r("td",ba,[i("div",ga,[i("button",{onClick:t[3]||(t[3]=o=>n.toggleMenu(o)),class:b([s.row.$toggled?"active":"","ns-inset-button outline-none rounded-full w-24 text-sm p-1 border"])},[_a,g(" "+u(n.__("Options")),1)],2),s.row.$toggled?(l(),r("div",{key:0,onClick:t[4]||(t[4]=o=>n.toggleMenu(o)),class:"absolute w-full h-full z-10 top-0 left-0"})):d("",!0),i("div",va,[s.row.$toggled?(l(),r("div",ya,[i("div",pa,[i("div",ka,[(l(!0),r(_,null,k(s.row.$actions,(o,h)=>(l(),r(_,{key:h},[o.type==="GOTO"?(l(),r("a",{key:0,href:o.url,class:"ns-action-button block px-4 py-2 text-sm leading-5",role:"menuitem",innerHTML:n.sanitizeHTML(o.label)},null,8,xa)):d("",!0),["GET","DELETE","POPUP"].includes(o.type)?(l(),r("a",{key:1,href:"javascript:void(0)",onClick:y=>n.triggerAsync(o),class:"ns-action-button block px-4 py-2 text-sm leading-5",role:"menuitem",innerHTML:n.sanitizeHTML(o.label)},null,8,wa)):d("",!0)],64))),128))])])])):d("",!0)])])])):d("",!0)],2)}var $a=x(ta,[["render",Ca]]);const Da={data(){return{childrens:[],tabState:new ae}},props:["active"],computed:{activeComponent(){const e=this.childrens.filter(t=>t.active);return e.length>0?e[0]:!1}},beforeUnmount(){this.tabState.unsubscribe()},watch:{active(e,t){this.childrens.forEach(s=>{s.active=s.identifier===t})}},methods:{toggle(e){this.$emit("active",e.identifier),this.$emit("changeTab",e.identifier),this.tabState.next(e)},buildChildrens(e){this.childrens=Array.from(this.$el.querySelectorAll(".ns-tab-item")).map(s=>{const f=s.getAttribute("identifier")||void 0;let c=!0;return s.getAttribute("visible")&&(c=s.getAttribute("visible")==="true"),{el:s,active:!!(e&&e===f),identifier:f,initialized:!1,visible:c,label:s.getAttribute("label")||__("Unamed Tab")}}).filter(s=>s.visible),!(this.childrens.filter(s=>s.active).length>0)&&this.childrens.length>0&&(this.childrens[0].active=!0),this.childrens.forEach(s=>{s.active&&this.toggle(s)})}},mounted(){this.buildChildrens(this.active)}},Ta=["selected-tab"],Ma={class:"header ml-4 flex justify-between",style:{"margin-bottom":"-1px"}},Oa={class:"flex flex-auto"},Sa=["onClick"];function Ea(e,t,s,f,c,n){return l(),r("div",{class:"tabs flex flex-col flex-auto ns-tab overflow-hidden","selected-tab":n.activeComponent.identifier},[i("div",Ma,[i("div",Oa,[(l(!0),r(_,null,k(c.childrens,(a,o)=>(l(),r("div",{key:o,onClick:h=>n.toggle(a),class:b([s.active===a.identifier?"border-b-0 active z-10":"border inactive","tab rounded-tl rounded-tr border px-3 py-2 cursor-pointer"]),style:{"margin-right":"-1px"}},u(a.label),11,Sa))),128))]),i("div",null,[m(e.$slots,"extra")])]),m(e.$slots,"default")],8,Ta)}var ja=x(Da,[["render",Ea]]);const Fa={data(){return{selectedTab:"",tabStateSubscriber:null}},computed:{},mounted(){this.tabStateSubscriber=this.$parent.tabState.subscribe(e=>{this.selectedTab=e})},beforeUnmount(){this.tabStateSubscriber.unsubscribe()},props:["label","identifier","padding"]},Ha=["label","identifier"];function Pa(e,t,s,f,c,n){return l(),r("div",{class:b([c.selectedTab.identifier!==s.identifier?"hidden":"","ns-tab-item flex flex-auto overflow-hidden"]),label:s.label,identifier:s.identifier},[c.selectedTab.identifier===s.identifier?(l(),r("div",{key:0,class:b(["border rounded flex-auto overflow-y-auto",s.padding||"p-4"])},[m(e.$slots,"default")],2)):d("",!0)],10,Ha)}var Aa=x(Fa,[["render",Pa]]);const Ra={data:()=>({}),mounted(){},computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},disabledClass(){return this.field.disabled?"ns-disabled cursor-not-allowed":""},inputClass(){return this.disabledClass+" "+this.leadClass},leadClass(){return this.leading?"p-8":"p-2"}},props:["placeholder","leading","type","field"]},Va={class:"flex flex-col mb-2 flex-auto ns-textarea"},Ya=["for"],La={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},qa={class:"text-secondary sm:text-sm sm:leading-5"},Na=["rows","disabled","id","type","placeholder"],Ua={key:0,class:"text-xs text-secondary"};function Ba(e,t,s,f,c,n){return l(),r("div",Va,[i("label",{for:s.field.name,class:b([n.hasError?"text-error-primary":"text-primary","block leading-5 font-medium"])},[m(e.$slots,"default")],10,Ya),i("div",{class:b([n.hasError?"has-error":"is-pristine","mt-1 relative border-2 overflow-hidden rounded-md focus:shadow-sm mb-2"])},[s.leading?(l(),r("div",La,[i("span",qa,u(s.leading),1)])):d("",!0),S(i("textarea",{rows:s.field.data&&s.field.data.rows||10,disabled:s.field.disabled,"onUpdate:modelValue":t[0]||(t[0]=a=>s.field.value=a),onBlur:t[1]||(t[1]=a=>e.$emit("blur",this)),onChange:t[2]||(t[2]=a=>e.$emit("change",this)),id:s.field.name,type:s.type||s.field.type||"text",class:b([n.inputClass,"form-input block w-full sm:text-sm sm:leading-5"]),placeholder:s.placeholder},null,42,Na),[[E,s.field.value]])],2),!s.field.errors||s.field.errors.length===0?(l(),r("p",Ua,[m(e.$slots,"description")])):d("",!0),(l(!0),r(_,null,k(s.field.errors,(a,o)=>(l(),r("p",{key:o,class:"text-xs text-error-primary"},[a.identifier==="required"?m(e.$slots,a.identifier,{key:0},()=>[g("This field is required.")]):d("",!0),a.identifier==="email"?m(e.$slots,a.identifier,{key:1},()=>[g("This field must contain a valid email address.")]):d("",!0),a.identifier==="invalid"?m(e.$slots,a.identifier,{key:2},()=>[g(u(a.message),1)]):d("",!0)]))),128))])}var za=x(Ra,[["render",Ba]]),dd=Object.freeze(Object.defineProperty({__proto__:null,nsMenu:ql,nsCalendar:I,nsSubmenu:ea,nsButton:Se,nsLink:_l,nsInput:hl,nsSelect:Hr,nsCheckbox:Nt,nsCrud:Js,nsDragzone:Vn,nsTableRow:$a,nsSpinner:Qr,nsCrudForm:xi,nsTextarea:za,nsField:el,nsMultiselect:or,nsSwitch:B,nsDate:Ei,nsMediaInput:jl,nsCloseButton:Wt,nsIconButton:il,nsCkeditor:oe,nsTabs:ja,nsTabsItem:Aa,nsDatepicker:hn,nsDateTimePicker:Q,nsNumpad:fe,nsNumpadPlus:me,nsSelectAudio:Br,nsAvatar:$e,nsDateRangePicker:W,nsDaterangePicker:En,nsNotice:ce,nsPaginate:ge,nsSearch:$r,nsPromptPopup:_e,nsAlertPopup:ee,nsConfirmPopup:z,nsPOSLoadingPopup:be,nsPageTitle:br},Symbol.toStringTag,{value:"Module"}));export{ea as a,hn as b,dd as c,En as d,Q as e,el as f,Wt as g,_l as h,ql as n};
