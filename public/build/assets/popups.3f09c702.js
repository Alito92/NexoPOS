import P from"./ns-alert-popup.e868772c.js";import v from"./ns-pos-confirm-popup.cb485ede.js";import w from"./ns-media.ddf767da.js";import{n as x,a as g}from"./ns-orders-preview-popup.4ebe1ae9.js";import y from"./ns-pos-loading-popup.48fb88a5.js";import{n as C}from"./ns-procurement-quantity.944e2ca3.js";import{n as Q}from"./currency.ec2e3443.js";import{b as k}from"./bootstrap.1adf5f09.js";import{_ as L}from"./lang.2d0006f0.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";import{b8 as c,b1 as i,aB as d,aC as t,ap as o,z as p,br as u,M as U,b6 as q,aA as l,az as A}from"./runtime-core.esm-bundler.db039fbe.js";import B from"./ns-prompt-popup.14ac5ecc.js";import{n as S}from"./ns-notice.bcd08020.js";import"./runtime-dom.esm-bundler.febf7d20.js";import"./vue-upload-component.18541017.js";import"./vue.runtime.esm-bundler.0868408f.js";import"./ns-numpad.41a8e015.js";import"./print.8530dd13.js";import"./index.es.f7e98ba1.js";const O={name:"ns-products-preview",computed:{product(){return this.$popupParams.product}},methods:{__:L,nsCurrency:Q,changeActiveTab(e){this.active=e,this.active==="units-quantities"&&this.loadProductQuantities()},loadProductQuantities(){this.hasLoadedUnitQuantities=!1,k.get(`/api/products/${this.product.id}/units/quantities`).subscribe(e=>{this.unitQuantities=e,this.hasLoadedUnitQuantities=!0})}},data(){return{active:"units-quantities",unitQuantities:[],hasLoadedUnitQuantities:!1}},mounted(){this.loadProductQuantities(),this.$popup.event.subscribe(e=>{e.event==="click-overlay"&&this.$popup.close()})}},z={class:"shadow-lg w-6/7-screen lg:w-3/5-screen h-6/7-screen lg:h-4/5-screen ns-box overflow-hidden flex flex-col"},N={class:"p-2 border-b ns-box-header text-primary text-center font-medium flex justify-between items-center"},M={class:"flex-auto overflow-y-auto ns-box-body"},T={class:"p-2"},j={key:0,class:"table ns-table w-full"},D={class:"p-1 border"},E={width:"150",class:"text-right p-1 border"},F={width:"150",class:"text-right p-1 border"},H={width:"150",class:"text-right p-1 border"},R={class:"p-1 border text-left"},W={class:"p-1 border text-right"},G={class:"p-1 border text-right"},I={class:"p-1 border text-right"};function J(e,n,X,Y,a,s){const m=c("ns-close-button"),h=c("ns-spinner"),b=c("ns-tabs-item"),f=c("ns-tabs");return i(),d("div",z,[t("div",N,[t("div",null,o(s.__("Previewing :"))+" "+o(s.product.name),1),t("div",null,[p(m,{onClick:n[0]||(n[0]=r=>e.$popup.close())})])]),t("div",M,[t("div",T,[p(f,{active:a.active,onActive:n[1]||(n[1]=r=>s.changeActiveTab(r))},{default:u(()=>[p(b,{label:s.__("Units & Quantities"),identifier:"units-quantities"},{default:u(()=>[a.hasLoadedUnitQuantities?(i(),d("table",j,[t("thead",null,[t("tr",null,[t("th",D,o(s.__("Unit")),1),t("th",E,o(s.__("Sale Price")),1),t("th",F,o(s.__("Wholesale Price")),1),t("th",H,o(s.__("Quantity")),1)])]),t("tbody",null,[(i(!0),d(U,null,q(a.unitQuantities,r=>(i(),d("tr",{key:r.id},[t("td",R,o(r.unit.name),1),t("td",W,o(s.nsCurrency(r.sale_price)),1),t("td",G,o(s.nsCurrency(r.wholesale_price)),1),t("td",I,o(r.quantity),1)]))),128))])])):l("",!0),a.hasLoadedUnitQuantities?l("",!0):(i(),A(h,{key:1,size:"16",border:"4"}))]),_:1},8,["label"])]),_:1},8,["active"])])])])}var K=V(O,[["render",J]]);const _={nsOrderPreview:x,nsProductPreview:K,nsAlertPopup:P,nsConfirmPopup:v,nsPromptPopup:B,nsMediaPopup:w,nsProcurementQuantity:C,nsOrdersRefund:g,nsSelectPopup:S,nsPOSLoadingPopup:y};for(let e in _)window[e]=_[e];
