import{_ as f}from"./lang-643e0c49.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";import{o as t,c as i,F as l,b as o,a as b,y as d,t as g,e as u,x as _}from"./runtime-core.esm-bundler-a9e64527.js";const w={name:"ns-numpad-plus",props:["value","currency","limit"],data(){return{order:null,cursor:parseInt(ns.currency.ns_currency_precision),orderSubscription:null,allSelected:!0,keyRows:[[7,8,9].map(e=>({identifier:e,value:e})),[4,5,6].map(e=>({identifier:e,value:e})),[1,2,3].map(e=>({identifier:e,value:e})),[{identifier:".",value:"."},{identifier:0,value:0},{identifier:"backspace",icon:"la-backspace"}],[{identifier:"next",value:f("Enter")}]]}},mounted(){const e=new Array(10).fill("").map((s,r)=>r);nsHotPress.create("numpad-keys").whenVisible([".is-popup"]).whenPressed(e,(s,r)=>{this.inputValue({value:r})}),nsHotPress.create("numpad-backspace").whenVisible([".is-popup"]).whenPressed("backspace",()=>this.inputValue({identifier:"backspace"})),nsHotPress.create("numpad-increase").whenVisible([".is-popup"]).whenPressed("+",()=>this.increaseBy({value:1})),nsHotPress.create("numpad-dot").whenVisible([".is-popup"]).whenPressed(".",()=>this.inputValue({identifier:"."})),nsHotPress.create("numpad-reduce").whenVisible([".is-popup"]).whenPressed("-",()=>this.increaseBy({value:-1})),nsHotPress.create("numpad-save").whenVisible([".is-popup"]).whenPressed("enter",()=>this.inputValue({identifier:"next"}))},beforeDestroy(){nsHotPress.destroy("numpad-backspace"),nsHotPress.destroy("numpad-increase"),nsHotPress.destroy("numpad-reduce"),nsHotPress.destroy("numpad-save"),nsHotPress.destroy("numpad-dot")},methods:{increaseBy(e){this.$emit("changed",(parseFloat(e.value)+(parseFloat(this.value)||0)).toString()),this.allSelected=!1},inputValue(e){let s=this.value;if(e.identifier==="next"){this.$emit("next",this.value);return}else if(e.identifier==="backspace")this.allSelected?(s="0",this.allSelected=!1):s=this.value.toString().substr(0,this.value.length-1);else if(e.identifier===".")this.allSelected?(s="0.",this.allSelected=!1):s.toString().match(/^[0-9][1-9]*\.[0-9]*$/)===null&&(s+=".");else if(e.value.toString().match(/^\d+$/)){if(this.limit>0&&this.value.length>=this.limit)return;this.allSelected?(s=e.value.toString(),this.allSelected=!1):(s+=""+e.value.toString(),this.mode==="percentage"&&(s=this.value>100?100:this.value))}this.$emit("changed",s)}}},P={id:"numpad-holder",class:"border-t border-numpad-edge"},S={id:"numpad",class:"grid grid-flow-row grid-cols-3 grid-rows-1 text-lg border-r border-numpad-edge"},V=["onClick"],y={key:0};function H(e,s,r,x,c,p){return t(),i("div",P,[(t(!0),i(l,null,o(c.keyRows,(a,h)=>(t(),i("div",{key:h},[b("div",S,[(t(!0),i(l,null,o(a,(n,m)=>(t(),i("div",{onClick:$=>p.inputValue(n),key:m,class:d([a.length===1?"col-span-3":"","select-none ns-numpad-key border-l border-b h-24 font-bold flex items-center justify-center cursor-pointer"])},[n.value!==void 0?(t(),i("span",y,g(n.value),1)):u("",!0),n.icon?(t(),i("i",{key:1,class:d(["las",n.icon])},null,2)):u("",!0)],10,V))),128)),_(e.$slots,"numpad-footer")])]))),128))])}const F=v(w,[["render",H]]);export{F as n};
