import{y as s,p as o,_ as a,m as n}from"./bootstrap.3799f74e.js";import{e as i,f as p}from"./components.5064f63b.js";import{_ as c}from"./plugin-vue_export-helper.21dcd24c.js";import"./ns-notice.c1143990.js";import"./ns-pos-confirm-popup.0abd3859.js";import"./ns-numpad-plus.1f0a961b.js";import"./ns-paginate.5756789f.js";import"./ns-prompt-popup.b15aee60.js";import"./ns-alert-popup.421477a2.js";import"./ns-pos-loading-popup.22054d65.js";const u={name:"ns-sold-stock-report",data(){return{startDate:s(),endDate:s(),products:[]}},components:{nsDatepicker:i,nsDateTimePicker:p},computed:{totalQuantity(){return this.products.length>0?this.products.map(t=>t.quantity).reduce((t,e)=>t+e):0},totalTaxes(){return this.products.length>0?this.products.map(t=>t.tax_value).reduce((t,e)=>t+e):0},totalPrice(){return console.log(this.products),this.products.length>0?this.products.map(t=>t.total_price).reduce((t,e)=>t+e):0}},methods:{printSaleReport(){this.$htmlToPaper("report-printable")},setStartDate(t){this.startDate=t.format()},loadReport(){if(this.startDate===null||this.endDate===null)return o.error(a("Unable to proceed. Select a correct time range.")).subscribe();const t=s(this.startDate);if(s(this.endDate).isBefore(t))return o.error(a("Unable to proceed. The current time range is not valid.")).subscribe();n.post("/api/nexopos/v4/reports/sold-stock-report",{startDate:this.startDate,endDate:this.endDate}).subscribe({next:r=>{this.products=r},error:r=>{o.error(r.message).subscribe()}})},setEndDate(t){this.endDate=t.format()}}};function d(t,e,r,m,l,h){return null}var T=c(u,[["render",d]]);export{T as default};
