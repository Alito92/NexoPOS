import{g as H,o as n,a as r,f as i,n as f,h as _,t as a,e as o,b,i as T,w as k,j as C,k as M,v as q,F as g,r as v,_ as p,l as Y,m as O,p as D,q as j,s as U,u as R,x as S,y as E,z as X,K as ee,A as B,P as L,B as te,C as se}from"./bootstrap.3799f74e.js";import{_ as x}from"./plugin-vue_export-helper.21dcd24c.js";import{D as ie,n as z,V as le,c as ne,s as re,a as de,b as oe}from"./ns-notice.c1143990.js";import A from"./ns-pos-confirm-popup.0abd3859.js";import{n as ae,a as ue}from"./ns-numpad-plus.1f0a961b.js";import{n as ce}from"./ns-paginate.5756789f.js";import he from"./ns-prompt-popup.b15aee60.js";import fe from"./ns-alert-popup.421477a2.js";import me from"./ns-pos-loading-popup.22054d65.js";const be={data:()=>({defaultToggledState:!1,_save:0}),props:["href","label","icon","notification","toggled","identifier"],mounted(){this.defaultToggledState=this.toggled!==void 0?this.toggled:this.defaultToggledState,H.subject().subscribe(e=>{e.value!==this.identifier&&(this.defaultToggledState=!1)})},methods:{toggleEmit(){this.toggle().then(e=>{e&&H.emit({identifier:"side-menu.open",value:this.identifier})})},toggle(){return new Promise((e,t)=>{this.href.length===0&&(this.defaultToggledState=!this.defaultToggledState,e(this.defaultToggledState))})}}},_e=["href"],ge={class:"flex items-center"},ve={key:0,class:"rounded-full bg-red-600 text-white dark:text-slate-300 font-bold w-6 h-6 text-xs justify-center items-center flex"};function ye(e,t,s,m,c,l){var d;return n(),r("div",null,[i("a",{onClick:t[0]||(t[0]=u=>l.toggleEmit()),href:s.href||"javascript:void(0)",class:f([e.defaultToggledState?"border-blue-800 bg-gray-800 dark:border-slate-700 dark:bg-slate-700":"border-transparent bg-gray-900 dark:bg-slate-900","flex justify-between py-2 border-l-8 text-gray-200 dark:text-slate-300 dark:hover:bg-slate-700 px-3 font-bold hover:bg-gray-700"])},[i("span",ge,[i("i",{class:f(["las text-lg mr-2",((d=s.icon)==null?void 0:d.length)>0?s.icon:"la-star"])},null,2),_(" "+a(s.label),1)]),s.notification>0?(n(),r("span",ve,a(s.notification),1)):o("",!0)],10,_e),i("ul",{class:f([e.defaultToggledState?"":"hidden","submenu-wrapper"])},[b(e.$slots,"default")],2)])}var pe=x(be,[["render",ye]]);const ke={data:()=>({}),props:["href","label","active"],mounted(){}},xe=["href"];function we(e,t,s,m,c,l){return n(),r("div",null,[i("li",null,[i("a",{class:f([s.active?"font-bold text-white dark:text-slate-300":"text-gray-100 dark:text-slate-200","py-2 border-l-8 border-blue-800 dark:border-slate-700 px-3 block bg-gray-800 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-gray-700"]),href:s.href},[b(e.$slots,"default")],10,xe)])])}var $e=x(ke,[["render",we]]);const Ce={data:()=>({clicked:!1,_save:0}),props:["type","disabled","link","href","routerLink","to"],mounted(){},computed:{isDisabled(){return this.disabled&&(this.disabled.length===0||this.disabled==="disabled"||this.disabled)}}},De=["disabled"],Te=["href"];function Me(e,t,s,m,c,l){return n(),r("div",{class:f(["flex ns-button",s.type?s.type:"default"])},[!s.link&&!s.href?(n(),r("button",{key:0,disabled:l.isDisabled,class:"flex rounded items-center cursor-pointer py-2 px-3 font-semibold"},[b(e.$slots,"default")],8,De)):o("",!0),s.href?(n(),r("a",{key:1,href:s.href,class:"flex rounded items-center cursor-pointer py-2 px-3 font-semibold"},[b(e.$slots,"default")],8,Te)):o("",!0)],2)}var Ee=x(Ce,[["render",Me]]);const je={data:()=>({clicked:!1,_save:0}),props:["type","to","href","target"],computed:{buttonclass(){switch(this.type){case"info":return"shadow bg-blue-400 text-white";case"success":return"shadow bg-green-400 text-white";case"error":return"shadow bg-red-400 text-white";case"warning":return"shadow bg-orange-400 text-white";default:return"shadow bg-white text-gray-800"}}}},Se={class:"flex"},Oe=["target","href"];function Fe(e,t,s,m,c,l){const d=C("router-link");return n(),r("div",Se,[s.to?(n(),T(d,{key:0,to:s.to,class:f([l.buttonclass,"rounded cursor-pointer py-2 px-3 font-semibold"])},{default:k(()=>[b(e.$slots,"default")]),_:3},8,["to","class"])):o("",!0),s.href?(n(),r("a",{key:1,target:s.target,href:s.href,class:f([l.buttonclass,"hover:underline rounded cursor-pointer py-2 px-3 font-semibold"])},[b(e.$slots,"default")],10,Oe)):o("",!0)])}var Pe=x(je,[["render",Fe]]);const He={data:()=>({}),mounted(){},computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},disabledClass(){return this.field.disabled?"ns-disabled cursor-not-allowed":""},inputClass(){return this.disabledClass+" "+this.leadClass},leadClass(){return this.leading?"pl-8":"px-4"}},props:["placeholder","leading","type","field"]},Le={class:"flex flex-col mb-2 flex-auto ns-input"},Ye=["for"],Ae={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Ve={class:"leading sm:text-sm sm:leading-5"},qe=["disabled","id","type","placeholder"],Ue={key:0,class:"text-xs ns-description"};function Re(e,t,s,m,c,l){return n(),r("div",Le,[i("label",{for:s.field.name,class:f([l.hasError?"has-error":"is-pristine","block leading-5 font-medium"])},[b(e.$slots,"default")],10,Ye),i("div",{class:f([l.hasError?"has-error":"is-pristine","mt-1 relative overflow-hidden border-2 rounded-md focus:shadow-sm mb-2"])},[s.leading?(n(),r("div",Ae,[i("span",Ve,a(s.leading),1)])):o("",!0),M(i("input",{disabled:s.field.disabled,"onUpdate:modelValue":t[0]||(t[0]=d=>s.field.value=d),onBlur:t[1]||(t[1]=d=>e.$emit("blur",this)),onChange:t[2]||(t[2]=d=>e.$emit("change",this)),id:s.field.name,type:s.type||s.field.type||"text",class:f([l.inputClass,"block w-full sm:text-sm sm:leading-5 h-10"]),placeholder:s.placeholder},null,42,qe),[[q,s.field.value]])],2),!s.field.errors||s.field.errors.length===0?(n(),r("p",Ue,[b(e.$slots,"description")])):o("",!0),(n(!0),r(g,null,v(s.field.errors,(d,u)=>(n(),r("p",{key:u,class:"text-xs ns-error"},[d.identifier==="required"?b(e.$slots,d.identifier,{key:0},()=>[_("This field is required.")]):o("",!0),d.identifier==="email"?b(e.$slots,d.identifier,{key:1},()=>[_("This field must contain a valid email address.")]):o("",!0),d.identifier==="invalid"?b(e.$slots,d.identifier,{key:2},()=>[_(a(d.message),1)]):o("",!0)]))),128))])}var Be=x(He,[["render",Re]]);const ze={data:()=>({}),props:["name","placeholder","field","leading"],computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},disabledClass(){return this.field.disabled?"ns-disabled cursor-not-allowed":""},inputClass(){return this.disabledClass+" "+this.leadClass},leadClass(){return this.leading?"pl-8":"px-4"}},mounted(){},methods:{__:p}},Ne={class:"flex flex-col flex-auto ns-select"},Ie=["for"],Ge=["disabled","name"],We={value:null},Qe=["value"],Ke={key:0,class:"text-xs ns-description"};function Ze(e,t,s,m,c,l){return n(),r("div",Ne,[i("label",{for:s.field.name,class:f([l.hasError?"has-error":"is-pristine","block leading-5 font-medium"])},[b(e.$slots,"default")],10,Ie),i("div",{class:f([l.hasError?"has-error":"is-pristine","border-2 mt-1 relative rounded-md shadow-sm mb-2 overflow-hidden"])},[M(i("select",{disabled:s.field.disabled?s.field.disabled:!1,onChange:t[0]||(t[0]=d=>e.$emit("change",d)),name:s.field.name,"onUpdate:modelValue":t[1]||(t[1]=d=>s.field.value=d),class:f([l.inputClass,"form-input block w-full pl-7 pr-12 sm:text-sm sm:leading-5 h-10 appearance-none"])},[i("option",We,a(l.__("Choose an option")),1),(n(!0),r(g,null,v(s.field.options,(d,u)=>(n(),r("option",{key:u,value:d.value,class:"py-2"},a(d.label),9,Qe))),128))],42,Ge),[[Y,s.field.value]])],2),!s.field.errors||s.field.errors.length===0?(n(),r("p",Ke,[b(e.$slots,"description")])):o("",!0),(n(!0),r(g,null,v(s.field.errors,(d,u)=>(n(),r("p",{key:u,class:"text-xs ns-error"},[d.identifier==="required"?b(e.$slots,d.identifier,{key:0},()=>[_(a(l.__("This field is required.")),1)]):o("",!0),d.identifier==="email"?b(e.$slots,d.identifier,{key:1},()=>[_(a(l.__("This field must contain a valid email address.")),1)]):o("",!0),d.identifier==="invalid"?b(e.$slots,d.identifier,{key:2},()=>[_(a(d.message),1)]):o("",!0)]))),128))])}var Je=x(ze,[["render",Ze]]);const Xe={data:()=>({}),props:["name","placeholder","field"],computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},disabledClass(){return this.field.disabled?"bg-gray-200 cursor-not-allowed":"bg-transparent"},inputClass(){return this.disabledClass+" "+this.leadClass},leadClass(){return this.leading?"pl-8":"px-4"}},methods:{__:p,playSelectedSound(){this.field.value.length>0&&new Audio(this.field.value).play()}}},et={class:"flex flex-col flex-auto"},tt=["for"],st=i("button",{class:"w-10 flex item-center justify-center"},[i("i",{class:"las la-play text-2xl"})],-1),it=[st],lt=["disabled","name"],nt=["value"],rt={key:0,class:"text-xs text-secondary"};function dt(e,t,s,m,c,l){return n(),r("div",et,[i("label",{for:s.field.name,class:f([l.hasError?"text-error-primary":"text-primary","block leading-5 font-medium"])},[b(e.$slots,"default")],10,tt),i("div",{class:f([l.hasError?"border-error-primary":"border-input-edge","border-2 mt-1 flex relative overflow-hidden rounded-md shadow-sm mb-2 form-input"])},[i("div",{onClick:t[0]||(t[0]=d=>l.playSelectedSound()),class:"border-r-2 border-input-edge flex-auto flex items-center justify-center hover:bg-info-primary hover:text-white"},it),M(i("select",{disabled:s.field.disabled?s.field.disabled:!1,onChange:t[1]||(t[1]=d=>e.$emit("change",d)),name:s.field.name,"onUpdate:modelValue":t[2]||(t[2]=d=>s.field.value=d),class:f([l.inputClass,"text-primary block w-full pl-7 pr-12 sm:text-sm sm:leading-5 h-10 outline-none"])},[(n(!0),r(g,null,v(s.field.options,(d,u)=>(n(),r("option",{key:u,value:d.value,class:"py-2"},a(d.label),9,nt))),128))],42,lt),[[Y,s.field.value]])],2),!s.field.errors||s.field.errors.length===0?(n(),r("p",rt,[b(e.$slots,"description")])):o("",!0),(n(!0),r(g,null,v(s.field.errors,(d,u)=>(n(),r("p",{key:u,class:"text-xs text-error-primary"},[d.identifier==="required"?b(e.$slots,d.identifier,{key:0},()=>[_(a(l.__("This field is required.")),1)]):o("",!0),d.identifier==="email"?b(e.$slots,d.identifier,{key:1},()=>[_(a(l.__("This field must contain a valid email address.")),1)]):o("",!0),d.identifier==="invalid"?b(e.$slots,d.identifier,{key:2},()=>[_(a(d.message),1)]):o("",!0)]))),128))])}var ot=x(Xe,[["render",dt]]);const at={data:()=>({}),props:["checked","field","label"],computed:{isChecked(){return this.field?this.field.value:this.checked}},methods:{toggleIt(){this.field!==void 0&&(this.field.value=!this.field.value),this.$emit("change",!this.checked)}}},ut={class:"w-6 h-6 flex bg-input-background border-input-edge border-2 items-center justify-center cursor-pointer"},ct={key:0,class:"las la-check"},ht={key:0,class:"mx-2"},ft={key:1,class:"mx-2"};function mt(e,t,s,m,c,l){return n(),r("div",{class:"flex items-center justify-center cursor-pointer",onClick:t[0]||(t[0]=d=>l.toggleIt())},[i("div",ut,[l.isChecked?(n(),r("i",ct)):o("",!0)]),s.label?(n(),r("span",ht,a(s.label),1)):o("",!0),s.field?(n(),r("span",ft,a(s.field.label),1)):o("",!0)])}var bt=x(at,[["render",mt]]);const _t={props:["options","row","columns","prependOptions","showOptions"],data:()=>({optionsToggled:!1}),mounted(){},methods:{__:p,sanitizeHTML(e){var t=document.createElement("div");t.innerHTML=e;for(var s=t.getElementsByTagName("script"),m=s.length;m--;)s[m].parentNode.removeChild(s[m]);return t.innerHTML},getElementOffset(e){const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},toggleMenu(e){if(this.row.$toggled=!this.row.$toggled,this.$emit("toggled",this.row),this.row.$toggled)setTimeout(()=>{const t=this.$el.querySelectorAll(".relative > .absolute")[0],s=this.$el.querySelectorAll(".relative")[0],m=this.getElementOffset(s);t.style.top=m.top+"px",t.style.left=m.left+"px",s.classList.remove("relative"),s.classList.add("dropdown-holder")},100);else{const t=this.$el.querySelectorAll(".dropdown-holder")[0];t.classList.remove("dropdown-holder"),t.classList.add("relative")}},handleChanged(e){this.row.$checked=e,this.$emit("updated",this.row)},triggerAsync(e){e.confirm?confirm(e.confirm.message)&&O[e.type.toLowerCase()](e.url).subscribe(t=>{D.success(t.message).subscribe(),this.$emit("reload",this.row)},t=>{this.toggleMenu(),D.error(t.message).subscribe()}):(H.emit({identifier:"ns-table-row-action",value:{action:e,row:this.row,component:this}}),this.toggleMenu())},triggerPopup(e,t){const s=window.nsExtraComponents[e.component];if(e.component)return s?new Promise((m,c)=>{Popup.show(s,{resolve:m,reject:c,row:t,action:e})}):D.error(p(`Unable to load the component "${e.component}". Make sure the component is registered to "nsExtraComponents".`)).subscribe();this.triggerAsync(e)}}},gt={class:"font-sans p-2"},vt={key:0,class:"font-sans p-2"},yt={class:""},pt=i("i",{class:"las la-ellipsis-h"},null,-1),kt={class:"relative"},xt={key:0,class:"zoom-in-entrance border border-box-edge anim-duration-300 z-50 origin-bottom-right w-56 mt-2 absolute rounded-md shadow-lg ns-menu-wrapper"},wt={class:"rounded-md shadow-xs"},$t={class:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"},Ct=["href","innerHTML"],Dt=["onClick","innerHTML"],Tt=["href","innerHTML"],Mt=["innerHTML"],Et={key:2},jt={key:1,class:"font-sans p-2 flex flex-col items-center justify-center"},St={class:""},Ot=i("i",{class:"las la-ellipsis-h"},null,-1),Ft={class:"relative"},Pt={key:0,class:"zoom-in-entrance border border-box-edge anim-duration-300 z-50 origin-bottom-right -ml-28 w-56 mt-2 absolute rounded-md shadow-lg ns-menu-wrapper"},Ht={class:"rounded-md shadow-xs"},Lt={class:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"},Yt=["href","innerHTML"],At=["onClick","innerHTML"];function Vt(e,t,s,m,c,l){const d=C("ns-checkbox");return n(),r("tr",{class:f(["ns-table-row",s.row.$cssClass?s.row.$cssClass:"border text-sm"])},[i("td",gt,[j(d,{onChange:t[0]||(t[0]=u=>l.handleChanged(u)),checked:s.row.$checked},null,8,["checked"])]),s.prependOptions&&s.showOptions?(n(),r("td",vt,[i("div",yt,[i("button",{onClick:t[1]||(t[1]=u=>l.toggleMenu(u)),class:f([s.row.$toggled?"active":"","ns-inset-button outline-none rounded-full w-24 text-sm p-1 border"])},[pt,_(" "+a(l.__("Options")),1)],2),s.row.$toggled?(n(),r("div",{key:0,onClick:t[2]||(t[2]=u=>l.toggleMenu(u)),class:"absolute w-full h-full z-10 top-0 left-0"})):o("",!0),i("div",kt,[s.row.$toggled?(n(),r("div",xt,[i("div",wt,[i("div",$t,[(n(!0),r(g,null,v(s.row.$actions,(u,h)=>(n(),r(g,{key:h},[u.type==="GOTO"?(n(),r("a",{key:0,href:u.url,class:"ns-action-button block px-4 py-2 text-sm leading-5",role:"menuitem",innerHTML:l.sanitizeHTML(u.label)},null,8,Ct)):o("",!0),["GET","DELETE","POPUP"].includes(u.type)?(n(),r("a",{key:1,href:"javascript:void(0)",onClick:y=>l.triggerAsync(u),class:"ns-action-button block px-4 py-2 text-sm leading-5",role:"menuitem",innerHTML:l.sanitizeHTML(u.label)},null,8,Dt)):o("",!0)],64))),128))])])])):o("",!0)])])])):o("",!0),(n(!0),r(g,null,v(s.columns,(u,h)=>(n(),r("td",{key:h,class:"font-sans p-2"},[s.row[h]&&s.row[h].type&&s.row[h].type==="link"?(n(),r("a",{key:0,target:"_blank",href:s.row[h].href,innerHTML:l.sanitizeHTML(s.row[h].label)},null,8,Tt)):o("",!0),typeof s.row[h]=="string"||typeof s.row[h]=="number"?(n(),r("div",{key:1,innerHTML:l.sanitizeHTML(s.row[h])},null,8,Mt)):o("",!0),s.row[h]===null?(n(),r("div",Et,a(l.__("Undefined")),1)):o("",!0)]))),128)),!s.prependOptions&&s.showOptions?(n(),r("td",jt,[i("div",St,[i("button",{onClick:t[3]||(t[3]=u=>l.toggleMenu(u)),class:f([s.row.$toggled?"active":"","ns-inset-button outline-none rounded-full w-24 text-sm p-1 border"])},[Ot,_(" "+a(l.__("Options")),1)],2),s.row.$toggled?(n(),r("div",{key:0,onClick:t[4]||(t[4]=u=>l.toggleMenu(u)),class:"absolute w-full h-full z-10 top-0 left-0"})):o("",!0),i("div",Ft,[s.row.$toggled?(n(),r("div",Pt,[i("div",Ht,[i("div",Lt,[(n(!0),r(g,null,v(s.row.$actions,(u,h)=>(n(),r(g,{key:h},[u.type==="GOTO"?(n(),r("a",{key:0,href:u.url,class:"ns-action-button block px-4 py-2 text-sm leading-5",role:"menuitem",innerHTML:l.sanitizeHTML(u.label)},null,8,Yt)):o("",!0),["GET","DELETE","POPUP"].includes(u.type)?(n(),r("a",{key:1,href:"javascript:void(0)",onClick:y=>l.triggerAsync(u),class:"ns-action-button block px-4 py-2 text-sm leading-5",role:"menuitem",innerHTML:l.sanitizeHTML(u.label)},null,8,At)):o("",!0)],64))),128))])])])):o("",!0)])])])):o("",!0)],2)}var qt=x(_t,[["render",Vt]]);const Ut={data:()=>({}),mounted(){},computed:{validatedSize(){return this.size||24},validatedBorder(){return this.border||8},validatedAnimation(){return this.animation||"fast"}},props:["color","size","border","animation"]},Rt={class:"flex items-center justify-center"};function Bt(e,t,s,m,c,l){return n(),r("div",Rt,[i("div",{class:f(["loader ease-linear rounded-full border-gray-200",l.validatedAnimation+" border-4 border-t-4 w-"+l.validatedSize+" h-"+l.validatedSize])},null,2)])}var zt=x(Ut,[["render",Bt]]);const Nt={data:()=>({form:{},globallyChecked:!1,formValidation:new U,rows:[]}),mounted(){this.loadForm()},props:["src","create-url","field-class","return-url","submit-url","submit-method","disable-tabs"],computed:{activeTabFields(){for(let e in this.form.tabs)if(this.form.tabs[e].active)return this.form.tabs[e].fields;return[]}},methods:{__:p,toggle(e){for(let t in this.form.tabs)this.form.tabs[t].active=!1;this.form.tabs[e].active=!0},handleShowOptions(e){this.rows.forEach(t=>{t.$id!==e.$id&&(t.$toggled=!1)})},submit(){if(this.formValidation.validateForm(this.form).length>0)return D.error(this.$slots["error-invalid"]?this.$slots["error-invalid"][0].text:"No error message provided for having an invalid form.",this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe();if(this.formValidation.disableForm(this.form),this.submitUrl===void 0)return D.error(this.$slots["error-no-submit-url"]?this.$slots["error-no-submit-url"][0].text:"No error message provided for not having a valid submit url.",this.$slots.okay?this.$slots.okay[0].text:"OK").subscribe();O[this.submitMethod?this.submitMethod.toLowerCase():"post"](this.submitUrl,this.formValidation.extractForm(this.form)).subscribe(e=>{if(e.status==="success"){if(this.submitMethod&&this.submitMethod.toLowerCase()==="post"&&this.returnUrl!==!1)return document.location=e.data.editUrl||this.returnUrl;D.info(e.message,p("Okay"),{duration:3e3}).subscribe(),this.$emit("save",e)}this.formValidation.enableForm(this.form)},e=>{D.error(e.message,void 0,{duration:5e3}).subscribe(),e.data!==void 0&&this.formValidation.triggerError(this.form,e.data),this.formValidation.enableForm(this.form)})},handleGlobalChange(e){this.globallyChecked=e,this.rows.forEach(t=>t.$checked=e)},loadForm(){O.get(`${this.src}`).subscribe({next:t=>{this.form=this.parseForm(t.form),R.doAction("ns-crud-form-loaded",this),this.$emit("updated",this.form)},error:t=>{D.error(t.message,"OKAY",{duration:0}).subscribe()}})},parseForm(e){e.main.value=e.main.value===void 0?"":e.main.value,e.main=this.formValidation.createFields([e.main])[0];let t=0;for(let s in e.tabs)t===0&&(e.tabs[s].active=!0),e.tabs[s].active=e.tabs[s].active===void 0?!1:e.tabs[s].active,e.tabs[s].fields=this.formValidation.createFields(e.tabs[s].fields),t++;return e}}},It={class:"form flex-auto",id:"crud-form"},Gt={key:0,class:"flex items-center justify-center h-full"},Wt={key:1},Qt={class:"flex flex-col"},Kt={key:0,class:"flex justify-between items-center"},Zt={for:"title",class:"font-bold my-2 text-primary"},Jt={key:0},Xt={for:"title",class:"text-sm my-2"},es=["href"],ts=["disabled"],ss=["disabled"],is={key:0,class:"text-xs text-primary py-1"},ls={key:0},rs={key:1},ds={key:0,id:"tabs-container",class:"my-5 ns-tab"},os={class:"header flex",style:{"margin-bottom":"-2px"}},as=["onClick"],us={class:"border ns-tab-item p-4"},cs={class:"-mx-4 flex flex-wrap"},hs={key:0,class:"flex justify-end"},fs=["disabled"];function ms(e,t,s,m,c,l){const d=C("ns-spinner"),u=C("ns-field");return n(),r("div",It,[Object.values(e.form).length===0?(n(),r("div",Gt,[j(d)])):o("",!0),Object.values(e.form).length>0?(n(),r("div",Wt,[i("div",Qt,[e.form.main?(n(),r("div",Kt,[i("label",Zt,[e.form.main.name?(n(),r("span",Jt,a(e.form.main.label),1)):o("",!0)]),i("div",Xt,[e.returnUrl?(n(),r("a",{key:0,href:e.returnUrl,class:"rounded-full border px-2 py-1 ns-inset-button error"},a(l.__("Go Back")),9,es)):o("",!0)])])):o("",!0),e.form.main.name?(n(),r(g,{key:1},[i("div",{class:f([e.form.main.disabled?"disabled":e.form.main.errors.length>0?"error":"info","input-group flex border-2 rounded overflow-hidden"])},[M(i("input",{"onUpdate:modelValue":t[0]||(t[0]=h=>e.form.main.value=h),onBlur:t[1]||(t[1]=h=>e.formValidation.checkField(e.form.main)),onChange:t[2]||(t[2]=h=>e.formValidation.checkField(e.form.main)),disabled:e.form.main.disabled,type:"text",class:"flex-auto outline-none h-10 px-2"},null,40,ts),[[S,e.form.main.value]]),i("button",{disabled:e.form.main.disabled,class:f([e.form.main.disabled?"disabled":e.form.main.errors.length>0?"error":"","outline-none px-4 h-10 text-white border-l border-gray-400"]),onClick:t[3]||(t[3]=h=>l.submit())},[b(e.$slots,"save",{},()=>[_("Save")])],10,ss)],2),e.form.main.description&&e.form.main.errors.length===0?(n(),r("p",is,a(e.form.main.description),1)):o("",!0),(n(!0),r(g,null,v(e.form.main.errors,(h,y)=>(n(),r("p",{key:y,class:"text-xs py-1 text-error-tertiary"},[h.identifier==="required"?(n(),r("span",ls,[b(e.$slots,"error-required",{},()=>[_(a(h.identifier),1)])])):o("",!0),h.identifier==="invalid"?(n(),r("span",rs,[b(e.$slots,"error-invalid",{},()=>[_(a(h.message),1)])])):o("",!0)]))),128))],64)):o("",!0)]),e.disableTabs!=="true"?(n(),r("div",ds,[i("div",os,[(n(!0),r(g,null,v(e.form.tabs,(h,y)=>(n(),r("div",{key:y,onClick:$=>l.toggle(y),class:f([h.active?"active border border-b-transparent":"inactive border","tab rounded-tl rounded-tr border px-3 py-2 cursor-pointer"]),style:{"margin-right":"-1px"}},a(h.label),11,as))),128))]),i("div",us,[i("div",cs,[(n(!0),r(g,null,v(l.activeTabFields,(h,y)=>(n(),r("div",{key:y,class:f(e.fieldClass||"px-4 w-full md:w-1/2 lg:w-1/3")},[j(u,{onBlur:$=>e.formValidation.checkField(h),onChange:$=>e.formValidation.checkField(h),field:h},null,8,["onBlur","onChange","field"])],2))),128))]),e.form.main.name?o("",!0):(n(),r("div",hs,[i("div",{class:f(["ns-button",e.form.main.disabled?"default":e.form.main.errors.length>0?"error":"info"])},[i("button",{disabled:e.form.main.disabled,onClick:t[4]||(t[4]=h=>l.submit()),class:"outline-none px-4 h-10 border-l"},[b(e.$slots,"save",{},()=>[_(a(l.__("Save")),1)])],8,fs)],2)]))])])):o("",!0)])):o("",!0)])}var bs=x(Nt,[["render",ms]]);const _s={data:()=>({}),mounted(){},computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},disabledClass(){return this.field.disabled?"ns-disabled cursor-not-allowed":""},inputClass(){return this.disabledClass+" "+this.leadClass},leadClass(){return this.leading?"p-8":"p-2"}},props:["placeholder","leading","type","field"]},gs={class:"flex flex-col mb-2 flex-auto ns-textarea"},vs=["for"],ys={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},ps={class:"text-secondary sm:text-sm sm:leading-5"},ks=["rows","disabled","id","type","placeholder"],xs={key:0,class:"text-xs text-secondary"};function ws(e,t,s,m,c,l){return n(),r("div",gs,[i("label",{for:s.field.name,class:f([l.hasError?"text-error-primary":"text-primary","block leading-5 font-medium"])},[b(e.$slots,"default")],10,vs),i("div",{class:f([l.hasError?"has-error":"is-pristine","mt-1 relative border-2 overflow-hidden rounded-md focus:shadow-sm mb-2"])},[s.leading?(n(),r("div",ys,[i("span",ps,a(s.leading),1)])):o("",!0),M(i("textarea",{rows:s.field.data&&s.field.data.rows||10,disabled:s.field.disabled,"onUpdate:modelValue":t[0]||(t[0]=d=>s.field.value=d),onBlur:t[1]||(t[1]=d=>e.$emit("blur",this)),onChange:t[2]||(t[2]=d=>e.$emit("change",this)),id:s.field.name,type:s.type||s.field.type||"text",class:f([l.inputClass,"form-input block w-full sm:text-sm sm:leading-5"]),placeholder:s.placeholder},null,42,ks),[[S,s.field.value]])],2),!s.field.errors||s.field.errors.length===0?(n(),r("p",xs,[b(e.$slots,"description")])):o("",!0),(n(!0),r(g,null,v(s.field.errors,(d,u)=>(n(),r("p",{key:u,class:"text-xs text-error-primary"},[d.identifier==="required"?b(e.$slots,d.identifier,{key:0},()=>[_("This field is required.")]):o("",!0),d.identifier==="email"?b(e.$slots,d.identifier,{key:1},()=>[_("This field must contain a valid email address.")]):o("",!0),d.identifier==="invalid"?b(e.$slots,d.identifier,{key:2},()=>[_(a(d.message),1)]):o("",!0)]))),128))])}var $s=x(_s,[["render",ws]]);const Cs={name:"ns-date-range-picker",data:()=>({dateRange:{startDate:null,endDate:null}}),components:{DateRangePicker:ie},mounted(){this.field.value!==void 0&&(this.dateRange=this.field.value)},watch:{dateRange(){const e={startDate:E(this.dateRange.startDate).format("YYYY-MM-DD HH:mm"),endDate:E(this.dateRange.endDate).format("YYYY-MM-DD HH:mm")};this.field.value=e,this.$emit("change",this)}},methods:{__:p,getFormattedDate(e){return e!==null?E(e).format("YYYY-MM-DD HH:mm"):p("N/D")},clearDate(){this.dateRange={startDate:null,endDate:null},this.field.value=void 0}},computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},disabledClass(){return this.field.disabled?"bg-gray-200 cursor-not-allowed":"bg-transparent"},inputClass(){return this.disabledClass+" "+this.leadClass},leadClass(){return this.leading?"pl-8":"px-4"}},props:["placeholder","leading","type","field"]},Ds={class:"flex flex-auto flex-col mb-2 ns-date-range-picker"},Ts=["for"],Ms={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Es={class:"text-primary sm:text-sm sm:leading-5"},js=i("i",{class:"las la-times"},null,-1),Ss=[js],Os={class:"flex justify-between items-center w-full py-2"},Fs={class:"text-xs"},Ps={class:"text-xs"},Hs={key:0,class:"text-xs text-gray-500"};function Ls(e,t,s,m,c,l){const d=C("date-range-picker");return n(),r("div",Ds,[i("label",{for:s.field.name,class:f([l.hasError?"text-error-primary":"text-primary","block leading-5 font-medium"])},[b(e.$slots,"default")],10,Ts),i("div",{class:f([l.hasError?"error":"","mt-1 relative flex input-group border-2 rounded-md overflow-hidden focus:shadow-sm"])},[s.leading?(n(),r("div",Ms,[i("span",Es,a(s.leading),1)])):o("",!0),i("button",{class:"px-3 outline-none bg-error-secondary font-semibold text-white",onClick:t[0]||(t[0]=u=>l.clearDate())},Ss),j(d,{class:"w-full flex items-center bg-input-background",ref:"picker","locale-data":{firstDay:1,format:"yyyy-mm-dd HH:mm:ss"},timePicker:!0,timePicker24Hour:!0,showWeekNumbers:!0,showDropdowns:!0,autoApply:!1,appendToBody:!0,modelValue:e.dateRange,"onUpdate:modelValue":t[1]||(t[1]=u=>e.dateRange=u),disabled:s.field.disabled,linkedCalendars:!0},{input:k(u=>[i("div",Os,[i("span",Fs,a(l.__("Range Starts"))+" : "+a(l.getFormattedDate(u.startDate)),1),i("span",Ps,a(l.__("Range Ends"))+" : "+a(l.getFormattedDate(u.endDate)),1)])]),_:1},8,["modelValue","disabled"])],2),!s.field.errors||s.field.errors.length===0?(n(),r("p",Hs,[b(e.$slots,"description")])):o("",!0),(n(!0),r(g,null,v(s.field.errors,(u,h)=>(n(),r("p",{key:h,class:"text-xs text-red-400"},[u.identifier==="required"?b(e.$slots,u.identifier,{key:0},()=>[_(a(l.__("This field is required.")),1)]):o("",!0),u.identifier==="email"?b(e.$slots,u.identifier,{key:1},()=>[_(a(l.__("This field must contain a valid email address.")),1)]):o("",!0),u.identifier==="invalid"?b(e.$slots,u.identifier,{key:2},()=>[_(a(u.message),1)]):o("",!0)]))),128))])}var N=x(Cs,[["render",Ls]]);const Ys={name:"ns-date-time-picker",props:["field","date"],data(){return{visible:!1,hours:0,minutes:0,currentView:"days",currentDay:void 0,moment:E,months:new Array(11).fill("").map((e,t)=>t),daysOfWeek:new Array(7).fill("").map((e,t)=>t),calendar:[[]]}},computed:{momentCopy(){return E()}},watch:{visible(){this.visible&&setTimeout(()=>{this.$refs.hours.addEventListener("focus",function(){this.select()}),this.$refs.minutes.addEventListener("focus",function(){this.select()})},100)}},mounted(){document.addEventListener("mousedown",e=>this.checkClickedItem(e)),this.field?this.currentDay=[void 0,"",null].includes(this.field.value)?E():E(this.field.value):this.currentDay=[void 0,"",null].includes(this.date)?E():E(this.date),this.hours=this.currentDay.format("HH"),this.minutes=this.currentDay.format("mm"),this.build()},methods:{__:p,erase(){this.selectDate()},setYear(e){parseInt(e.srcElement.value)>0&&parseInt(e.srcElement.value)<9999&&(this.currentDay.year(e.srcElement.value),this.updateDateTime())},subYear(){parseFloat(this.currentDay.format("YYYY"))>0&&(this.currentDay.subtract(1,"year"),this.updateDateTime())},addYear(){this.currentDay.add(1,"year"),this.updateDateTime()},toggleView(e){this.currentView=e,this.currentView==="years"&&setTimeout(()=>{this.$refs.year.select()},100)},setMonth(e){this.currentDay.month(e),this.updateDateTime()},detectHoursChange(){parseFloat(this.hours)<0&&(this.hours=0),parseFloat(this.hours)>23&&(this.hours=23),this.updateDateTime()},detectMinuteChange(){parseFloat(this.minutes)<0&&(this.minutes=0),parseFloat(this.minutes)>59&&(this.minutes=59),this.updateDateTime()},updateDateTime(){this.currentDay.hours(this.hours),this.currentDay.minutes(this.minutes),this.build(),this.selectDate(this.currentDay)},checkClickedItem(e){let t;t=this.$el.contains(e.srcElement),!t&&this.visible&&(this.visible=!1)},selectDate(e){[void 0].includes(e)?(this.field&&(this.field.value=null),this.$emit("change",null)):(this.currentDay=e,this.currentDay.hours(this.hours),this.currentDay.minutes(this.minutes),this.field&&(this.field.value=this.currentDay.format("YYYY/MM/DD HH:mm")),console.log(this.hours,this.minutes),this.$emit("change",this.field?this.field:this.currentDay))},subMonth(){this.currentDay.subtract(1,"month"),this.build()},addMonth(){this.currentDay.add(1,"month"),this.build()},resetCalendar(){this.calendar=[[]]},build(){this.resetCalendar(),this.currentDay.clone().startOf("month");const e=this.currentDay.clone().startOf("month"),t=this.currentDay.clone().endOf("month");for(;;){e.day()===0&&this.calendar[0].length>0&&this.calendar.push([]);let s=this.calendar.length-1;if(this.calendar[s].push({date:e.clone(),dayOfWeek:e.day(),isToday:e.isSame(E.now(),"day")}),e.isSame(t,"day"))break;e.add(1,"day")}}}},As={class:"picker mb-2"},Vs={key:0,class:"block leading-5 font-medium text-primary"},qs={class:"ns-button"},Us=i("i",{class:"las la-clock text-2xl"},null,-1),Rs={key:0,class:"mx-1 text-sm"},Bs={key:0},zs={key:1},Ns={key:1,class:"mx-1 text-sm"},Is={key:0},Gs={key:1},Ws={key:1,class:"text-sm text-secondary py-1"},Qs={key:2,class:"relative z-10 h-0 w-0"},Ks={key:0,class:"flex-auto"},Zs={class:"p-2 flex items-center"},Js=i("i",{class:"las la-angle-left"},null,-1),Xs=[Js],ei={class:"flex flex-auto font-semibold text-primary justify-center"},ti=i("i",{class:"las la-angle-right"},null,-1),si=[ti],ii={class:"h-32 flex items-center justify-center text-primary"},li={class:"rounded input-group info border-2 flex w-2/3 overflow-hidden"},ni=i("i",{class:"las la-minus"},null,-1),ri=[ni],di=["value"],oi=i("i",{class:"las la-plus"},null,-1),ai=[oi],ui={key:1,class:"flex-auto"},ci={class:"p-2 flex items-center"},hi=i("i",{class:"las la-angle-left"},null,-1),fi=[hi],mi={class:"flex flex-auto font-semibold text-primary justify-center"},bi={class:"mr-2 border-b border-info-secondary border-dashed"},_i=i("i",{class:"las la-angle-right"},null,-1),gi=[_i],vi={class:"grid grid-flow-row grid-cols-3 grid-rows-1 gap-0 text-primary"},yi={class:"h-full w-full"},pi=["onClick"],ki={key:2,class:"flex-auto"},xi={class:"p-2 flex items-center"},wi=i("i",{class:"las la-angle-left"},null,-1),$i=[wi],Ci={class:"flex flex-auto font-semibold text-primary justify-center"},Di=i("i",{class:"las la-angle-right"},null,-1),Ti=[Di],Mi={class:"grid grid-flow-row grid-cols-7 grid-rows-1 gap-0 text-primary"},Ei={class:"border border-numpad-edge h-8 flex justify-center items-center text-sm"},ji={class:"border border-numpad-edge h-8 flex justify-center items-center text-sm"},Si={class:"border border-numpad-edge h-8 flex justify-center items-center text-sm"},Oi={class:"border border-numpad-edge h-8 flex justify-center items-center text-sm"},Fi={class:"border border-numpad-edge h-8 flex justify-center items-center text-sm"},Pi={class:"border border-numpad-edge h-8 flex justify-center items-center text-sm"},Hi={class:"border border-numpad-edge h-8 flex justify-center items-center text-sm"},Li=["onClick"],Yi={class:"border-t border-numpad-edge w-full p-2"},Ai={class:"-mx-1 flex justify-between"},Vi={class:"px-1"},qi={class:"-mx-1 flex"},Ui={key:0,class:"px-1"},Ri=i("i",{class:"las la-trash"},null,-1),Bi=[Ri],zi={key:1,class:"px-1"},Ni=i("i",{class:"las la-sign-out-alt"},null,-1),Ii=[Ni],Gi={class:"px-2"},Wi={class:"rounded flex"},Qi=i("span",{class:"mx-1"},":",-1);function Ki(e,t,s,m,c,l){return n(),r("div",As,[s.field?(n(),r("label",Vs,a(s.field.label),1)):o("",!0),i("div",qs,[i("button",{onClick:t[0]||(t[0]=d=>c.visible=!c.visible),class:f([s.field?"mt-1 border":"shadow","rounded cursor-pointer w-full px-1 py-1 flex items-center text-primary"])},[Us,c.currentDay&&s.field?(n(),r("span",Rs,[s.field.value!==null?(n(),r("span",Bs,a(c.currentDay.format("YYYY/MM/DD HH:mm")),1)):o("",!0),s.field.value===null?(n(),r("span",zs,"N/A")):o("",!0)])):o("",!0),c.currentDay&&s.date?(n(),r("span",Ns,[s.date!==null?(n(),r("span",Is,a(c.currentDay.format("YYYY/MM/DD HH:mm")),1)):o("",!0),s.date===null?(n(),r("span",Gs,"N/A")):o("",!0)])):o("",!0)],2)]),s.field?(n(),r("p",Ws,a(s.field.description),1)):o("",!0),c.visible?(n(),r("div",Qs,[i("div",{class:f([s.field?"-mt-4":"mt-2","absolute w-72 shadow-xl rounded ns-box anim-duration-300 zoom-in-entrance flex flex-col"])},[c.currentView==="years"?(n(),r("div",Ks,[i("div",Zs,[i("div",null,[i("button",{onClick:t[1]||(t[1]=d=>l.subMonth()),class:"w-8 h-8 border border-numpad-edge outline-none text-numpad-text hover:bg-numpad-hover rounded"},Xs)]),i("div",ei,[i("span",{class:"mr-2 cursor-pointer border-b border-info-secondary border-dashed",onClick:t[2]||(t[2]=d=>l.toggleView("months"))},a(c.currentDay.format("MMM")),1),i("span",{class:"cursor-pointer border-b border-info-secondary border-dashed",onClick:t[3]||(t[3]=d=>l.toggleView("years"))},a(c.currentDay.format("YYYY")),1)]),i("div",null,[i("button",{onClick:t[4]||(t[4]=d=>l.addMonth()),class:"w-8 h-8 border border-numpad-edge outline-none text-numpad-text hover:bg-numpad-hover rounded"},si)])]),i("div",ii,[i("div",li,[i("button",{onClick:t[5]||(t[5]=d=>l.subYear()),class:"px-4 py-2"},ri),i("input",{type:"text",ref:"year",class:"p-2 w-24 text-center outline-none",onChange:t[6]||(t[6]=d=>l.setYear(d)),value:c.currentDay.format("YYYY")},null,40,di),i("button",{onClick:t[7]||(t[7]=d=>l.addYear()),class:"px-4 py-2"},ai)])])])):o("",!0),c.currentView==="months"?(n(),r("div",ui,[i("div",ci,[i("div",null,[i("button",{onClick:t[8]||(t[8]=d=>l.subMonth()),class:"w-8 h-8 border ns-inset-button outline-none ns-inset-button rounded"},fi)]),i("div",mi,[i("span",bi,a(c.currentDay.format("MMM")),1),i("span",{class:"cursor-pointer border-b border-info-secondary border-dashed",onClick:t[9]||(t[9]=d=>l.toggleView("years"))},a(c.currentDay.format("YYYY")),1)]),i("div",null,[i("button",{onClick:t[10]||(t[10]=d=>l.addMonth()),class:"w-8 h-8 border ns-inset-button outline-none ns-inset-button rounded"},gi)])]),i("div",vi,[(n(!0),r(g,null,v(c.months,(d,u)=>(n(),r("div",{key:u,class:"h-8 flex justify-center items-center text-sm"},[i("template",yi,[i("div",{class:f([l.momentCopy.month(d).format("MM")===c.currentDay.format("MM")?"bg-info-secondary text-white border border-info-secondary":"hover:bg-numpad-hover border border-numpad-edge","h-full w-full flex items-center justify-center cursor-pointer"]),onClick:h=>l.setMonth(d)},a(l.momentCopy.format("MMM")),11,pi)])]))),128))])])):o("",!0),c.currentView==="days"?(n(),r("div",ki,[i("div",xi,[i("div",null,[i("button",{onClick:t[11]||(t[11]=d=>l.subMonth()),class:"w-8 h-8 border outline-none ns-inset-button rounded"},$i)]),i("div",Ci,[i("span",{class:"mr-2 cursor-pointer border-b border-info-secondary border-dashed",onClick:t[12]||(t[12]=d=>l.toggleView("months"))},a(c.currentDay.format("MMM")),1),i("span",{class:"cursor-pointer border-b border-info-secondary border-dashed",onClick:t[13]||(t[13]=d=>l.toggleView("years"))},a(c.currentDay.format("YYYY")),1)]),i("div",null,[i("button",{onClick:t[14]||(t[14]=d=>l.addMonth()),class:"w-8 h-8 border outline-none ns-inset-button rounded"},Ti)])]),i("div",Mi,[i("div",Ei,a(l.__("Sun")),1),i("div",ji,a(l.__("Mon")),1),i("div",Si,a(l.__("Tue")),1),i("div",Oi,a(l.__("Wed")),1),i("div",Fi,a(l.__("Thr")),1),i("div",Pi,a(l.__("Fri")),1),i("div",Hi,a(l.__("Sat")),1)]),(n(!0),r(g,null,v(c.calendar,(d,u)=>(n(),r("div",{key:u,class:"grid grid-flow-row grid-cols-7 grid-rows-1 gap-0 text-primary"},[(n(!0),r(g,null,v(c.daysOfWeek,(h,y)=>(n(),r("div",{key:y,class:"h-8 flex justify-center items-center text-sm"},[(n(!0),r(g,null,v(d,($,F)=>(n(),r(g,null,[$.dayOfWeek===h?(n(),r("div",{key:F,class:f([$.date.format("DD")===c.currentDay.format("DD")?"text-white border border-info-secondary bg-info-secondary":"hover:bg-numpad-hover border border-numpad-edge","h-full w-full flex items-center justify-center cursor-pointer"]),onClick:P=>l.selectDate($.date)},a($.date.format("DD")),11,Li)):o("",!0)],64))),256))]))),128))]))),128))])):o("",!0),i("div",Yi,[i("div",Ai,[i("div",Vi,[i("div",qi,[s.field?(n(),r("div",Ui,[i("button",{onClick:t[15]||(t[15]=d=>l.erase()),class:"border ns-inset-button error hover:text-white rounded w-8 h-8 flex items-center justify-center"},Bi)])):o("",!0),c.currentView!=="days"?(n(),r("div",zi,[i("button",{onClick:t[16]||(t[16]=d=>l.toggleView("days")),class:"border ns-inset-button error hover:text-white rounded w-8 h-8 flex items-center justify-center"},Ii)])):o("",!0)])]),i("div",Gi,[i("div",Wi,[M(i("input",{placeholder:"HH",ref:"hours",onChange:t[17]||(t[17]=d=>l.detectHoursChange(d)),class:"w-12 p-1 text-center border border-numpad-edge bg-input-disabled text-primary active:border-numpad-edge","onUpdate:modelValue":t[18]||(t[18]=d=>c.hours=d),type:"number"},null,544),[[S,c.hours]]),Qi,M(i("input",{placeholder:"mm",ref:"minutes",onChange:t[19]||(t[19]=d=>l.detectMinuteChange(d)),class:"w-12 p-1 text-center border border-numpad-edge bg-input-disabled text-primary active:border-numpad-edge","onUpdate:modelValue":t[20]||(t[20]=d=>c.minutes=d),type:"number"},null,544),[[S,c.minutes]])])])])])],2)])):o("",!0)])}var I=x(Ys,[["render",Ki]]);const Zi={data:()=>({}),mounted(){},components:{nsDateRangePicker:N,nsDateTimePicker:I,nsSwitch:z},computed:{isInputField(){return["text","password","email","number","tel"].includes(this.field.type)},isDateField(){return["date"].includes(this.field.type)},isSelectField(){return["select"].includes(this.field.type)},isTextarea(){return["textarea"].includes(this.field.type)},isCheckbox(){return["checkbox"].includes(this.field.type)},isMultiselect(){return["multiselect"].includes(this.field.type)},isSelectAudio(){return["select-audio"].includes(this.field.type)},isSwitch(){return["switch"].includes(this.field.type)},isMedia(){return["media"].includes(this.field.type)},isCkEditor(){return["ckeditor"].includes(this.field.type)},isDateTimePicker(){return["datetimepicker"].includes(this.field.type)},isDateRangePicker(){return["daterangepicker"].includes(this.field.type)},isCustom(){return["custom"].includes(this.field.type)}},props:["field"],methods:{addOption(e){this.field.type==="select"&&this.field.options.forEach(s=>s.selected=!1),e.selected=!0;const t=this.field.options.indexOf(e);this.field.options.splice(t,1),this.field.options.unshift(e),this.refreshMultiselect(),this.$emit("change",{action:"addOption",option:e})},refreshMultiselect(){this.field.value=this.field.options.filter(e=>e.selected).map(e=>e.value)},removeOption(e){e.selected=!1,this.refreshMultiselect(),this.$emit("change",{action:"removeOption",option:e})}}},Ji={class:"flex flex-auto"},Xi=["innerHTML"],el=["innerHTML"],tl=["innerHTML"],sl=["innerHTML"],il=["innerHTML"],ll=["innerHTML"],nl=["innerHTML"],rl=["innerHTML"],dl=["innerHTML"],ol=["innerHTML"],al=["innerHTML"],ul=["innerHTML"];function cl(e,t,s,m,c,l){const d=C("ns-input"),u=C("ns-date-time-picker"),h=C("ns-date"),y=C("ns-media-input"),$=C("ns-select"),F=C("ns-date-range-picker"),P=C("ns-select-audio"),W=C("ns-textarea"),Q=C("ns-checkbox"),K=C("ns-multiselect"),Z=C("ns-ckeditor"),J=C("ns-switch");return n(),r("div",Ji,[l.isInputField?(n(),T(d,{key:0,onBlur:t[0]||(t[0]=w=>e.$emit("blur",s.field)),onChange:t[1]||(t[1]=w=>e.$emit("change",s.field)),field:s.field},{default:k(()=>[_(a(s.field.label),1)]),description:k(()=>[i("span",{innerHTML:s.field.description||""},null,8,Xi)]),_:1},8,["field"])):o("",!0),l.isDateTimePicker?(n(),T(u,{key:1,onBlur:t[2]||(t[2]=w=>e.$emit("blur",s.field)),onChange:t[3]||(t[3]=w=>e.$emit("change",s.field)),field:s.field},{default:k(()=>[_(a(s.field.label),1)]),description:k(()=>[i("span",{innerHTML:s.field.description||""},null,8,el)]),_:1},8,["field"])):o("",!0),l.isDateField?(n(),T(h,{key:2,onBlur:t[4]||(t[4]=w=>e.$emit("blur",s.field)),onChange:t[5]||(t[5]=w=>e.$emit("change",s.field)),field:s.field},{default:k(()=>[_(a(s.field.label),1)]),description:k(()=>[i("span",{innerHTML:s.field.description||""},null,8,tl)]),_:1},8,["field"])):o("",!0),l.isMedia?(n(),T(y,{key:3,onBlur:t[6]||(t[6]=w=>e.$emit("blur",s.field)),onChange:t[7]||(t[7]=w=>e.$emit("change",s.field)),field:s.field},{default:k(()=>[_(a(s.field.label),1)]),description:k(()=>[i("span",{innerHTML:s.field.description||""},null,8,sl)]),_:1},8,["field"])):o("",!0),l.isSelectField?(n(),T($,{key:4,onBlur:t[8]||(t[8]=w=>e.$emit("blur",s.field)),onChange:t[9]||(t[9]=w=>e.$emit("change",s.field)),field:s.field},{default:k(()=>[_(a(s.field.label),1)]),description:k(()=>[i("span",{innerHTML:s.field.description||""},null,8,il)]),_:1},8,["field"])):o("",!0),l.isDateRangePicker?(n(),T(F,{key:5,onBlur:t[10]||(t[10]=w=>e.$emit("blur",s.field)),onChange:t[11]||(t[11]=w=>e.$emit("change",s.field)),field:s.field},{default:k(()=>[_(a(s.field.label),1)]),description:k(()=>[i("span",{innerHTML:s.field.description||""},null,8,ll)]),_:1},8,["field"])):o("",!0),l.isSelectAudio?(n(),T(P,{key:6,onBlur:t[12]||(t[12]=w=>e.$emit("blur",s.field)),onChange:t[13]||(t[13]=w=>e.$emit("change",s.field)),field:s.field},{default:k(()=>[_(a(s.field.label),1)]),description:k(()=>[i("span",{innerHTML:s.field.description||""},null,8,nl)]),_:1},8,["field"])):o("",!0),l.isTextarea?(n(),T(W,{key:7,onBlur:t[14]||(t[14]=w=>e.$emit("blur",s.field)),onChange:t[15]||(t[15]=w=>e.$emit("change",s.field)),field:s.field},{description:k(()=>[i("span",{innerHTML:s.field.description||""},null,8,rl)]),default:k(()=>[i("template",null,[_(a(s.field.label),1)])]),_:1},8,["field"])):o("",!0),l.isCheckbox?(n(),T(Q,{key:8,onBlur:t[16]||(t[16]=w=>e.$emit("blur",s.field)),onChange:t[17]||(t[17]=w=>e.$emit("change",s.field)),field:s.field},{default:k(()=>[_(a(s.field.label),1)]),description:k(()=>[i("span",{innerHTML:s.field.description||""},null,8,dl)]),_:1},8,["field"])):o("",!0),l.isMultiselect?(n(),T(K,{key:9,onAddOption:t[18]||(t[18]=w=>l.addOption(w)),onRemoveOption:t[19]||(t[19]=w=>l.removeOption(w)),field:s.field},{default:k(()=>[_(a(s.field.label),1)]),description:k(()=>[i("span",{innerHTML:s.field.description||""},null,8,ol)]),_:1},8,["field"])):o("",!0),l.isCkEditor?(n(),T(Z,{key:10,field:s.field},{default:k(()=>[_(a(s.field.label),1)]),description:k(()=>[i("span",{innerHTML:s.field.description||""},null,8,al)]),_:1},8,["field"])):o("",!0),l.isSwitch?(n(),T(J,{key:11,field:s.field,onChange:t[20]||(t[20]=w=>e.$emit("change",s.field))},{default:k(()=>[_(a(s.field.label),1)]),description:k(()=>[i("span",{innerHTML:s.field.description||""},null,8,ul)]),_:1},8,["field"])):o("",!0),l.isCustom?(n(),T(ee,{key:12},[(n(),T(X(s.field.component),{field:s.field,onBlur:t[21]||(t[21]=w=>e.$emit("blur",s.field)),onChange:t[22]||(t[22]=w=>e.$emit("change",s.field))},null,40,["field"]))],1024)):o("",!0)])}var hl=x(Zi,[["render",cl]]);const fl={data(){return{showPanel:!1,search:""}},props:["field"],computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},_options(){return this.field.options.map(e=>(e.selected=e.selected===void 0?!1:e.selected,this.field.value&&this.field.value.includes(e.value)&&(e.selected=!0),e))}},methods:{__:p,addOption(e){this.field.disabled||(this.$emit("addOption",e),this.$forceUpdate(),setTimeout(()=>{},100))},removeOption(e,t){if(!this.field.disabled)return t.preventDefault(),t.stopPropagation(),this.$emit("removeOption",e),this.$forceUpdate(),setTimeout(()=>{this.search=""},100),!1}},mounted(){this.field.value&&this.field.value.reverse().forEach(t=>{const s=this.field.options.filter(m=>m.value===t);s.length>=0&&this.addOption(s[0])})}},ml={class:"flex flex-col ns-multiselect"},bl=["for"],_l={class:"flex flex-col"},gl={class:"flex -mx-1 -my-1 flex-wrap"},vl={class:"rounded bg-info-secondary text-white flex justify-between p-1 items-center"},yl={class:"pr-8"},pl=["onClick"],kl=i("i",{class:"las la-times"},null,-1),xl=[kl],wl={key:0,class:"las la-angle-down"},$l={key:1,class:"las la-angle-up"},Cl={class:"ns-dropdown shadow"},Dl={class:"search border-b border-input-option-hover"},Tl={class:"h-40 overflow-y-auto"},Ml=["onClick"],El={key:0,class:"las la-check"},jl={key:0,class:"p-2 text-center text-primary"},Sl={class:"my-2"},Ol={key:0,class:"text-xs text-secondary"};function Fl(e,t,s,m,c,l){return n(),r("div",ml,[i("label",{for:s.field.name,class:f([l.hasError?"text-error-secondary":"text-primary","block mb-1 leading-5 font-medium"])},[b(e.$slots,"default")],10,bl),i("div",_l,[i("div",{onClick:t[0]||(t[0]=d=>c.showPanel=!c.showPanel),class:f([(c.showPanel,""),"select-preview flex justify-between rounded border-2 border-input-option-hover p-2 items-center"])},[i("div",gl,[(n(!0),r(g,null,v(l._options.filter(d=>d.selected),(d,u)=>(n(),r("div",{key:u,class:"px-1 my-1"},[i("div",vl,[i("span",yl,a(d.label),1),i("button",{onClick:h=>l.removeOption(d,h),class:"rounded outline-none hover:bg-info-tertiary h-6 w-6 flex items-center justify-center"},xl,8,pl)])]))),128))]),i("div",null,[c.showPanel?(n(),r("i",wl)):o("",!0),c.showPanel?o("",!0):(n(),r("i",$l))])],2),c.showPanel?(n(),r("div",{key:0,class:f(["h-0 z-10",c.showPanel?"shadow":""])},[i("div",Cl,[i("div",Dl,[M(i("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>c.search=d),class:"p-2 w-full bg-transparent text-primary outline-none",placeholder:"Search"},null,512),[[S,c.search]])]),i("div",Tl,[(n(!0),r(g,null,v(l._options,(d,u)=>(n(),r("div",{onClick:h=>l.addOption(d),key:u,class:f([d.selected?"bg-info-secondary text-white":"text-primary","option p-2 flex justify-between cursor-pointer hover:bg-info-secondary hover:text-white"])},[i("span",null,a(d.label),1),i("span",null,[d.checked?(n(),r("i",El)):o("",!0)])],10,Ml))),128))]),l._options.length===0?(n(),r("div",jl,a(l.__("Nothing to display")),1)):o("",!0)])],2)):o("",!0)]),i("div",Sl,[!s.field.errors||s.field.errors.length===0?(n(),r("p",Ol,[b(e.$slots,"description")])):o("",!0),(n(!0),r(g,null,v(s.field.errors,(d,u)=>(n(),r("p",{key:u,class:"text-xs text-error-secondary"},[d.identifier==="required"?b(e.$slots,d.identifier,{key:0},()=>[_(a(l.__("This field is required.")),1)]):o("",!0),d.identifier==="email"?b(e.$slots,d.identifier,{key:1},()=>[_(a(l.__("This field must contain a valid email address.")),1)]):o("",!0),d.identifier==="invalid"?b(e.$slots,d.identifier,{key:2},()=>[_(a(d.message),1)]):o("",!0)]))),128))])])}var Pl=x(fl,[["render",Fl]]);const Hl={data:()=>({}),mounted(){},computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},disabledClass(){return this.field.disabled?"bg-input-edge cursor-not-allowed":"bg-transparent"},inputClass(){return this.disabledClass+" "+this.leadClass},leadClass(){return this.leading?"pl-8":"px-4"}},props:["placeholder","leading","type","field"]},Ll={class:"flex flex-auto flex-col mb-2"},Yl=["for"],Al={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Vl={class:"sm:text-sm sm:leading-5"},ql=["disabled","id","placeholder"],Ul={key:0,class:"text-xs text-secondary"};function Rl(e,t,s,m,c,l){return n(),r("div",Ll,[i("label",{for:s.field.name,class:f([l.hasError?"text-error-primary":"text-primary","block leading-5 font-medium"])},[b(e.$slots,"default")],10,Yl),i("div",{class:f([l.hasError?"border-error-primary":"border-input-edge","bg-input-background text-secondary mt-1 relative border-2 rounded-md focus:shadow-sm"])},[s.leading?(n(),r("div",Al,[i("span",Vl,a(s.leading),1)])):o("",!0),M(i("input",{disabled:s.field.disabled,"onUpdate:modelValue":t[0]||(t[0]=d=>s.field.value=d),onBlur:t[1]||(t[1]=d=>e.$emit("blur",this)),onChange:t[2]||(t[2]=d=>e.$emit("change",this)),id:s.field.name,type:"date",class:f([l.inputClass,"form-input block w-full sm:text-sm sm:leading-5 h-10"]),placeholder:s.placeholder},null,42,ql),[[S,s.field.value]])],2),!s.field.errors||s.field.errors.length===0?(n(),r("p",Ul,[b(e.$slots,"description")])):o("",!0),(n(!0),r(g,null,v(s.field.errors,(d,u)=>(n(),r("p",{key:u,class:"text-xs text-error-primary"},[d.identifier==="required"?b(e.$slots,d.identifier,{key:0},()=>[_(a(e.__("This field is required.")),1)]):o("",!0),d.identifier==="email"?b(e.$slots,d.identifier,{key:1},()=>[_(a(e.__("This field must contain a valid email address.")),1)]):o("",!0),d.identifier==="invalid"?b(e.$slots,d.identifier,{key:2},()=>[_(a(d.message),1)]):o("",!0)]))),128))])}var Bl=x(Hl,[["render",Rl]]);const zl={name:"ns-media",props:["popup"],components:{VueUpload:le},data(){return{searchFieldDebounce:null,searchField:"",pages:[{label:p("Upload"),name:"upload",selected:!1},{label:p("Gallery"),name:"gallery",selected:!0}],resources:[],isDragging:!1,response:{data:[],current_page:0,from:0,to:0,next_page_url:"",prev_page_url:"",path:"",per_page:0,total:0,last_page:0,first_page:0},queryPage:1,bulkSelect:!1,files:[]}},mounted(){this.popupCloser();const e=this.pages.filter(t=>t.name==="gallery")[0];this.select(e)},watch:{searchField(){clearTimeout(this.searchFieldDebounce),this.searchFieldDebounce=setTimeout(()=>{this.loadGallery(1)},500)},files:{handler(){this.uploadFiles()},deep:!0}},computed:{postMedia(){return R.applyFilters("http-client-url","/api/nexopos/v4/medias")},currentPage(){return this.pages.filter(e=>e.selected)[0]},hasOneSelected(){return this.response.data.filter(e=>e.selected).length>0},selectedResource(){return this.response.data.filter(e=>e.selected)[0]},csrf(){return ns.authentication.csrf},isPopup(){return typeof this.$popup!="undefined"},user_id(){return this.isPopup&&this.$popupParams.user_id||0},panelOpened(){return!this.bulkSelect&&this.hasOneSelected}},methods:{popupCloser:B,__:p,cancelBulkSelect(){this.bulkSelect=!1,this.response.data.forEach(e=>e.selected=!1)},deleteSelected(){Popup.show(A,{title:p("Confirm Your Action"),message:p("You're about to delete selected resources. Would you like to proceed?"),onAction:e=>{e&&O.post("/api/nexopos/v4/medias/bulk-delete",{ids:this.response.data.filter(t=>t.selected).map(t=>t.id)}).subscribe({next:t=>{D.success(t.message).subscribe(),this.loadGallery()},error:t=>{D.error(t.message).subscribe()}})}})},loadUploadScreen(){setTimeout(()=>{this.setDropZone()},1e3)},setDropZone(){const e=document.getElementById("dropping-zone");e.addEventListener("dragenter",s=>this.preventDefaults(s),!1),e.addEventListener("dragleave",s=>this.preventDefaults(s),!1),e.addEventListener("dragover",s=>this.preventDefaults(s),!1),e.addEventListener("drop",s=>this.preventDefaults(s),!1),["dragenter","dragover"].forEach(s=>{e.addEventListener(s,()=>{this.isDragging=!0})}),["dragleave","drop"].forEach(s=>{e.addEventListener(s,()=>{this.isDragging=!1})}),e.addEventListener("drop",s=>this.handleDrop(s),!1),this.$refs.files.addEventListener("change",s=>this.processFiles(s.currentTarget.files))},async uploadFiles(){const e=this.files.filter(t=>t.uploaded===!1&&t.progress===0&&t.failed===!1);for(let t=0;t<e.length;t++){const s=e[t];try{s.progress=1;const m=await new Promise((c,l)=>{const d=new FormData;d.append("file",s.file),O.post("/api/nexopos/v4/medias",d,{headers:{"Content-Type":"multipart/form-data"}}).subscribe({next:u=>{s.uploaded=!0,s.progress=100,c(u)},error:u=>{l(u)}})})}catch{s.failed=!0}}},handleDrop(e){this.processFiles(e.dataTransfer.files),e.preventDefault(),e.stopPropagation()},preventDefaults(e){e.preventDefault(),e.stopPropagation()},triggerManualUpload(){this.$refs.files.click()},processFiles(e){Array.from(e).filter(m=>["image/png","image/gif","image/jpg","image/jpeg"].includes(m.type)).forEach(m=>{this.files.unshift({file:m,uploaded:!1,failed:!1,progress:0})})},select(e){this.pages.forEach(t=>t.selected=!1),e.selected=!0,e.name==="gallery"?this.loadGallery():e.name==="upload"&&this.loadUploadScreen()},loadGallery(e=null){e=e===null?this.queryPage:e,this.queryPage=e,O.get(`/api/nexopos/v4/medias?page=${e}&user_id=${this.user_id}${this.searchField.length>0?`&search=${this.searchField}`:""}`).subscribe(t=>{t.data.forEach(s=>s.selected=!1),this.response=t})},submitChange(e,t){O.put(`/api/nexopos/v4/medias/${t.id}`,{name:e.srcElement.textContent}).subscribe({next:s=>{t.fileEdit=!1,D.success(s.message,"OK").subscribe()},error:s=>{t.fileEdit=!1,D.success(s.message||p("An unexpected error occured."),"OK").subscribe()}})},useSelectedEntries(){this.$popupParams.resolve({event:"use-selected",value:this.response.data.filter(e=>e.selected)}),this.$popup.close()},selectResource(e){this.bulkSelect||this.response.data.forEach((t,s)=>{s!==this.response.data.indexOf(e)&&(t.selected=!1)}),e.fileEdit=!1,e.selected=!e.selected}}},Nl={class:"sidebar w-48 md:h-full flex-shrink-0"},Il={class:"text-xl font-bold my-4 text-center"},Gl={class:"sidebar-menus flex md:block"},Wl=["onClick"],Ql={key:0,class:"content w-full overflow-hidden flex"},Kl={class:"text-lg md:text-xl font-bold text-center text-primary mb-4"},Zl={style:{display:"none"},type:"file",name:"",multiple:"",ref:"files",id:""},Jl={class:"rounded w-full md:w-2/3 text-primary h-56 overflow-y-auto ns-scrollbar p-2"},Xl={class:"rounded bg-info-primary flex items-center justify-center text-xs p-2"},en={key:1,class:"content flex-col w-full overflow-hidden flex"},tn={key:0,class:"p-2 flex flex-shrink-0 justify-between"},sn=i("div",null,null,-1),ln={class:"flex flex-auto overflow-hidden"},nn={class:"shadow ns-grid flex flex-auto flex-col overflow-y-auto ns-scrollbar"},rn={class:"p-2 border-b border-box-background"},dn={class:"ns-input border-2 rounded border-input-edge bg-input-background flex"},on=["placeholder"],an={key:0,class:"flex items-center justify-center w-20 p-1"},un={class:"flex flex-auto"},cn={class:"p-2 overflow-x-auto"},hn={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},fn={class:"p-2"},mn=["onClick"],bn=["src","alt"],_n={key:0,class:"flex flex-auto items-center justify-center"},gn={class:"text-2xl font-bold"},vn={id:"preview",class:"ns-media-preview-panel hidden lg:block w-64 flex-shrink-0"},yn={class:"h-64 bg-gray-800 flex items-center justify-center"},pn=["src","alt"],kn={key:0,id:"details",class:"p-4 text-gray-700 text-sm"},xn={class:"flex flex-col mb-2"},wn={class:"font-bold block"},$n=["contenteditable"],Cn={class:"flex flex-col mb-2"},Dn={class:"font-bold block"},Tn={class:"flex flex-col mb-2"},Mn={class:"font-bold block"},En={class:"p-2 flex ns-media-footer flex-shrink-0 justify-between"},jn={class:"flex -mx-2 flex-shrink-0"},Sn={key:0,class:"px-2"},On={class:"ns-button shadow rounded overflow-hidden info"},Fn=i("i",{class:"las la-times"},null,-1),Pn={key:1,class:"px-2"},Hn={class:"ns-button shadow rounded overflow-hidden info"},Ln=i("i",{class:"las la-check-circle"},null,-1),Yn={key:2,class:"px-2"},An={class:"ns-button shadow rounded overflow-hidden warning"},Vn=i("i",{class:"las la-trash"},null,-1),qn={class:"flex-shrink-0 -mx-2 flex"},Un={class:"px-2"},Rn={class:"rounded shadow overflow-hidden flex text-sm"},Bn=["disabled"],zn=i("hr",{class:"border-r border-gray-700"},null,-1),Nn=["disabled"],In={key:0,class:"px-2"},Gn={class:"ns-button info"};function Wn(e,t,s,m,c,l){const d=C("ns-close-button");return n(),r("div",{class:f(["flex md:flex-row flex-col ns-box shadow-xl overflow-hidden",l.isPopup?"w-6/7-screen h-6/7-screen":"w-full h-full"]),id:"ns-media"},[i("div",Nl,[i("h3",Il,a(l.__("Medias Manager")),1),i("ul",Gl,[(n(!0),r(g,null,v(c.pages,(u,h)=>(n(),r("li",{onClick:y=>l.select(u),class:f(["py-2 px-3 cursor-pointer border-l-8",u.selected?"active":""]),key:h},a(u.label),11,Wl))),128))])]),l.currentPage.name==="upload"?(n(),r("div",Ql,[i("div",{id:"dropping-zone",onClick:t[0]||(t[0]=u=>l.triggerManualUpload()),class:f([c.isDragging?"border-dashed border-2":"","flex flex-auto m-2 p-2 flex-col border-info-primary items-center justify-center"])},[i("h3",Kl,a(l.__("Click Here Or Drop Your File To Upload")),1),i("input",Zl,null,512),i("div",Jl,[i("ul",null,[(n(!0),r(g,null,v(c.files,(u,h)=>(n(),r("li",{key:h,class:"p-2 mb-2 shadow ns-media-upload-item flex items-center justify-between rounded"},[i("span",null,a(u.file.name),1),i("span",Xl,a(u.progress)+"%",1)]))),128))])])],2)])):o("",!0),l.currentPage.name==="gallery"?(n(),r("div",en,[s.popup?(n(),r("div",tn,[sn,i("div",null,[j(d,{onClick:t[1]||(t[1]=u=>s.popup.close())})])])):o("",!0),i("div",ln,[i("div",nn,[i("div",rn,[i("div",dn,[M(i("input",{id:"search",type:"text","onUpdate:modelValue":t[2]||(t[2]=u=>c.searchField=u),placeholder:l.__("Search Medias"),class:"px-4 block w-full sm:text-sm sm:leading-5 h-10"},null,8,on),[[S,c.searchField]]),c.searchField.length>0?(n(),r("div",an,[i("button",{onClick:t[3]||(t[3]=u=>c.searchField=""),class:"h-full w-full rounded-tr rounded-br overflow-hidden"},a(l.__("Cancel")),1)])):o("",!0)])]),i("div",un,[i("div",cn,[i("div",hn,[(n(!0),r(g,null,v(c.response.data,(u,h)=>(n(),r("div",{key:h,class:""},[i("div",fn,[i("div",{onClick:y=>l.selectResource(u),class:f([u.selected?"ns-media-image-selected ring-4":"","rounded-lg aspect-square bg-gray-500 m-2 overflow-hidden flex items-center justify-center"])},[i("img",{class:"object-cover h-full",src:u.sizes.thumb,alt:u.name},null,8,bn)],10,mn)])]))),128))])]),c.response.data.length===0?(n(),r("div",_n,[i("h3",gn,a(l.__("Nothing has already been uploaded")),1)])):o("",!0)])]),i("div",vn,[i("div",yn,[l.panelOpened?(n(),r("img",{key:0,src:l.selectedResource.sizes.thumb,alt:l.selectedResource.name},null,8,pn)):o("",!0)]),l.panelOpened?(n(),r("div",kn,[i("p",xn,[i("strong",wn,a(l.__("File Name"))+": ",1),i("span",{class:f(["p-2",l.selectedResource.fileEdit?"border-b border-input-edge bg-input-background":""]),onBlur:t[4]||(t[4]=u=>l.submitChange(u,l.selectedResource)),contenteditable:l.selectedResource.fileEdit?"true":"false",onClick:t[5]||(t[5]=u=>l.selectedResource.fileEdit=!0)},a(l.selectedResource.name),43,$n)]),i("p",Cn,[i("strong",Dn,a(l.__("Uploaded At"))+":",1),i("span",null,a(l.selectedResource.created_at),1)]),i("p",Tn,[i("strong",Mn,a(l.__("By"))+" :",1),i("span",null,a(l.selectedResource.user.username),1)])])):o("",!0)])]),i("div",En,[i("div",jn,[c.bulkSelect?(n(),r("div",Sn,[i("div",On,[i("button",{onClick:t[6]||(t[6]=u=>l.cancelBulkSelect()),class:"py-2 px-3"},[Fn,_(" "+a(l.__("Cancel")),1)])])])):o("",!0),l.hasOneSelected&&!c.bulkSelect?(n(),r("div",Pn,[i("div",Hn,[i("button",{onClick:t[7]||(t[7]=u=>c.bulkSelect=!0),class:"py-2 px-3"},[Ln,_(" "+a(l.__("Bulk Select")),1)])])])):o("",!0),l.hasOneSelected?(n(),r("div",Yn,[i("div",An,[i("button",{onClick:t[8]||(t[8]=u=>l.deleteSelected()),class:"py-2 px-3"},[Vn,_(" "+a(l.__("Delete")),1)])])])):o("",!0)]),i("div",qn,[i("div",Un,[i("div",Rn,[i("div",{class:f(["ns-button",c.response.current_page===1?"disabled cursor-not-allowed":"info"])},[i("button",{disabled:c.response.current_page===1,onClick:t[9]||(t[9]=u=>l.loadGallery(c.response.current_page-1)),class:"p-2"},a(l.__("Previous")),9,Bn)],2),zn,i("div",{class:f(["ns-button",c.response.current_page===c.response.last_page?"disabled cursor-not-allowed":"info"])},[i("button",{disabled:c.response.current_page===c.response.last_page,onClick:t[10]||(t[10]=u=>l.loadGallery(c.response.current_page+1)),class:"p-2"},a(l.__("Next")),9,Nn)],2)])]),s.popup&&l.hasOneSelected?(n(),r("div",In,[i("div",Gn,[i("button",{class:"rounded shadow p-2 text-sm",onClick:t[11]||(t[11]=u=>l.useSelectedEntries())},a(l.__("Use Selected")),1)])])):o("",!0)])])])):o("",!0)],2)}var G=x(zl,[["render",Wn]]),Ho=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));const Qn={computed:{hasError(){return this.field.errors!==void 0&&this.field.errors.length>0},disabledClass(){return this.field.disabled?"ns-disabled cursor-not-allowed":"ns-enabled"},inputClass(){return this.disabledClass+" "+this.leadClass},leadClass(){return this.leading?"pl-8":"px-4"}},data(){return{}},props:["placeholder","leading","type","field"],mounted(){},methods:{toggleMedia(){new Promise((t,s)=>{L.show(G,{resolve:t,reject:s,...this.field.data||{}})}).then(t=>{t.event==="use-selected"&&(!this.field.data||this.field.data.type==="url"?this.field.value=t.value[0].sizes.original:(!this.field.data||this.field.data.type==="model")&&(this.field.value=t.value[0]),this.$forceUpdate())})}}},Kn={class:"flex flex-col mb-2 flex-auto ns-media"},Zn=["for"],Jn={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Xn={class:"text-primary sm:text-sm sm:leading-5"},er={class:"rounded overflow-hidden flex"},tr={key:0,class:"form-input flex w-full sm:text-sm items-center sm:leading-5 h-10"},sr=["src","alt"],ir={class:"text-xs text-secondary"},lr=["disabled","id","type","placeholder"],nr=i("i",{class:"las la-photo-video"},null,-1),rr=[nr],dr={key:0,class:"text-xs text-primary"};function or(e,t,s,m,c,l){return n(),r("div",Kn,[i("label",{for:s.field.name,class:f([l.hasError?"has-error":"is-pristine","block leading-5 font-medium"])},[b(e.$slots,"default")],10,Zn),i("div",{class:f([l.hasError?"has-error":"is-pristine","mt-1 relative border-2 rounded-md focus:shadow-sm"])},[s.leading?(n(),r("div",Jn,[i("span",Xn,a(s.leading),1)])):o("",!0),i("div",er,[s.field.data&&s.field.data.type==="model"?(n(),r("div",tr,[s.field.value&&s.field.value.name?(n(),r(g,{key:0},[i("img",{class:"w-8 h-8 m-1",src:s.field.value.sizes.thumb,alt:s.field.value.name},null,8,sr),i("span",ir,a(s.field.value.name),1)],64)):o("",!0)])):o("",!0),!s.field.data||s.field.data.type==="undefined"||s.field.data.type==="url"?M((n(),r("input",{key:1,"onUpdate:modelValue":t[0]||(t[0]=d=>s.field.value=d),disabled:s.field.disabled,onBlur:t[1]||(t[1]=d=>e.$emit("blur",this)),onChange:t[2]||(t[2]=d=>e.$emit("change",this)),id:s.field.name,type:s.type||s.field.type||"text",class:f([l.inputClass,"form-input block w-full sm:text-sm sm:leading-5 h-10"]),placeholder:s.placeholder},null,42,lr)),[[q,s.field.value]]):o("",!0),i("button",{onClick:t[3]||(t[3]=d=>l.toggleMedia(s.field)),class:"w-10 h-10 flex items-center justify-center border-l-2 outline-none"},rr)])],2),!s.field.errors||s.field.errors.length===0?(n(),r("p",dr,[b(e.$slots,"description")])):o("",!0),(n(!0),r(g,null,v(s.field.errors,(d,u)=>(n(),r("p",{key:u,class:"text-xs text-error-primary"},[d.identifier==="required"?b(e.$slots,d.identifier,{key:0},()=>[_(a(e.__("This field is required.")),1)]):o("",!0),d.identifier==="email"?b(e.$slots,d.identifier,{key:1},()=>[_(a(e.__("This field must contain a valid email address.")),1)]):o("",!0),d.identifier==="invalid"?b(e.$slots,d.identifier,{key:2},()=>[_(a(d.message),1)]):o("",!0)]))),128))])}var ar=x(Qn,[["render",or]]);const ur={methods:{}},cr={class:"outline-none ns-close-button border rounded-full h-8 w-8 items-center justify-center"},hr=i("i",{class:"las la-times"},null,-1),fr=[hr];function mr(e,t,s,m,c,l){return n(),r("button",cr,fr)}var br=x(ur,[["render",mr]]);const _r={props:["className","buttonClass","type"],methods:{clicked(e){this.$emit("click",e)}}};function gr(e,t,s,m,c,l){return n(),r("button",{onClick:t[0]||(t[0]=d=>l.clicked(d)),class:f([s.type?s.type:s.buttonClass,"ns-inset-button rounded-full h-8 w-8 border items-center justify-center"])},[i("i",{class:f([s.className,"las"])},null,2)],2)}var vr=x(_r,[["render",gr]]);const yr={data(){return{childrens:[]}},props:["active"],computed:{activeComponent(){const e=this.$children.filter(t=>t.active);return e.length>0?e[0]:!1}},methods:{toggle(e){this.$emit("active",e.identifier),this.$emit("changeTab",e.identifier)}},mounted(){this.childrens=this.$children}},pr={class:"tabs flex flex-col flex-auto ns-tab"},kr={class:"header flex",style:{"margin-bottom":"-1px"}},xr=["onClick"];function wr(e,t,s,m,c,l){return n(),r("div",pr,[i("div",kr,[(n(!0),r(g,null,v(c.childrens,(d,u)=>(n(),r("div",{key:u,onClick:h=>l.toggle(d),class:f([s.active===d.identifier?"border-b-0 active z-10":"border inactive","tab rounded-tl rounded-tr border px-3 py-2 cursor-pointer"]),style:{"margin-right":"-1px"}},a(d.label),11,xr))),128))]),b(e.$slots,"default")])}var $r=x(yr,[["render",wr]]);const Cr={data(){return{}},mounted(){},props:["label","identifier","padding"]};function Dr(e,t,s,m,c,l){return e.$parent.active===s.identifier?(n(),r("div",{key:0,class:f([s.padding||"p-4","ns-tab-item border flex-auto"])},[b(e.$slots,"default")],2)):o("",!0)}var Tr=x(Cr,[["render",Dr]]);const Mr={data(){return{fields:[],validation:new U}},methods:{__:p,popupCloser:B,popupResolver:te,closePopup(){this.popupResolver(!1)},useFilters(){this.popupResolver(this.validation.extractFields(this.fields))},clearFilters(){this.fields.forEach(e=>e.value=""),this.popupResolver(null)}},mounted(){this.fields=this.validation.createFields(this.$popupParams.queryFilters),this.popupCloser()}},Er={class:"ns-box shadow-lg w-95vw h-95vh md:w-2/5-screen overflow-hidden md:h-5/6-screen flex flex-col"},jr={class:"p-2 border-b ns-box-header flex justify-between items-center"},Sr={class:"p-2 ns-box-body flex-auto overflow-y-auto"},Or={class:"p-2 flex justify-between ns-box-footer border-t"};function Fr(e,t,s,m,c,l){const d=C("ns-close-button"),u=C("ns-field"),h=C("ns-button");return n(),r("div",Er,[i("div",jr,[i("h3",null,a(l.__("Search Filters")),1),i("div",null,[j(d,{onClick:t[0]||(t[0]=y=>l.closePopup())})])]),i("div",Sr,[(n(!0),r(g,null,v(c.fields,(y,$)=>(n(),T(u,{field:y,key:$},null,8,["field"]))),128))]),i("div",Or,[i("div",null,[j(h,{onClick:t[1]||(t[1]=y=>l.clearFilters()),type:"error"},{default:k(()=>[_(a(l.__("Clear Filters")),1)]),_:1})]),i("div",null,[j(h,{onClick:t[2]||(t[2]=y=>l.useFilters()),type:"info"},{default:k(()=>[_(a(l.__("Use Filters")),1)]),_:1})])])])}var V=x(Mr,[["render",Fr]]);const Pr={data:()=>({prependOptions:!1,showOptions:!0,isRefreshing:!1,sortColumn:"",searchInput:"",queryFiltersString:"",searchQuery:"",page:1,bulkAction:"",bulkActions:[],queryFilters:[],withFilters:!1,columns:[],selectedEntries:[],globallyChecked:!1,result:{current_page:null,data:[],first_page_url:null,from:null,last_page:null,last_page_url:null,next_page_url:null,path:null,per_page:null,prev_page_url:null,to:null,total:null}}),name:"ns-crud",mounted(){this.identifier!==void 0&&nsCrudHandler.defineInstance(this.identifier,this),this.loadConfig()},props:["src","create-url","mode","identifier","queryParams"],computed:{getParsedSrc(){return`${this.src}?${this.sortColumn}${this.searchQuery}${this.queryFiltersString}${this.queryPage}${this.getQueryParams()?"&"+this.getQueryParams():""}`},showQueryFilters(){return this.queryFilters.length>0},getSelectedAction(){const e=this.bulkActions.filter(t=>t.identifier===this.bulkAction);return e.length>0?e[0]:!1},pagination(){return this.result?this.pageNumbers(this.result.last_page,this.result.current_page):[]},queryPage(){return this.result?`&page=${this.page}`:""},resultInfo(){return p("displaying {perPage} on {items} items").replace("{perPage}",this.result.total).replace("{items}",this.result.total)}},methods:{__:p,getQueryParams(){return this.queryParams?Object.keys(this.queryParams).map(e=>`${e}=${this.queryParams[e]}`).join("&"):""},pageNumbers(e,t){var s=[];t-3>1&&s.push(1,"...");for(let m=1;m<=e;m++)t+3>m&&t-3<m&&s.push(m);return t+3<e&&s.push("...",e),s.filter(m=>m>0||typeof m=="string")},downloadContent(){nsHttpClient.post(`${this.src}/export?${this.getParsedSrc}`,{entries:this.selectedEntries.map(e=>e.$id)}).subscribe(e=>{setTimeout(()=>document.location=e.url,300),D.success(p("The document has been generated.")).subscribe()},e=>{D.error(e.message||p("Unexpected error occured.")).subscribe()})},clearSelectedEntries(){L.show(A,{title:p("Clear Selected Entries ?"),message:p("Would you like to clear all selected entries ?"),onAction:e=>{e&&(this.selectedEntries=[])}})},refreshRow(e){if(e.$checked===!0)this.selectedEntries.filter(s=>s.$id===e.$id).length===0&&this.selectedEntries.push(e);else{const t=this.selectedEntries.filter(s=>s.$id===e.$id);if(t.length>0){const s=this.selectedEntries.indexOf(t[0]);this.selectedEntries.splice(s,1)}}},handleShowOptions(e){this.result.data.forEach(t=>{t.$id!==e.$id&&(t.$toggled=!1)})},handleGlobalChange(e){this.globallyChecked=e,this.result.data.forEach(t=>{t.$checked=e,this.refreshRow(t)})},loadConfig(){nsHttpClient.get(`${this.src}/config?${this.getQueryParams()}`).subscribe(t=>{this.columns=t.columns,this.bulkActions=t.bulkActions,this.queryFilters=t.queryFilters,this.prependOptions=t.prependOptions,this.showOptions=t.showOptions,this.refresh()},t=>{D.error(t.message,"OK",{duration:!1}).subscribe()})},cancelSearch(){this.searchInput="",this.search()},search(){this.searchInput?this.searchQuery=`&search=${this.searchInput}`:this.searchQuery="",this.refresh()},sort(e){for(let t in this.columns)t!==e&&(this.columns[t].$sorted=!1,this.columns[t].$direction="");switch(this.columns[e].$sorted=!0,this.columns[e].$direction){case"asc":this.columns[e].$direction="desc";break;case"desc":this.columns[e].$direction="";break;case"":this.columns[e].$direction="asc";break}["asc","desc"].includes(this.columns[e].$direction)?this.sortColumn=`active=${e}&direction=${this.columns[e].$direction}`:this.sortColumn="",this.$emit("sort",this.columns[e]),this.refresh()},bulkDo(){if(this.bulkAction)if(this.selectedEntries.length>0){if(confirm(this.getSelectedAction.confirm||this.$slots["error-bulk-confirmation"]||p("Would you like to perform the selected bulk action on the selected entries ?")))return nsHttpClient.post(`${this.src}/bulk-actions`,{action:this.bulkAction,entries:this.selectedEntries.map(e=>e.$id)}).subscribe({next:e=>{D.info(e.message).subscribe(),this.selectedEntries=[],this.refresh()},error:e=>{D.error(e.message).subscribe()}})}else return D.error(this.$slots["error-no-selection"]?this.$slots["error-no-selection"][0].text:p("No selection has been made.")).subscribe();else return D.error(this.$slots["error-no-action"]?this.$slots["error-no-action"][0].text:p("No action has been selected.")).subscribe()},async openQueryFilter(){try{console.log(V);const e=await new Promise((t,s)=>{L.show(V,{resolve:t,reject:s,queryFilters:this.queryFilters})});this.withFilters=!1,this.queryFiltersString="",e!==null&&(this.withFilters=!0,this.queryFiltersString="&queryFilters="+encodeURIComponent(JSON.stringify(e))),this.refresh()}catch{}},refresh(){this.globallyChecked=!1,this.isRefreshing=!0,nsHttpClient.get(`${this.getParsedSrc}`).subscribe(t=>{t.data=t.data.map(s=>(this.selectedEntries.filter(c=>c.$id===s.$id).length>0&&(s.$checked=!0),s)),this.isRefreshing=!1,this.result=t,this.page=t.current_page},t=>{this.isRefreshing=!1,D.error(t.message).subscribe()})}}},Hr={key:0,id:"crud-table-header",class:"p-2 border-b border-popup-surface flex flex-col md:flex-row justify-between flex-wrap"},Lr={id:"crud-search-box",class:"w-full md:w-auto -mx-2 mb-2 md:mb-0 flex"},Yr={key:0,class:"px-2 flex items-center justify-center"},Ar=["href"],Vr=i("i",{class:"las la-plus"},null,-1),qr=[Vr],Ur={class:"px-2"},Rr={class:"rounded-full p-1 ns-crud-input flex"},Br=i("i",{class:"las la-search"},null,-1),zr=[Br],Nr=i("i",{class:"las la-times"},null,-1),Ir=[Nr],Gr={class:"px-2 flex items-center justify-center"},Wr={key:1,class:"px-2 flex items-center"},Qr={key:0,class:"las la-filter"},Kr={key:1,class:"las la-check"},Zr={key:2},Jr={key:3},Xr={id:"crud-buttons",class:"-mx-1 flex flex-wrap w-full md:w-auto"},ed={key:0,class:"px-1 flex items-center"},td=i("i",{class:"lar la-check-square"},null,-1),sd={class:"px-1 flex items-center"},id=i("i",{class:"las la-download"},null,-1),ld={class:"flex"},nd={class:"overflow-x-auto flex-auto"},rd={key:0,class:"table ns-table w-full"},dd={class:"text-center px-2 border w-16 py-2"},od={key:0,class:"text-left px-2 py-2 w-16 border"},ad=["onClick"],ud={class:"w-full flex justify-between items-center"},cd={class:"flex"},hd={class:"h-6 w-6 flex justify-center items-center"},fd={key:0,class:"las la-sort-amount-up"},md={key:1,class:"las la-sort-amount-down"},bd={key:1,class:"text-left px-2 py-2 w-16 border"},_d={key:1},gd=["colspan"],vd={class:"p-2 flex border-t flex-col md:flex-row justify-between footer"},yd={key:0,id:"grouped-actions",class:"mb-2 md:mb-0 flex justify-between rounded-full ns-crud-input p-1"},pd={class:"bg-input-disabled",selected:"",value:""},kd=["value"],xd={class:"flex"},wd={class:"items-center flex text-primary mx-4"},$d={id:"pagination",class:"flex items-center -mx-1"},Cd=i("i",{class:"las la-angle-double-left"},null,-1),Dd=[Cd],Td=["onClick"],Md=i("i",{class:"las la-angle-double-right"},null,-1),Ed=[Md];function jd(e,t,s,m,c,l){const d=C("ns-checkbox"),u=C("ns-table-row");return n(),r("div",{id:"crud-table",class:f(["w-full rounded-lg",s.mode!=="light"?"shadow mb-8":""])},[s.mode!=="light"?(n(),r("div",Hr,[i("div",Lr,[e.createUrl?(n(),r("div",Yr,[i("a",{href:e.createUrl||"#",class:"rounded-full ns-crud-button text-sm h-10 flex items-center justify-center cursor-pointer px-3 outline-none border"},qr,8,Ar)])):o("",!0),i("div",Ur,[i("div",Rr,[M(i("input",{"onUpdate:modelValue":t[0]||(t[0]=h=>e.searchInput=h),type:"text",class:"w-36 md:w-auto bg-transparent outline-none px-2"},null,512),[[S,e.searchInput]]),i("button",{onClick:t[1]||(t[1]=h=>l.search()),class:"rounded-full w-8 h-8 outline-none ns-crud-input-button"},zr),e.searchQuery?(n(),r("button",{key:0,onClick:t[2]||(t[2]=h=>l.cancelSearch()),class:"ml-1 rounded-full w-8 h-8 bg-error-secondary text-white outline-none hover:bg-error-tertiary"},Ir)):o("",!0)])]),i("div",Gr,[i("button",{onClick:t[3]||(t[3]=h=>l.refresh()),class:"rounded-full text-sm h-10 px-3 outline-none border ns-crud-button"},[i("i",{class:f([e.isRefreshing?"animate-spin":"","las la-sync"])},null,2)])]),l.showQueryFilters?(n(),r("div",Wr,[i("button",{onClick:t[4]||(t[4]=h=>l.openQueryFilter()),class:f([e.withFilters?"table-filters-enabled":"table-filters-disabled","ns-crud-button border rounded-full text-sm h-10 px-3 outline-none"])},[e.withFilters?o("",!0):(n(),r("i",Qr)),e.withFilters?(n(),r("i",Kr)):o("",!0),e.withFilters?o("",!0):(n(),r("span",Zr,a(l.__("Filters")),1)),e.withFilters?(n(),r("span",Jr,a(l.__("Has Filters")),1)):o("",!0)],2)])):o("",!0)]),i("div",Xr,[e.selectedEntries.length>0?(n(),r("div",ed,[i("button",{onClick:t[5]||(t[5]=h=>l.clearSelectedEntries()),class:"flex justify-center items-center rounded-full text-sm h-10 px-3 outline-none ns-crud-button border"},[td,_(" "+a(l.__("{entries} entries selected").replace("{entries}",e.selectedEntries.length)),1)])])):o("",!0),i("div",sd,[i("button",{onClick:t[6]||(t[6]=h=>l.downloadContent()),class:"flex justify-center items-center rounded-full text-sm h-10 px-3 ns-crud-button border outline-none"},[id,_(" "+a(l.__("Download")),1)])])])])):o("",!0),i("div",ld,[i("div",nd,[Object.values(e.columns).length>0?(n(),r("table",rd,[i("thead",null,[i("tr",null,[i("th",dd,[j(d,{checked:e.globallyChecked,onChange:t[7]||(t[7]=h=>l.handleGlobalChange(h))},null,8,["checked"])]),e.prependOptions&&e.showOptions?(n(),r("th",od)):o("",!0),(n(!0),r(g,null,v(e.columns,(h,y)=>(n(),r("th",{key:y,onClick:$=>l.sort(y),style:se({"min-width":h.width||"auto"}),class:"cursor-pointer justify-betweenw-40 border text-left px-2 py-2"},[i("div",ud,[i("span",cd,a(h.label),1),i("span",hd,[h.$direction==="desc"?(n(),r("i",fd)):o("",!0),h.$direction==="asc"?(n(),r("i",md)):o("",!0)])])],12,ad))),128)),!e.prependOptions&&e.showOptions?(n(),r("th",bd)):o("",!0)])]),i("tbody",null,[e.result.data!==void 0&&e.result.data.length>0?(n(!0),r(g,{key:0},v(e.result.data,(h,y)=>(n(),T(u,{key:y,onUpdated:t[8]||(t[8]=$=>l.refreshRow($)),columns:e.columns,prependOptions:e.prependOptions,showOptions:e.showOptions,row:h,onReload:t[9]||(t[9]=$=>l.refresh()),onToggled:t[10]||(t[10]=$=>l.handleShowOptions($))},null,8,["columns","prependOptions","showOptions","row"]))),128)):o("",!0),!e.result||e.result.data.length===0?(n(),r("tr",_d,[i("td",{colspan:Object.values(e.columns).length+2,class:"text-center text-gray-600 dark:text-slate-300 py-3"},a(l.__("There is nothing to display...")),9,gd)])):o("",!0)])])):o("",!0)])]),i("div",vd,[e.bulkActions.length>0?(n(),r("div",yd,[M(i("select",{class:"outline-none bg-transparent","onUpdate:modelValue":t[11]||(t[11]=h=>e.bulkAction=h),id:"grouped-actions"},[i("option",pd,[b(e.$slots,"bulk-label",{},()=>[_(a(l.__("Bulk Actions")),1)])]),(n(!0),r(g,null,v(e.bulkActions,(h,y)=>(n(),r("option",{class:"bg-input-disabled",key:y,value:h.identifier},a(h.label),9,kd))),128))],512),[[Y,e.bulkAction]]),i("button",{onClick:t[12]||(t[12]=h=>l.bulkDo()),class:"ns-crud-input-button h-8 px-3 outline-none rounded-full flex items-center justify-center"},[b(e.$slots,"bulk-go",{},()=>[_(a(l.__("Apply")),1)])])])):o("",!0),i("div",xd,[i("div",wd,a(l.resultInfo),1),i("div",$d,[e.result.current_page?(n(),r(g,{key:0},[i("a",{href:"javascript:void(0)",onClick:t[13]||(t[13]=h=>{e.page=e.result.first_page,l.refresh()}),class:"mx-1 flex items-center justify-center h-8 w-8 rounded-full ns-crud-button border shadow"},Dd),(n(!0),r(g,null,v(l.pagination,(h,y)=>(n(),r(g,null,[e.page!=="..."?(n(),r("a",{key:y,class:f([e.page==h?"bg-info-tertiary border-transparent text-white":"","mx-1 flex items-center justify-center h-8 w-8 rounded-full ns-crud-button border"]),onClick:$=>{e.page=h,l.refresh()},href:"javascript:void(0)"},a(h),11,Td)):o("",!0),e.page==="..."?(n(),r("a",{key:y,href:"javascript:void(0)",class:"mx-1 flex items-center justify-center h-8 w-8 rounded-full ns-crud-button border"},"...")):o("",!0)],64))),256)),i("a",{href:"javascript:void(0)",onClick:t[14]||(t[14]=h=>{e.page=e.result.last_page,l.refresh()}),class:"mx-1 flex items-center justify-center h-8 w-8 rounded-full ns-crud-button border shadow"},Ed)],64)):o("",!0)])])])],2)}var Sd=x(Pr,[["render",jd]]);const Od={methods:{__:p},name:"ns-avatar",data(){return{svg:""}},mounted(){this.svg=ne(re,{seed:this.displayName})},computed:{avatarUrl(){return this.url.length===0?"":this.url}},props:["url","display-name"]},Fd={class:"flex justify-between items-center flex-shrink-0"},Pd={class:"hidden md:inline-block px-2"},Hd={class:"md:hidden px-2"},Ld={class:"px-2"},Yd={class:"w-8 h-8 overflow-hidden rounded-full bg-gray-600"},Ad=["src","alt"],Vd=["innerHTML"];function qd(e,t,s,m,c,l){return n(),r("div",Fd,[i("span",Pd,a(l.__("Howdy, {name}").replace("{name}",this.displayName)),1),i("span",Hd,a(e.displayName),1),i("div",Ld,[i("div",Yd,[l.avatarUrl!==""?(n(),r("img",{key:0,src:l.avatarUrl,class:"w-8 h-8 overflow-hidden rounded-full",alt:e.displayName,srcset:""},null,8,Ad)):o("",!0),l.avatarUrl===""?(n(),r("div",{key:1,innerHTML:c.svg},null,8,Vd)):o("",!0)])])])}var Ud=x(Od,[["render",qd]]);const Rd={name:"ns-datepicker",props:["label","date"],data(){return{visible:!1,currentDay:null,daysOfWeek:new Array(7).fill("").map((e,t)=>t),calendar:[[]]}},mounted(){document.addEventListener("click",this.checkClickedItem),this.currentDay=[void 0,null].includes(this.date)?E():E(this.date),this.build()},methods:{__:p,checkClickedItem(e){let t;t=this.$el.contains(e.srcElement),!t&&this.visible&&(this.visible=!1)},selectDate(e){this.currentDay=e,this.visible=!1,this.$emit("change",e)},subMonth(){this.currentDay.subtract(1,"month"),this.build()},addMonth(){this.currentDay.add(1,"month"),this.build()},resetCalendar(){this.calendar=[[]]},build(){this.resetCalendar(),this.currentDay.clone().startOf("month");const e=this.currentDay.clone().startOf("month"),t=this.currentDay.clone().endOf("month");for(;;){e.day()===0&&this.calendar[0].length>0&&this.calendar.push([]);let s=this.calendar.length-1;if(this.calendar[s].push({date:e.clone(),dayOfWeek:e.day(),isToday:e.isSame(E.now(),"day")}),e.isSame(t,"day"))break;e.add(1,"day")}}}},Bd={class:"picker"},zd=i("i",{class:"las la-clock text-2xl"},null,-1),Nd={class:"mx-1 text-sm"},Id={key:0},Gd={key:1},Wd={key:0,class:"relative h-0 w-0 -mb-2"},Qd={class:"w-72 mt-2 shadow rounded bg-white anim-duration-300 zoom-in-entrance flex flex-col"},Kd={class:"flex-auto"},Zd={class:"p-2 flex items-center"},Jd=i("i",{class:"las la-angle-left"},null,-1),Xd=[Jd],eo={class:"flex flex-auto font-semibold text-gray-700 justify-center"},to=i("i",{class:"las la-angle-right"},null,-1),so=[to],io={class:"grid grid-flow-row grid-cols-7 grid-rows-1 gap-0 text-gray-700"},lo={class:"border border-gray-200 h-8 flex justify-center items-center text-sm"},no={class:"border border-gray-200 h-8 flex justify-center items-center text-sm"},ro={class:"border border-gray-200 h-8 flex justify-center items-center text-sm"},oo={class:"border border-gray-200 h-8 flex justify-center items-center text-sm"},ao={class:"border border-gray-200 h-8 flex justify-center items-center text-sm"},uo={class:"border border-gray-200 h-8 flex justify-center items-center text-sm"},co={class:"border border-gray-200 h-8 flex justify-center items-center text-sm"},ho=["onClick"],fo=i("div",null,null,-1);function mo(e,t,s,m,c,l){return n(),r("div",Bd,[i("div",{onClick:t[0]||(t[0]=d=>c.visible=!c.visible),class:"rounded cursor-pointer bg-white shadow px-1 py-1 flex items-center text-gray-700"},[zd,i("span",Nd,[i("span",null,a(s.label||l.__("Date"))+" : ",1),c.currentDay?(n(),r("span",Id,a(c.currentDay.format("YYYY/MM/DD")),1)):o("",!0),c.currentDay===null?(n(),r("span",Gd,a(l.__("N/A")),1)):o("",!0)])]),c.visible?(n(),r("div",Wd,[i("div",Qd,[i("div",Kd,[i("div",Zd,[i("div",null,[i("button",{onClick:t[1]||(t[1]=d=>l.subMonth()),class:"w-8 h-8 bg-gray-400 rounded"},Xd)]),i("div",eo,a(c.currentDay.format("MMM"))+" "+a(c.currentDay.format("YYYY")),1),i("div",null,[i("button",{onClick:t[2]||(t[2]=d=>l.addMonth()),class:"w-8 h-8 bg-gray-400 rounded"},so)])]),i("div",io,[i("div",lo,a(l.__("Sun")),1),i("div",no,a(l.__("Mon")),1),i("div",ro,a(l.__("Tue")),1),i("div",oo,a(l.__("Wed")),1),i("div",ao,a(l.__("Thr")),1),i("div",uo,a(l.__("Fri")),1),i("div",co,a(l.__("Sat")),1)]),(n(!0),r(g,null,v(c.calendar,(d,u)=>(n(),r("div",{key:u,class:"grid grid-flow-row grid-cols-7 grid-rows-1 gap-0 text-gray-700"},[(n(!0),r(g,null,v(c.daysOfWeek,(h,y)=>(n(),r("div",{key:y,class:"h-8 flex justify-center items-center text-sm"},[(n(!0),r(g,null,v(d,($,F)=>(n(),r(g,null,[$.dayOfWeek===h?(n(),r("div",{key:F,class:f([$.date.format("DD")===c.currentDay.format("DD")?"bg-blue-400 text-white border border-blue-500":"hover:bg-gray-100 border border-gray-200","h-full w-full flex items-center justify-center cursor-pointer"]),onClick:P=>l.selectDate($.date)},a($.date.format("DD")),11,ho)):o("",!0)],64))),256))]))),128))]))),128))]),fo])])):o("",!0)])}var bo=x(Rd,[["render",mo]]);const _o={name:"ns-search",props:["url","placeholder","value","label","method","searchArgument"],data(){return{searchText:"",searchTimeout:null,results:[]}},methods:{__:p,selectOption(e){this.$emit("select",e),this.searchText="",this.results=[]}},watch:{searchText(){clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchText.length>0&&O[this.method||"post"](this.url,{[this.searchArgument||"search"]:this.searchText}).subscribe({next:e=>{this.results=e},error:e=>{D.error(e.message||p("An unexpected error occured.")).subscribe()}})},1e3)}},mounted(){}},go={class:"ns-search"},vo={class:"input-group info border-2"},yo=["placeholder"],po={class:"relative"},ko={class:"w-full absolute"},xo={key:0,class:"ns-vertical-menu"},wo=["onClick"];function $o(e,t,s,m,c,l){return n(),r("div",go,[i("div",vo,[M(i("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=d=>c.searchText=d),class:"p-2 w-full",placeholder:s.placeholder||l.__("Search..."),id:""},null,8,yo),[[S,c.searchText]])]),i("div",po,[i("div",ko,[c.results.length>0&&c.searchText.length>0?(n(),r("ul",xo,[(n(!0),r(g,null,v(c.results,(d,u)=>(n(),r("li",{class:"border-b p-2 cursor-pointer",onClick:h=>l.selectOption(d),key:u},a(d[s.label]),9,wo))),128))])):o("",!0)])])])}var Co=x(_o,[["render",$o]]),Lo=Object.freeze(Object.defineProperty({__proto__:null,nsMenu:pe,nsSubmenu:$e,nsButton:Ee,nsLink:Pe,nsInput:Be,nsSelect:Je,nsCheckbox:bt,nsCrud:Sd,nsTableRow:qt,nsSpinner:zt,nsCrudForm:bs,nsTextarea:$s,nsField:hl,nsMultiselect:Pl,nsSwitch:z,nsDate:Bl,nsMediaInput:ar,nsCloseButton:br,nsIconButton:vr,nsCkeditor:de,nsTabs:$r,nsTabsItem:Tr,nsDatepicker:bo,nsDateTimePicker:I,nsNumpad:ae,nsNumpadPlus:ue,nsSelectAudio:ot,nsAvatar:Ud,nsDateRangePicker:N,nsNotice:oe,nsPaginate:ce,nsSearch:Co,nsPromptPopup:he,nsAlertPopup:fe,nsConfirmPopup:A,nsPOSLoadingPopup:me},Symbol.toStringTag,{value:"Module"}));export{$e as a,hl as b,Lo as c,br as d,bo as e,I as f,Pe as g,Ho as h,pe as n};
