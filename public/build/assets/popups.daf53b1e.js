import P from"./ns-alert-popup.f86a9d3e.js";import v from"./ns-pos-confirm-popup.679dbfbb.js";import w from"./ns-media.2c7d2365.js";import{n as g,a as x}from"./ns-orders-preview-popup.bfd5617d.js";import y from"./ns-pos-loading-popup.4b0b1afb.js";import{n as Q}from"./ns-procurement-quantity.7a868bb1.js";import"./currency.ec2e3443.js";import{b as C}from"./bootstrap.915ca5b6.js";import{_ as L}from"./lang.2d0006f0.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";import{b8 as c,b1 as n,aA as d,aB as t,ao as s,y as p,br as u,L as V,b6 as U,az as l,ay as q}from"./runtime-core.esm-bundler.aa7a54f6.js";import A from"./ns-prompt-popup.c09b192c.js";import{n as B}from"./ns-notice.04671f19.js";import"./runtime-dom.esm-bundler.68a12c3b.js";import"./vue-upload-component.1d25656a.js";import"./vue.runtime.esm-bundler.e8ef992f.js";import"./ns-numpad.287f1840.js";import"./index.es.f7e98ba1.js";const S={name:"ns-products-preview",computed:{product(){return this.$popupParams.product}},methods:{__:L,changeActiveTab(e){this.active=e,this.active==="units-quantities"&&this.loadProductQuantities()},loadProductQuantities(){this.hasLoadedUnitQuantities=!1,C.get(`/api/products/${this.product.id}/units/quantities`).subscribe(e=>{this.unitQuantities=e,this.hasLoadedUnitQuantities=!0})}},data(){return{active:"units-quantities",unitQuantities:[],hasLoadedUnitQuantities:!1}},mounted(){this.loadProductQuantities(),this.$popup.event.subscribe(e=>{e.event==="click-overlay"&&this.$popup.close()})}},O={class:"shadow-lg w-6/7-screen lg:w-3/5-screen h-6/7-screen lg:h-4/5-screen ns-box overflow-hidden flex flex-col"},N={class:"p-2 border-b ns-box-header text-primary text-center font-medium flex justify-between items-center"},z={class:"flex-auto overflow-y-auto ns-box-body"},T={class:"p-2"},j={key:0,class:"table ns-table w-full"},D={class:"p-1 border"},E={width:"150",class:"text-right p-1 border"},F={width:"150",class:"text-right p-1 border"},H={width:"150",class:"text-right p-1 border"},M={class:"p-1 border text-left"},R={class:"p-1 border text-right"},W={class:"p-1 border text-right"},G={class:"p-1 border text-right"};function I(e,r,K,X,a,o){const m=c("ns-close-button"),h=c("ns-spinner"),b=c("ns-tabs-item"),f=c("ns-tabs");return n(),d("div",O,[t("div",N,[t("div",null,s(o.__("Previewing :"))+" "+s(o.product.name),1),t("div",null,[p(m,{onClick:r[0]||(r[0]=i=>e.$popup.close())})])]),t("div",z,[t("div",T,[p(f,{active:a.active,onActive:r[1]||(r[1]=i=>o.changeActiveTab(i))},{default:u(()=>[p(b,{label:o.__("Units & Quantities"),identifier:"units-quantities"},{default:u(()=>[a.hasLoadedUnitQuantities?(n(),d("table",j,[t("thead",null,[t("tr",null,[t("th",D,s(o.__("Unit")),1),t("th",E,s(o.__("Sale Price")),1),t("th",F,s(o.__("Wholesale Price")),1),t("th",H,s(o.__("Quantity")),1)])]),t("tbody",null,[(n(!0),d(V,null,U(a.unitQuantities,i=>(n(),d("tr",{key:i.id},[t("td",M,s(i.unit.name),1),t("td",R,s(e.nsCurrency(i.sale_price)),1),t("td",W,s(e.nsCurrency(i.wholesale_price)),1),t("td",G,s(i.quantity),1)]))),128))])])):l("",!0),a.hasLoadedUnitQuantities?l("",!0):(n(),q(h,{key:1,size:"16",border:"4"}))]),_:1},8,["label"])]),_:1},8,["active"])])])])}var J=k(S,[["render",I]]);const _={nsOrderPreview:g,nsProductPreview:J,nsAlertPopup:P,nsConfirmPopup:v,nsPromptPopup:A,nsMediaPopup:w,nsProcurementQuantity:Q,nsOrdersRefund:x,nsSelectPopup:B,nsPOSLoadingPopup:y};for(let e in _)window[e]=_[e];
