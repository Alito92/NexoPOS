import{h,b as y,n as x}from"./bootstrap.ce8e0264.js";import{b as f,e as g}from"./components.6b1fa4e4.js";import{_ as D}from"./lang.2d0006f0.js";import{n as v}from"./currency.ec2e3443.js";import{_ as w}from"./plugin-vue_export-helper.21dcd24c.js";import{b1 as d,aA as c,aB as t,x as p,ao as e,K as m,b6 as u,b8 as C,aF as i}from"./runtime-core.esm-bundler.d70d6a40.js";import"./runtime-dom.esm-bundler.672daa05.js";import"./ns-alert-popup.98b34a4a.js";import"./ns-avatar-image.d3cedf0f.js";import"./index.es.f7e98ba1.js";import"./vue-upload-component.9d9b1493.js";import"./vue.runtime.esm-bundler.4d73455d.js";import"./ns-pos-confirm-popup.6352ee90.js";import"./ns-notice.cd816d9e.js";import"./ns-media.56e6d45d.js";import"./ns-numpad.5d6ab815.js";import"./ns-numpad-plus.e24b727a.js";import"./ns-pos-loading-popup.136099e6.js";import"./ns-paginate.a2759a76.js";import"./ns-prompt-popup.b91e58a9.js";const k={name:"ns-cash-flow",props:["store-logo","store-name"],mounted(){},components:{nsDatepicker:f,nsDateTimePicker:g},data(){return{startDate:h(),endDate:h(),report:new Object,ns:window.ns}},computed:{balance(){return Object.values(this.report).length===0?0:this.report.total_credit-this.report.total_debit},totalDebit(){return 0},totalCredit(){return 0}},methods:{__:D,nsCurrency:v,printSaleReport(){this.$htmlToPaper("report")},setStartDate(n){this.startDate=n.format("YYYY/MM/DD HH:mm")},setEndDate(n){this.endDate=n.format("YYYY/MM/DD HH:mm")},loadReport(){const n=this.startDate,o=this.endDate;y.post("/api/nexopos/v4/reports/cash-flow",{startDate:n,endDate:o}).subscribe({next:l=>{this.report=l,console.log(this.report)},error:l=>{x.error(l.message).subscribe()}})}}},B={id:"report-section",class:"px-4"},S={class:"flex -mx-2"},Y={class:"px-2"},j={class:"px-2"},F={class:"px-2"},H={class:"ns-button"},R=t("i",{class:"las la-sync-alt text-xl"},null,-1),M={class:"pl-2"},N={class:"px-2"},P={class:"ns-button"},T=t("i",{class:"las la-print text-xl"},null,-1),E={class:"pl-2"},L={id:"report",class:"anim-duration-500 fade-in-entrance"},V={class:"flex w-full"},A={class:"my-4 flex justify-between w-full"},O={class:"text-primary"},K={class:"pb-1 border-b border-dashed"},q={class:"pb-1 border-b border-dashed"},z={class:"pb-1 border-b border-dashed"},I=["src","alt"],J={class:"shadow rounded my-4"},Q={class:"ns-box"},U={class:"border-b ns-box-body"},W={class:"ns-table table w-full"},X={class:""},Z={class:"border p-2 text-left"},G={width:"150",class:"border border-error-secondary bg-error-primary p-2 text-right"},$={width:"150",class:"text-right border-success-secondary bg-success-primary border p-2"},tt={class:""},st={class:"p-2 border"},et=t("i",{class:"las la-arrow-right"},null,-1),rt={class:"p-2 border border-error-secondary bg-error-primary text-right"},ot={class:"p-2 border text-right border-success-secondary bg-success-primary"},at={class:"p-2 border"},nt=t("i",{class:"las la-arrow-right"},null,-1),dt={class:"p-2 border border-error-secondary bg-error-primary text-right"},ct={class:"p-2 border text-right border-success-secondary bg-success-primary"},lt={class:"font-semibold"},it={class:"p-2 border"},_t={class:"p-2 border border-error-secondary bg-error-primary text-right"},bt={class:"p-2 border text-right border-success-secondary bg-success-primary"},ht={class:"p-2 border"},pt={colspan:"2",class:"p-2 border text-right border-info-secondary bg-info-primary"};function mt(n,o,l,ut,a,s){const b=C("ns-date-time-picker");return d(),c("div",B,[t("div",S,[t("div",Y,[p(b,{date:a.startDate,onChange:o[0]||(o[0]=r=>s.setStartDate(r))},null,8,["date"])]),t("div",j,[p(b,{date:a.endDate,onChange:o[1]||(o[1]=r=>s.setEndDate(r))},null,8,["date"])]),t("div",F,[t("div",H,[t("button",{onClick:o[2]||(o[2]=r=>s.loadReport()),class:"rounded flex justify-between text-primary shadow py-1 items-center px-2"},[R,t("span",M,e(s.__("Load")),1)])])]),t("div",N,[t("div",P,[t("button",{onClick:o[3]||(o[3]=r=>s.printSaleReport()),class:"rounded flex justify-between text-primary shadow py-1 items-center px-2"},[T,t("span",E,e(s.__("Print")),1)])])])]),t("div",L,[t("div",V,[t("div",A,[t("div",O,[t("ul",null,[t("li",K,e(s.__("Date : {date}").replace("{date}",a.ns.date.current)),1),t("li",q,e(s.__("Document : Sale By Payment")),1),t("li",z,e(s.__("By : {user}").replace("{user}",a.ns.user.username)),1)])]),t("div",null,[t("img",{class:"w-24",src:n.storeLogo,alt:n.storeName},null,8,I)])])]),t("div",J,[t("div",Q,[t("div",U,[t("table",W,[t("thead",X,[t("tr",null,[t("th",Z,e(s.__("Account")),1),t("th",G,e(s.__("Debit")),1),t("th",$,e(s.__("Credit")),1)])]),t("tbody",tt,[(d(!0),c(m,null,u(a.report.creditCashFlow,(r,_)=>(d(),c("tr",{key:_},[t("td",st,[et,i(),t("strong",null,e(r.account),1),i(" : "+e(r.name),1)]),t("td",rt,e(s.nsCurrency(0)),1),t("td",ot,e(s.nsCurrency(r.total)),1)]))),128)),(d(!0),c(m,null,u(a.report.debitCashFlow,(r,_)=>(d(),c("tr",{key:_},[t("td",at,[nt,i(),t("strong",null,e(r.account),1),i(" : "+e(r.name),1)]),t("td",dt,e(s.nsCurrency(r.total)),1),t("td",ct,e(s.nsCurrency(0)),1)]))),128))]),t("tfoot",lt,[t("tr",null,[t("td",it,e(s.__("Sub Total")),1),t("td",_t,e(s.nsCurrency(a.report.total_debit?a.report.total_debit:0)),1),t("td",bt,e(s.nsCurrency(a.report.total_credit?a.report.total_credit:0)),1)]),t("tr",null,[t("td",ht,e(s.__("Balance")),1),t("td",pt,e(s.nsCurrency(s.balance)),1)])])])])])])])])}var Et=w(k,[["render",mt]]);export{Et as default};
