import P from"./ns-alert-popup-187fdda5.js";import v from"./ns-pos-confirm-popup-16fa8fc0.js";import w from"./ns-media-837a9b75.js";import{n as x,a as g}from"./ns-orders-preview-popup-0a121a40.js";import y from"./ns-pos-loading-popup-83ab0254.js";import{n as Q}from"./ns-procurement-quantity-ff9aeb94.js";import{n as C}from"./currency-4e1ba4e0.js";import{n as k}from"./bootstrap-32fd8995.js";import{_ as L}from"./lang-643e0c49.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";import{r as c,o as i,c as d,a as t,t as o,f as u,w as p,F as U,b as q,e as l,g as S}from"./runtime-core.esm-bundler-a9e64527.js";import A from"./ns-prompt-popup-fd8a595f.js";import{n as B}from"./ns-notice-a19ab992.js";import"./vue-upload-component-37fc7a3b.js";import"./vue.runtime.esm-bundler-1bae6fe8.js";import"./runtime-dom.esm-bundler-eae6104b.js";import"./ns-numpad-01515d62.js";import"./print-3c0412fa.js";import"./index.es-a0f39e76.js";const O={name:"ns-products-preview",computed:{product(){return this.$popupParams.product}},methods:{__:L,nsCurrency:C,changeActiveTab(e){this.active=e,this.active==="units-quantities"&&this.loadProductQuantities()},loadProductQuantities(){this.hasLoadedUnitQuantities=!1,k.get(`/api/products/${this.product.id}/units/quantities`).subscribe(e=>{this.unitQuantities=e,this.hasLoadedUnitQuantities=!0})}},data(){return{active:"units-quantities",unitQuantities:[],hasLoadedUnitQuantities:!1}},mounted(){this.loadProductQuantities(),this.$popup.event.subscribe(e=>{e.event==="click-overlay"&&this.$popup.close()})}},N={class:"shadow-lg w-6/7-screen lg:w-3/5-screen h-6/7-screen lg:h-4/5-screen ns-box overflow-hidden flex flex-col"},F={class:"p-2 border-b ns-box-header text-primary text-center font-medium flex justify-between items-center"},T={class:"flex-auto overflow-y-auto ns-box-body"},j={class:"p-2"},z={key:0,class:"table ns-table w-full"},D={class:"p-1 border"},E={width:"150",class:"text-right p-1 border"},H={width:"150",class:"text-right p-1 border"},M={width:"150",class:"text-right p-1 border"},R={class:"p-1 border text-left"},W={class:"p-1 border text-right"},G={class:"p-1 border text-right"},I={class:"p-1 border text-right"};function J(e,r,X,Y,a,s){const m=c("ns-close-button"),h=c("ns-spinner"),f=c("ns-tabs-item"),b=c("ns-tabs");return i(),d("div",N,[t("div",F,[t("div",null,o(s.__("Previewing :"))+" "+o(s.product.name),1),t("div",null,[u(m,{onClick:r[0]||(r[0]=n=>e.$popup.close())})])]),t("div",T,[t("div",j,[u(b,{active:a.active,onActive:r[1]||(r[1]=n=>s.changeActiveTab(n))},{default:p(()=>[u(f,{label:s.__("Units & Quantities"),identifier:"units-quantities"},{default:p(()=>[a.hasLoadedUnitQuantities?(i(),d("table",z,[t("thead",null,[t("tr",null,[t("th",D,o(s.__("Unit")),1),t("th",E,o(s.__("Sale Price")),1),t("th",H,o(s.__("Wholesale Price")),1),t("th",M,o(s.__("Quantity")),1)])]),t("tbody",null,[(i(!0),d(U,null,q(a.unitQuantities,n=>(i(),d("tr",{key:n.id},[t("td",R,o(n.unit.name),1),t("td",W,o(s.nsCurrency(n.sale_price)),1),t("td",G,o(s.nsCurrency(n.wholesale_price)),1),t("td",I,o(n.quantity),1)]))),128))])])):l("",!0),a.hasLoadedUnitQuantities?l("",!0):(i(),S(h,{key:1,size:"16",border:"4"}))]),_:1},8,["label"])]),_:1},8,["active"])])])])}const K=V(O,[["render",J]]),_={nsOrderPreview:x,nsProductPreview:K,nsAlertPopup:P,nsConfirmPopup:v,nsPromptPopup:A,nsMediaPopup:w,nsProcurementQuantity:Q,nsOrdersRefund:g,nsSelectPopup:B,nsPOSLoadingPopup:y};for(let e in _)window[e]=_[e];
